import{_ as b}from"./Footer.1029d3e7.js";import{_ as k}from"./Blocks.3f2dd3d9.js";import{u as y,s as w,_ as x}from"./useHeadSeo.a1324965.js";import{f as M,w as B,p as P,j as T,u as s,o as V,g as C,h as H,i as N,a as h,z as S,b as $}from"./entry.812b0fd5.js";import{d as A,b as q}from"./usePageTransition.5a512643.js";import{u as v}from"./usePreviewToken.c7f4bad4.js";import{u as R}from"./useErrorPage.b4ce10c3.js";import"./BlockMath.vue.7ba4587d.js";import"./Listing.ae844498.js";import"./useResourceIndexData.e85a8aa2.js";import"./usePageLoading.c930199d.js";import"./lang.4a9029fb.js";const j={class:"home-blocks"},X={__name:"index",async setup(z){var _,f;let r,m;const{$twill:c,$helpers:u}=M(),g=A(),{data:e,error:p}=([r,m]=B(()=>q("homepage",()=>{const o=c.find("homepages");return v().value&&o.query("preview",v().value),o.fetch()},{transform:o=>c.transform(o).pop()})),r=await r,m(),r);R({data:e,error:p}),g.value="simple";const l=P(()=>{var o,i,t,n,a;return{blendMode:((o=e==null?void 0:e.value)==null?void 0:o.hero.blendMode)??"default",image:u.media.imageByRole(e==null?void 0:e.value,"heroImage","default"),links:(i=e==null?void 0:e.value)==null?void 0:i.links,poster:u.media.imageByRole(e==null?void 0:e.value,"heroPoster","default"),title:(t=e==null?void 0:e.value)==null?void 0:t.description,type:(n=e==null?void 0:e.value)==null?void 0:n.hero.assetType,video:((a=e.value.files.heroVideoSrc)==null?void 0:a.length)&&e.value.files.heroVideoSrc[0].originalSrc}});return y({title:(_=e.value)==null?void 0:_.title,seo:(f=e.value)==null?void 0:f.seo}),T(()=>{w(e==null?void 0:e.value)}),(o,i)=>{const t=b,n=k,a=x;return s(p)?N("",!0):(V(),C(a,{key:0,id:"home"},{default:H(()=>{var d;return[h(t,S({name:"Home"},s(l),{differenceMode:s(l).blendMode&&s(l).blendMode==="difference",template:"Home",theme:s(e).colorTheme}),null,16,["differenceMode","theme"]),$("div",j,[h(n,{blocks:(d=s(e).blocks)==null?void 0:d.default,brand:!0},null,8,["blocks"])])]}),_:1}))}}};export{X as default};
