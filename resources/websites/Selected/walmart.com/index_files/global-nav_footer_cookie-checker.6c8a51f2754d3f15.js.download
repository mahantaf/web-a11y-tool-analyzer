"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71160],{877060:function(e,n,o){o.r(n),o.d(n,{default:function(){return f}});var t=o(84174),r=o(35968);const a={type:"query",name:"logout",query:"query logout{logout{errors{...LogoutErrorFragment}success}}fragment LogoutErrorFragment on IdentityLogoutError{code message}",hash:"14c95ff6999022b0707fb6f45c8563cda3357de88b59c7a4f184efc6b9de0539"},c=e=>{const n=(o=(0,t.Z)(),{queryKey:["logout-query",c={}],queryFn:()=>o.getGqlFetch()(a,c)});var o,c;return(0,r.aM)({...n,config:e})};var u=o(752406);o(330567);const s={mart:"B2C",bu:"WALMART-US",host:"www.walmart.com"},i=(0,u.createContext)(s);i.displayName="IdentityNextTenantContext";var l=o(517487),m=o(28852),g=o(619295),d=o(442794);var f=()=>{var e,n;const{mart:o}=(0,u.useContext)(i),t=()=>{(0,m.cM)(["info","ui","signout_error_in_query_result"],{type:"log",message:"signout_error_in_query"})},{refetch:r}=c({enabled:!1,cacheTime:0,refetchOnWindowFocus:!1,refetchOnMount:!1,onSuccess:e=>{var n;const r=e.data;null!=r&&null!=(n=r.logout)&&n.success?(s(),(0,m.cM)(["info","ui","sign_out_b2b_user","force logout b2b user"],{type:"log",message:"sign_out_b2b_user"}),window.location.assign((0,l.p)(o,"/account/login"))):t()},onError:t}),a="true"===(0,d.ej)("b2b-org")||!1,s=()=>{(0,d.nJ)("b2b-org",{domain:".walmart.com"})},f="b2b"!==(null==(e=(0,g.B)())||null==(n=e.publicRuntimeConfig)?void 0:n.vid);return(0,u.useEffect)((()=>{f&&a&&r()}),[f,a,r]),null}},517487:function(e,n,o){o.d(n,{p:function(){return a}});var t=o(977357),r=o(992980);const a=(e,n)=>{const o=["/account/signin","/tu-cuenta/iniciar-sesion","/account/signin/otponly","/account/login","/account/logout","/account/signin/withotpchoice","/account/signin/withpassword","/account/signup","/tu-cuenta/crear-cuenta","/account/verifyitsyou","/account/verifyyouraccount","/account/forgotpassword","/account/resetpassword","/account/sessiontimeout","/account/letsverifylater","/account/tryanotherway","/account/skipresetpassword","/account/sendnewcode","/ouvrir-une-session","/creer-compte","/sign-in","/create-account"],{vidParam:a,modeParam:u,envParam:s,scopeParam:i,redirectUriParam:l,clientIdParam:m,nonceParam:g,stateParam:d,authFrameNonceParam:f,guestCheckoutParam:h,svpParam:p,hhfParam:v,dpsParam:y,showGXOParam:b,triggerPointParam:w,versionParam:P}=(0,t.vl)();let _="";if(i&&l&&m)_=c(n,i,l,m,g,d);else{if("/account/login"===n){var C,U,q;const{signInPathname:e}=(null==(C=(0,r.yu)())||null==(U=C.publicRuntimeConfig)||null==(q=U.identity)?void 0:q.context)||r.Of;n=e}const t=n+"?vid="+(a||("B2C"===e?"oaoh":e.toLowerCase()))+"&tid=0"+(u?"&mode="+u:"")+(b?"&showGXO="+b:"")+(s?"&env="+s:"")+(f?"&authFrameNonce="+f:"")+(p?"&svp="+p:"")+(h?"&sgc="+h:"")+(v?"&hhf="+v:"")+(y?"&dps="+y:"")+(w?"&tp="+w:"")+(P?"&v="+P:""),c=new URLSearchParams(location.search).get("returnUrl"),i=c?"&returnUrl="+encodeURIComponent(c):"&returnUrl="+encodeURIComponent("/");if(o.includes(location.pathname))return""+t+i+location.hash;const l=""+location.pathname+location.search+location.hash;_=t+"&returnUrl="+encodeURIComponent(l)}return _},c=(e,n,o,t,r,a)=>""+(e+"?"+("scope="+n)+("&redirect_uri="+encodeURIComponent(o))+("&client_id="+t)+(r?"&nonce="+r:"")+(a?"&state="+a:""))}}]);