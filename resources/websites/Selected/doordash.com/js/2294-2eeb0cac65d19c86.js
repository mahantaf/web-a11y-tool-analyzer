"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2294],{43476:function(a,b,c){c.d(b,{"$C":function(){return q},Ee:function(){return u},b4:function(){return t},"l$":function(){return s},lk:function(){return r},pC:function(){return v},xX:function(){return o}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  overflow-x: auto;\n\n  ::-webkit-scrollbar {\n    ","\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n      position: relative;\n    "]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  display: flex;\n\n  ","\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  overflow-y: hidden;\n  overflow-x: auto;\n  scroll-behavior: smooth;\n\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n      position: absolute;\n      top: 0;\n      height: 100%;\n      z-index: 1;\n      pointer-events: none;\n\n      &:first-child {\n        padding-right: ","px;\n        padding-left: ","px;\n        left: 0;\n        background: linear-gradient(\n          270deg,\n          rgba(255, 255, 255, 0) 0%,\n          rgba(255, 255, 255, 0.8) 40%,\n          rgba(255, 255, 255, 1) 100%\n        );\n      }\n\n      &:last-child {\n        padding-left: ","px;\n        padding-right: ","px;\n        right: 0;\n        background: linear-gradient(\n          90deg,\n          rgba(255, 255, 255, 0) 0%,\n          rgba(255, 255, 255, 0.8) 40%,\n          rgba(255, 255, 255, 1) 100%\n        );\n        justify-content: flex-end;\n      }\n    "]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  width: ",";\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  ",";\n\n  &:first-child {\n    margin-right: ","px;\n  }\n\n  &:last-child {\n    margin-left: ","px;\n  }\n\n  ","\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  border-radius: 50%;\n  width: ","px;\n  height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid ",";\n  transition: all 0.2s;\n  pointer-events: auto;\n\n  ","\n\n  ","\n\n  ","\n\n  &:hover {\n    border-color: ",";\n  }\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)(["\n  border-radius: 50%;\n  width: ","px;\n  height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ",";\n"]);return n=function(){return a},a}var o=88,p=30+e.Spacing.XxxSmall,q=f.default.div.withConfig({componentId:"sc-3c721ac3-0"})(g(),function(a){return a.hideScrollBar&&"display: none"}),r=f.default.div.withConfig({componentId:"sc-3c721ac3-1"})(i(),function(a){return!!a.hasFades&&(0,f.css)(h())}),s=f.default.div.withConfig({componentId:"sc-3c721ac3-2"})(j()),t=f.default.div.withConfig({componentId:"sc-3c721ac3-3"})(l(),function(a){return a.hasFades?"".concat(o,"px"):"".concat(40,"px")},function(a){return a.isHidden&&"visibility: hidden;"},e.Spacing.XSmall,e.Spacing.XSmall,function(a){return!!a.hasFades&&(0,f.css)(k(),e.Spacing.XSmall,e.Spacing.XxSmall,e.Spacing.XSmall,e.Spacing.XxSmall)}),u=f.default.div.withConfig({componentId:"sc-3c721ac3-4"})(m(),30,30,e.Colors.BorderPrimary,function(a){return!!a.arrowIconWithBgColor&&"\n    background-color: ".concat(e.Colors.ButtonTertiaryBackground,";\n    \n    &:hover {\n      background-color: ").concat(e.Colors.ButtonPlainBackgroundHovered,";\n      border-color: transparent;\n    };\n  ")},function(a){var b=a.arrowIconWithBgColor,c=a.hasFades;return!!b&&!!c&&"\n    &:hover {\n      background-color: ".concat(e.Colors.ButtonPlainBackgroundHovered,";\n      border-color: transparent;\n    };\n  ")},function(a){return!!a.lightArrowIcon&&"\n    background-color: ".concat(e.Colors.BackgroundPrimary,";\n    box-shadow: ").concat(e.Shadows.Small,";\n    \n    &:hover {\n      background-color: ").concat(e.Colors.ButtonFabBackgroundHovered,";\n      border-color: transparent;\n    };\n  ")},function(a){var b=a.arrowIconWithBgColor,c=a.lightArrowIcon;return b||c?"transparent":e.Colors.BorderSecondary}),v=f.default.div.withConfig({componentId:"sc-3c721ac3-5"})(n(),p,p,e.Colors.ButtonPlainBackground)},30050:function(a,b,c){c.d(b,{L5:function(){return j},WF:function(){return k},dd:function(){return l}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  ","\n  padding-bottom: ",";\n  height: ",";\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  height: 100%;\n  width: 100%;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  ","\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  /* Safari 3.1.2 fix. Safari has stacking order bugs, this forces a fix */\n  transform: translateZ(0);\n\n  ","\n"]);return i=function(){return a},a}var j=f.default.div.withConfig({componentId:"sc-58dacc1e-0"})(g(),function(a){return a.withHeightSpecified?"position: relative;":""},function(a){if(!a.withHeightSpecified)return"";if(a.aspectRatio){var b=a.aspectRatio.split(":");return"calc(100% * ".concat(b[1]," / ").concat(b[0],")")}return a.imageHeight?a.imageHeight:""},function(a){return a.fullHeight?"100%":"auto"}),k=f.default.picture.withConfig({componentId:"sc-58dacc1e-1"})(h()),l=f.default.img.withConfig({componentId:"sc-58dacc1e-2"})(i(),function(a){return a.withHeightSpecified?"position: absolute;":""},function(a){return a.withBorderRadius?"border-radius: ".concat(e.BorderRadius.Small,"px"):""})},88660:function(a,b,c){c.d(b,{Z:function(){return h}});var d=c(85893);c(67294);var e=c(45481),f=c(30050),g=c(6057),h=function(a){var b=a.url,c=a.aspectRatio,h=a.imageHeight,i=a.cssAllMediaWidth,j=a.desktopCssWidth,k=a.tabletCssWidth,l=a.mobileCssWidth,m=a.fallbackWidth,n=a.altText,o=a.ariaHidden,p=a.withBorderRadius,q=a.fullHeight;if(""===b)return null;var r=i||(0,g.yS)(j,k,l)||"",s=(0,g.mY)(b),t=(0,e.O1)(b,void 0===m?600:m),u=!!(c||h);return(0,d.jsx)(f.L5,{aspectRatio:c,imageHeight:h,withHeightSpecified:u,"data-testid":"OptimizedImage",fullHeight:q,children:(0,d.jsxs)(f.WF,{children:[(0,d.jsx)("source",{sizes:r,srcSet:s}),(0,d.jsx)(f.dd,{withHeightSpecified:u,withBorderRadius:p,sizes:r,alt:o?"":void 0===n?"":n,"aria-hidden":o,srcSet:s,src:t})]})})}},94844:function(a,b,c){c.d(b,{m:function(){return e}});var d=c(34521),e=function(){var a=(0,d.pm)().displayToast;return{copyToClipboard:function(b,c){navigator.clipboard.writeText(b),c&&a({text:c})}}}},45937:function(a,b,c){c.d(b,{A:function(){return j},Ay:function(){return k},He:function(){return l},Nt:function(){return o},Ou:function(){return v},Rh:function(){return A},Vb:function(){return x},WR:function(){return n},af:function(){return w},be:function(){return p},gs:function(){return t},i4:function(){return r},kf:function(){return m},le:function(){return z},mE:function(){return B},n4:function(){return u},pM:function(){return q},pU:function(){return s},sE:function(){return y}});var d=c(14924),e=c(95382),f=c(99360),g=c(3532),h=c(64173),i=c(12482);function j(a){return a?"active":"none"}function k(a){var b,c;return(b={},(0,d.Z)(b,f.K.homePage,"standard"),(0,d.Z)(b,f.K.accountPayment,"account_payment"),(0,d.Z)(b,f.K.cmsBanner,"monthly_potential_savings"),(0,d.Z)(b,f.K.manageSubscription,"manage_subscription"),(0,d.Z)(b,f.K.userMenuUpsell,"user_menu_upsell"),(0,d.Z)(b,f.K.userMenu,"user_menu"),(0,d.Z)(b,f.K.postOrderRefund,"post_order_refund"),b)[(0,e.Ru)(a.entryPoint)]||"unknown"}var l=function(a){var b=a.planId,c=a.entryPoint,d=a.trialId,e=a.savingsValue,f=a.planSelected,h=a.isNewLandingPage,i=a.isRedeemCode;return(0,g.ZP)("subscription_modal_action_purchase",{plan_id:b,trial_id:d,message_type:c,savings_value:e,plan_selected:f,is_new_landing_page:h,is_redeem_code:i})},m=function(a){var b=a.planId,c=a.entryPoint,d=a.trialId,e=a.savingsValue,f=a.campaignId,h=a.isNewLandingPage,i=a.upsellType,j=a.paymentMethod,k=a.isRedeemCode;return(0,g.ZP)("subscription_modal_purchase_success",{plan_id:b,trial_id:d,message_type:c,savings_value:e,campaign_id:f,is_new_landing_page:h,upsell_type:i,payment_method:j,is_redeem_code:k})},n=function(a){var b=a.planId,c=a.entryPoint,d=a.trialId,e=a.savingsValue,f=a.isNewLandingPage,h=a.upsellType,i=a.paymentMethod,j=a.isRedeemCode;return(0,g.ZP)("subscription_modal_purchase_failure",{plan_id:b,trial_id:d,message_type:c,savings_value:e,is_new_landing_page:f,upsell_type:h,payment_method:i,is_redeem_code:j})},o=function(a){var b=a.planId,c=a.entryPoint,d=a.hasActiveSubscription;(0,g.ZP)("subscription_landing_page_add_card_view",{plan_id:b,message_type:c,subscription_status:j(void 0!==d&&d)})},p=function(a){var b=a.planId,c=a.entryPoint,d=a.hasActiveSubscription;(0,g.ZP)("subscription_landing_page_add_card_click",{plan_id:b,message_type:c,subscription_status:j(void 0!==d&&d)})},q=function(a){var b=a.entryPoint,c=a.hasActiveSubscription,d=a.savingsValue;(0,g.ZP)("subscription_modal_action_open",{message_type:b,subscription_status:j(c),savings_value:d})},r=function(a){var b=a.hasActiveSubscription,c=a.planId,d=a.entryPoint,e=a.savingsValue,f=a.campaignId,h=a.defaultPlanId,i=a.planIds,k=a.landingPageType,l=a.isNewLandingPage,m=a.marketingTypes,n=a.isRedeemCode;return(0,g.ZP)("subscription_page_view",{plan_id:c,message_type:d,subscription_status:j(b),savings_value:e,campaign_id:f,default_plan_id:h,plan_ids:i,landing_page_type:k,is_new_landing_page:l,marketing_types:m,is_redeem_code:n})},s=function(a){var b=a.eventName,c=a.messageType,d=a.savingsValue,e=a.planId,f=a.upsellType,h=a.upsellLocation,i=a.email,j=a.trialId,k=a.paymentMethod,l=a.hasPaymentMethod,m=a.orderCartId,n=a.dashpassPreviewEnabled;return(0,g.ZP)(b,{message_type:c,savings_value:d,plan_id:e,upsell_type:f,upsell_location:h||null,email:i,trial_id:j,payment_method:k,has_payment_method:l,order_cart_id:m||null,dash_pass_preview_is_enabled:n})},t=function(a){var b=a.planId,c=a.email;return s({eventName:h.W1.CHECKOUT_PAGE_PLACE_ORDER_AND_RESUME,messageType:h.UX.RESUME,planId:b,email:c})},u=function(a){var b=a.consumerId,c=a.subscriptionId,d=a.planId,e=a.isSuccess,f=a.isResumeAndSubmitOrderFlow;return(0,g.ZP)(e?h.W1.CHECKOUT_PAGE_RESUME_SUCCESS:h.W1.CHECKOUT_PAGE_RESUME_FAILURE,{consumer_id:b,subscription_id:c,plan_id:d,timestamp:new Date().getTime(),message_type:h.UX.RESUME,is_resume_and_submit_order_flow:f})},v={lwaEntryPointInit:"dashpass_partner_entry_point_init",lwaConsentDenied:"dashpass_partner_lwa_consent_denied",redirectToLWA:"dashpass_partner_redirect_to_lwa",redirectToAmazon:"dashpass_partner_redirect_to_amazon"},w=function(a){return(0,i.by)(a)},x=function(a){return(0,g.ZP)("w_dashpass_subtotal_update_view",(0,i.by)(a))},y=function(a){return(0,g.ZP)("w_dashpass_subtotal_update_click",(0,i.by)(a))},z=function(a){return(0,g.ZP)("dashpass_ui_flow_screen_displayed",(0,i.by)(a))},A=function(a){return(0,g.ZP)("dashpass_ui_flow_screen_user_feedback",(0,i.by)(a))},B=function(a){return(0,g.ZP)("dashpass_ui_flow_screen_action_selected",(0,i.by)(a))}},95123:function(a,b,c){c.d(b,{DD:function(){return o},I2:function(){return u},V7:function(){return p},gm:function(){return n},kG:function(){return t},kz:function(){return r},rg:function(){return s},tD:function(){return q}});var d=c(7297),e=c(87379),f=c(81865),g=c(10071);function h(){var a=(0,d.Z)(["\n  background: url(",") left / auto\n    ","px\n    no-repeat;\n  height: ","px;\n  width: auto;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  max-width: ","px;\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  max-width: ","px;\n  margin: 0px auto;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  a,\n  a:visited {\n    color: inherit;\n  }\n  p {\n    margin: 0;\n  }\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  background: url(",") right / auto 66% no-repeat;\n  margin-top: -75px;\n  margin-bottom: -150px;\n  z-index: 1;\n  flex: 6;\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  flex: 8;\n"]);return m=function(){return a},a}var n=600,o=500,p=e.default.div.withConfig({componentId:"sc-65e5638f-0"})(h(),function(a){return a.logoUrl},function(a){return a.isMobile||a.isTablet?20:28},function(a){return a.isMobile||a.isTablet?20:28}),q=e.default.div.withConfig({componentId:"sc-65e5638f-1"})(i(),300),r=e.default.div.withConfig({componentId:"sc-65e5638f-2"})(j(),470),s=(0,e.default)(f.D).withConfig({componentId:"sc-65e5638f-3"})(k()),t=e.default.div.withConfig({componentId:"sc-65e5638f-4"})(l(),function(a){return a.heroUrl}),u=(0,e.default)(g.StackChildren).withConfig({componentId:"sc-65e5638f-5"})(m())},69208:function(a,b,c){var d=c(7297),e=c(44119),f=c.n(e);function g(){var a=(0,d.Z)(["\n  mutation grantFreeDashpass($numValue: Int, $reason: GrantFreeDashpassReason) {\n    grantFreeDashpass(numValue: $numValue, reason: $reason)\n  }\n"]);return g=function(){return a},a}var h=f()(g());b.Z=h},73402:function(a,b,c){var d=c(7297),e=c(44119),f=c.n(e);function g(){var a=(0,d.Z)(["\n  mutation unsubscribeDashPass {\n    unsubscribeDashPass {\n      id\n      daysRemaining\n      calloutInfo {\n        description\n        title\n      }\n    }\n  }\n"]);return g=function(){return a},a}var h=f()(g());b.Z=h},56775:function(a,b,c){c.d(b,{Z:function(){return B}});var d=c(26042),e=c(69396),f=c(10253),g=c(59637),h=c(29815),i=c(85893),j=c(53698),k=c(95899),l=c(10071),m=c(67294),n=c(11698),o=c(33550),p=c(81236),q=c(1968),r=c(63292),s=c(12691),t=c(70114),u=c(47642),v=c(58404),w=c(45937),x=c(16225),y=function(a){var b=a.text,c=a.highlighted;return(0,i.jsxs)(l.StackChildren,{size:l.StackChildren.Sizes.XxxxSmall,"data-anchor-id":"".concat(x.F2.UIFlowSection,"-line-item"),children:[(0,i.jsxs)(l.InlineChildren,{justifyContent:l.InlineChildren.Justification.SpaceBetween,children:[(0,i.jsx)(l.Text,{"data-testid":"line-item-label",styles:l.Text.Styles.Body1,color:c?l.Text.Colors.TextHighlight:l.Text.Colors.TextPrimary,children:b[0]}),(0,i.jsx)(l.Text,{"data-testid":"line-item-value",styles:c?l.Text.Styles.Body1Emphasis:l.Text.Styles.Body1,color:c?l.Text.Colors.TextHighlight:l.Text.Colors.TextPrimary,children:b[1]})]}),(0,i.jsx)(l.Text,{"data-testid":"line-item-subtitle",styles:l.Text.Styles.Body1,color:l.Text.Colors.TextSecondary,children:b[2]})]})},z=c(70573),A=c(47715),B=function(a){var b,c,B,C=a.flow,D=a.onClose,E=void 0===D?function(){}:D,F=a.trackingParams,G=void 0===F?function(){return{}}:F,H=a.refetch,I=a.entryPoint,J=(0,f.Z)(m.useState(-1),2),K=J[0],L=J[1],M=(0,f.Z)(m.useState(),2),N=M[0],O=M[1],P=(0,f.Z)(m.useState(),2),Q=P[0],R=P[1],S=(0,f.Z)(m.useState([C]),2),T=S[0],U=S[1],V=(0,f.Z)(m.useState(),2),W=V[0],X=V[1],Y=(0,f.Z)(m.useState(""),2),Z=Y[0],$=Y[1],_=(0,f.Z)(m.useState(),2),aa=_[0],ab=_[1],ac=(0,f.Z)(m.useState(),2),ad=ac[0],ae=ac[1],af=(0,j.Z)().experience,ag=(0,n.ac)().isMobile,ah=(0,s.tv)().push,ai=(0,z.useDVSBoolean)(A.PR.fixDashPassWebCancelMultiSupportButton,!1);m.useEffect(function(){N||(null==C?void 0:C.screenDisplayType)!==r.Id.MODAL?N||(null==C?void 0:C.screenDisplayType)!==r.Id.REGULAR||O(C):X(C)},[C,N]);var aj=(0,e.Z)((0,d.Z)({},G()),{screenId:(null==W?void 0:W.screenIdentifier)||(null==N?void 0:N.screenIdentifier)}),ak=function(){Boolean(Z)&&(0,w.Rh)((0,e.Z)((0,d.Z)({},aj),{userFeedback:Z}))},al=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a&&(0,w.mE)((0,d.Z)((0,e.Z)((0,d.Z)({},aj),{actionIdentifier:a}),b))};m.useEffect(function(){(0,w.le)((0,d.Z)({},aj))});var am=function(a,b,c){if(!a)return null;var d,e,f,g,j,m=null!==(e=null===(d=a.contentList)||void 0===d?void 0:d.reduce(function(a,b){return b?(0,h.Z)(a).concat([b]):a},[]))&&void 0!==e?e:[];switch(a.type){case r.zv.IMAGE:case r.zv.CENTERED_IMAGE:var n=a.type===r.zv.CENTERED_IMAGE?r.g1.CENTER:a.alignment;return(0,i.jsx)(v.oI,{url:m[0],alignment:n});case r.zv.HEADER_IMAGE:return(0,i.jsx)(v.h4,{content:m});case r.zv.BADGE:return(0,i.jsx)(v.m9,{content:m,isModal:b});case r.zv.TEXT_INPUT:return(0,i.jsx)(v.oi,{placeholderString:m[0],onUpdate:$});case r.zv.BULLETED_LIST_ITEM:case r.zv.BOLDED_TITLE:case r.zv.TERMS_AND_CONDITIONS:case r.zv.TEXT:var p=a.type===r.zv.BULLETED_LIST_ITEM?"• ":""+m[0];return(0,i.jsx)(v._1,{isModal:b,text:p,alignment:a.alignment,isTitle:a.type===r.zv.BOLDED_TITLE},c);case r.zv.ITEM_IMAGE:return(0,i.jsx)(v.H,{text:m[0],url:m[1]||"",isLastInList:c+1===(null==N?void 0:null===(f=N.sectionsList)||void 0===f?void 0:f.length)});case r.zv.RADIO_BUTTON:return(0,i.jsx)(v.EU,{text:m[0],isSelected:c===K,isLastInList:c+1===(null==N?void 0:null===(g=N.sectionsList)||void 0===g?void 0:g.length),setSelectedReason:function(){var b;L(c),R(null==a?void 0:null===(b=a.action)||void 0===b?void 0:b.screen)}},c);case r.zv.PRICE_LINE_ITEM:return(0,i.jsx)(y,{text:m});case r.zv.PRICE_LINE_ITEM_HIGHLIGHTED:return(0,i.jsx)(y,{highlighted:!0,text:m});case r.zv.DIVIDER_RULER:return(0,i.jsx)(k.default,{type:k.default.Types.FullBorder,verticalMargin:l.Spacing.Small});case r.zv.DIVIDER_SPACER:return(0,i.jsx)(o.kM,{});case r.zv.TEXT_WITH_SEPARATE_LABEL_OR_ACTION:return(0,i.jsx)(v.$5,{section:a,entryPoint:I,actionOnClick:function(a){return al(null!==(j=null==a?void 0:a.type)&&void 0!==j?j:"UNKNOWN-ACTION-TYPE")}});default:return null}},an=function(a,b){if(!a)return null;var c,d=null!==(c=a.type)&&void 0!==c?c:"";switch(d){case r.fr.CONTINUE_CANCEL:return(0,i.jsx)(u.HL,{actionDisplayType:(null==a?void 0:a.actionDisplayType)||"",label:a.label,onClose:function(){X(null)},onComplete:function(){al(r.fr.CONTINUE_CANCEL),O(a.screen),R(null)},trackingParams:G});case r.fr.CONTINUE:return(0,p.UY)(function(){var b;al(r.fr.CONTINUE),(null===(b=a.screen)||void 0===b?void 0:b.screenDisplayType)!==r.Id.MODAL&&a.screen?(U(T.concat([a.screen])),O(a.screen),R(null)):a.screen&&X(a.screen)},a);case r.fr.ROOT:return(0,p.UY)(function(){al(r.fr.ROOT),E(r.fr.ROOT),ak(),H&&H()},a);case r.fr.VIEW_RESTAURANTS:return(0,p.UY)(function(){al(r.fr.VIEW_RESTAURANTS),ak(),ah(t.ZP.home)},a);case r.fr.MANAGE_DASHPASS:return(0,p.UY)(function(){al(r.fr.MANAGE_DASHPASS),ak(),ah(t.ZP.manageSubscription)},a);case r.fr.OPEN_DEEPLINK:return(0,p.UY)(function(){var b=(0,p.OS)(a);al(r.fr.OPEN_DEEPLINK,{deeplink_url:b}),b&&(window.location.href=b)},a);case r.fr.UNKOWN:return(0,p.UY)(function(){al(r.fr.UNKOWN),(null==N?void 0:N.screenIdentifier)===r.no.SURVEY&&ak(),O(Q),U(function(a){return(0,h.Z)(a).concat([Q,])}),R(null)},a);case r.fr.BACK:return(0,p.UY)(function(){al(r.fr.BACK),1===T.length&&(E(r.fr.BACK),H&&H()),b.screenDisplayType===r.Id.MODAL?X(null):(O(T.pop()),U(T.splice(0,T.length-1)))},a);case r.fr.SUPPORT_CHAT:return(0,p.UY)(function(){al(r.fr.SUPPORT_CHAT),window.location.href=(0,p.tf)(af)},a);case r.fr.PAUSE:return(0,i.jsx)(u.A7,{actionDisplayType:(null==a?void 0:a.actionDisplayType)||"",label:a.label,onComplete:function(){al(r.fr.PAUSE),E(r.fr.PAUSE),H&&H()},trackingParams:G});case r.fr.GRANT_FREE:return(0,i.jsx)(u.EC,{actionDisplayType:(null==a?void 0:a.actionDisplayType)||"",label:a.label,onComplete:function(){al(r.fr.GRANT_FREE),a.screen&&X(null==a?void 0:a.screen)},trackingParams:G});case r.fr.SEND_SHARED_DASHPASS_MEMBERSHIP_LINK:return(0,i.jsx)(u.mb,{action:a,onClick:function(){return al(d)}});case r.fr.INVALIDATE_SHARED_DASHPASS_MEMBERSHIP:return(0,i.jsx)(u.Qk,{action:a,onClick:function(){return al(d)}});case r.fr.SUBSCRIBE:return(0,i.jsx)(u.Y_,{action:a,onClose:function(){return E(d)},onClick:function(){return al(d)}});default:return null}},ao=function(a){var b,c,d=(null==a?void 0:a.screenDisplayType)===r.Id.MODAL;return null!==(c=null==a?void 0:null===(b=a.sectionsList)||void 0===b?void 0:b.reduce(function(a,b,c){var e=am(b,d,c);return e?(0,h.Z)(a).concat([e]):a},[]))&&void 0!==c?c:[]},ap=function(a){var c;return null!==(b=null==a?void 0:null===(c=a.actionsList)||void 0===c?void 0:c.reduce(function(b,c){var d=an(c,a);return d?[d].concat((0,h.Z)(b)):b},[]))&&void 0!==b?b:[]};m.useEffect(function(){if(ai&&N){var a=(0,g.Z)(ap(N)),b=a[0],c=a.slice(1);ae(b),ab(c)}},[N,Q]);var aq=N&&ap(N),ar=W&&ap(W),as=aq&&aq.shift();return(0,i.jsxs)(o.mh,{isMobile:ag,"data-testid":x.F2.UIFlow,children:[(null==N?void 0:N.sectionsList)&&N.sectionsList.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.StackChildren,{Size:l.StackChildren.Sizes.XLarge,children:ao(N)}),ag?(0,i.jsxs)(o.s6,{children:[ai?ad:as,ai?aa:aq]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.default,{type:k.default.Types.FullBorder,verticalMargin:l.Spacing.Small}),(0,i.jsxs)(o.ii,{justifyContent:N&&(null==aq?void 0:aq.length)===0?l.InlineChildren.Justification.FlexEnd:l.InlineChildren.Justification.SpaceBetween,children:[ai?ad:as,ai&&aa&&aa.length>0&&(0,i.jsx)(l.InlineChildren,{justifyContent:N&&(null==aa?void 0:aa.length)===2?l.InlineChildren.Justification.SpaceBetween:l.InlineChildren.Justification.FlexEnd,children:aa}),!ai&&aq&&aq.length>0&&(0,i.jsx)(l.InlineChildren,{justifyContent:N&&(null==aq?void 0:aq.length)===2?l.InlineChildren.Justification.SpaceBetween:l.InlineChildren.Justification.FlexEnd,children:aq})]})]})]}),W&&(0,i.jsxs)(q.Modal,{hasCloseButton:null===(c=null==C?void 0:C.allowBackNavigation)||void 0===c||c,shouldCloseOnOverlayClick:null===(B=null==C?void 0:C.allowBackNavigation)||void 0===B||B,onClose:function(){X(null),E()},children:[(0,i.jsx)(l.StackChildren,{children:ao(W)}),ag?(0,i.jsx)(o.s6,{children:ar}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.default,{type:k.default.Types.FullBorder,verticalMargin:l.Spacing.Small}),(0,i.jsx)(o.ii,{justifyContent:l.InlineChildren.Justification.FlexEnd,children:ar})]})]})]})}},81236:function(a,b,c){c.d(b,{OS:function(){return k},UY:function(){return m},jl:function(){return j},tf:function(){return i},w:function(){return l}});var d=c(85893);c(67294);var e=c(10071),f=c(58404),g=c(16225),h=c(63292),i=function(a){return"doordash"===a?"https://help.doordash.com/consumers/s/consumer-support?chatonopen=true":"https://help.trycaviar.com/diners/s/contactsupport"},j=function(a,b){switch(a){case h.g1.LEFT:return e.InlineChildren.Justification.FlexStart;case h.g1.RIGHT:return e.InlineChildren.Justification.FlexEnd;case h.g1.CENTER:return e.InlineChildren.Justification.Center;default:return b?e.InlineChildren.Justification.FlexStart:e.InlineChildren.Justification.Center}},k=function(a){var b,c;return null===(c=null===(b=a.actionParametersList)||void 0===b?void 0:b.find(function(a){return(null==a?void 0:a.key)===h.GO.DEEPLINK_URL}))||void 0===c?void 0:c.value},l=function(a){var b,c;return null===(c=null===(b=a.actionParametersList)||void 0===b?void 0:b.find(function(a){return(null==a?void 0:a.key)===h.GO.SHARING_CODE}))||void 0===c?void 0:c.value},m=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,d.jsx)(f.fQ,{"data-anchor-id":"".concat(g.F2.UIFlowAction,"-").concat(b.label),"data-testid":"".concat(g.F2.UIFlowAction,"-").concat(b.label),label:b.label,onClick:a,type:b.actionDisplayType||"",isInline:c.isInline,state:c.state},new Date().getTime().toString())}},47642:function(a,b,c){c.d(b,{HL:function(){return n},mb:function(){return B},EC:function(){return r},Qk:function(){return L},A7:function(){return p},Y_:function(){return S},ri:function(){return x}});var d=c(26042),e=c(69396),f=c(10253),g=c(85893),h=c(67294),i=c(24906),j=c(3532),k=c(42048),l=c(93999),m=c(73402),n=function(a){var b,c,h,n,o,p,q=a.onComplete,r=a.trackingParams,s=a.label,t=a.actionDisplayType,u=function(){(0,j.ZP)("subscription_pause_confirm_action",(0,e.Z)((0,d.Z)({},r()),{option_selected:"cancel"}))};return c=(b=(0,f.Z)((0,l.useMutation)(m.Z,{variables:{numValue:0,reason:"GRANT_FREE_DASHPASS_REASON_CANCELLATION_SURVEY_UPSELL"},onCompleted:function(){q()}}),2))[0],h=b[1],n=h.data,o=h.loading,p=h.error,Boolean(p)&&(0,j.ZP)("subscription_mgmt_cancel_error",(0,d.Z)({},r)),(null==n?void 0:n.unsubscribeDashPass)&&((0,j.ZP)("subscription_mgmt_cancel_success",{page_type:"cancel_dashpass"}),q()),(0,g.jsx)(k.Z,{type:t,label:s,onClick:function(){c(),u()},state:o?i.default.States.Loading:i.default.States.Default})},o=c(86660),p=function(a){var b=a.refetch,c=a.onComplete,f=a.trackingParams,h=a.label,l=a.actionDisplayType,m=function(){(0,j.ZP)("subscription_pause_confirm_action",(0,e.Z)((0,d.Z)({},f()),{option_selected:"pause"}))},n=function(){(0,j.ZP)("subscription_pause_success",(0,d.Z)({},f()))};return(0,g.jsx)(o.Z,{isPausing:!0,onSuccess:function(){n(),c(),b&&b()},onFailure:function(){c(),b&&b()},children:function(a,b){return(0,g.jsx)(k.Z,{type:l,label:h,onClick:function(){a(),m()},state:b?i.default.States.Loading:i.default.States.Default})}})},q=c(69208),r=function(a){var b,c,h,m,n,o=a.refetch,p=a.onComplete,r=a.label,s=a.trackingParams,t=a.actionDisplayType,u=function(){(0,j.ZP)("subscription_pause_confirm_action",(0,e.Z)((0,d.Z)({},s()),{option_selected:"free_days"}))};return c=(b=(0,f.Z)((0,l.useMutation)(q.Z,{variables:{numValue:0,reason:"GRANT_FREE_DASHPASS_REASON_CANCELLATION_SURVEY_UPSELL"},onCompleted:function(){p(),o&&o()}}),2))[0],h=b[1],m=h.data,n=h.loading,(null==m?void 0:m.grantFreeDashpass)&&((0,j.ZP)("subscription_mgmt_grant_days_success",(0,e.Z)((0,d.Z)({},s),{page_type:"free_days_offer"})),o&&o()),(0,g.jsx)(k.Z,{type:t,label:r,onClick:function(){c(),u()},state:n?i.default.States.Loading:i.default.States.Default})},s=c(7297),t=c(44119),u=c.n(t);function v(){var a=(0,s.Z)(["\n  mutation transitionSubscription(\n    $planId: String\n    $transitionType: TransitionSubscriptionType\n  ) {\n    transitionSubscription(planId: $planId, transitionType: $transitionType)\n  }\n"]);return v=function(){return a},a}var w=u()(v()),x=function(a){var b,c,d,e,h,m=a.refetch,n=a.onComplete,o=a.label,p=a.actionDisplayType,q=a.transitionPlanId,r=a.isInline,s=function(){(0,j.ZP)("subscription_transition_plan_action",{transitionPlanId:q})};return c=(b=(0,f.Z)((0,l.useMutation)(w,{variables:{planId:q,transitionType:"TRANSITION_TYPE_TRIAL_TO_ANNUAL_PLAN"},onCompleted:function(){n(),m&&m()}}),2))[0],d=b[1],e=d.data,h=d.loading,(null==e?void 0:e.transitionSubscription)&&((0,j.ZP)("subscription_transition_plan_success",{transitionPlanId:q}),m&&m()),(0,g.jsx)(k.Z,{isInline:r,type:p,label:o,onClick:function(){c(),s()},state:h?i.default.States.Loading:i.default.States.Default})},y=c(81236),z=c(94844),A=c(93193),B=function(a){var b=a.action,c=a.onClick,d=(0,z.m)().copyToClipboard,e=function(){c&&c();var a=(0,y.OS)(b);a&&d(a,A.Z.membershipSharing.linkCopied())};return(0,y.UY)(e,b,{isInline:!1})},C=c(47568),D=c(34051),E=c.n(D),F=c(99534),G=c(43500);function H(){var a=(0,s.Z)(["\n  mutation InvalidateSharedDashPassMembership($membershipSharingCode: String!) {\n    invalidateSharedDashPassMembership(\n      membershipSharingCode: $membershipSharingCode\n    ) {\n      screen {\n        ...UiFlowScreenFragment\n      }\n    }\n  }\n  ","\n"]);return H=function(){return a},a}var I=u()(H(),G.Xv),J=function(){var a=(0,l.useMutation)(I),b=(0,f.Z)(a,2),c=b[0],e=b[1].data,g=(0,F.Z)(a[1],["data"]);return(0,d.Z)({invalidateSharedDashPassMembership:c},null==e?void 0:e.invalidateSharedDashPassMembership,g)},K=c(12691),L=function(a){var b,c=a.action,d=a.onClick,e=J(),f=e.invalidateSharedDashPassMembership,g=e.loading,h=(0,K.tv)(),j=(b=(0,C.Z)(E().mark(function a(){var b,e,g,i;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d&&d(),b=(0,y.w)(c)){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,f({variables:{membershipSharingCode:b}});case 6:g=(e=a.sent).data,i=e.errors,(null==g?void 0:g.invalidateSharedDashPassMembership)&&!i&&h.reload();case 10:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,y.UY)(j,c,{state:g?i.default.States.Loading:i.default.States.Default})},M=c(34521),N=c(84583),O=c(63292),P=c(45937),Q=c(64173),R=c(16225),S=function(a){var b,c,e,f,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=a.action,y=a.onClose,z=void 0===y?function(){}:y,A=a.onClick,B=void 0===A?function(){}:A,C=a.onComplete,D=void 0===C?function(){}:C,E=(0,M.pm)().displayToast,F=null===(c=null==x?void 0:null===(b=x.actionParametersList)||void 0===b?void 0:b.find(function(a){return(null==a?void 0:a.key)===O.x2.SUCCESS_MESSAGE}))||void 0===c?void 0:c.value,G=null===(f=null==x?void 0:null===(e=x.actionParametersList)||void 0===e?void 0:e.find(function(a){return(null==a?void 0:a.key)===O.x2.STRIPE_ID}))||void 0===f?void 0:f.value,H=null===(k=null==x?void 0:null===(j=x.actionParametersList)||void 0===j?void 0:j.find(function(a){return(null==a?void 0:a.key)===O.x2.STRIPE_TOKEN}))||void 0===k?void 0:k.value,I=(null===(m=null==x?void 0:null===(l=x.actionParametersList)||void 0===l?void 0:l.find(function(a){return(null==a?void 0:a.key)===O.x2.CONSENT_OBTAINED}))||void 0===m?void 0:m.value)==="true",J=(null===(o=null==x?void 0:null===(n=x.actionParametersList)||void 0===n?void 0:n.find(function(a){return(null==a?void 0:a.key)===O.x2.PAYMENT_METHOD_OPTIONAL}))||void 0===o?void 0:o.value)==="true",K=null===(q=null==x?void 0:null===(p=x.actionParametersList)||void 0===p?void 0:p.find(function(a){return(null==a?void 0:a.key)===O.x2.UPSELL_TYPE}))||void 0===q?void 0:q.value,L=(null===(s=null==x?void 0:null===(r=x.actionParametersList)||void 0===r?void 0:r.find(function(a){return(null==a?void 0:a.key)===O.x2.ENTRY_POINT}))||void 0===s?void 0:s.value)||"",S=parseInt((null===(u=null==x?void 0:null===(t=x.actionParametersList)||void 0===t?void 0:t.find(function(a){return(null==a?void 0:a.key)===O.x2.PLAN_ID}))||void 0===u?void 0:u.value)||"0",10),T=parseInt((null===(w=null==x?void 0:null===(v=x.actionParametersList)||void 0===v?void 0:v.find(function(a){return(null==a?void 0:a.key)===O.x2.TRIAL_ID}))||void 0===w?void 0:w.value)||"0",10),U=h.useCallback(function(){return{planId:S.toString(),trialId:T.toString(),messageType:L,upsellType:K}},[S,T,L,K]);h.useEffect(function(){(0,P.pU)((0,d.Z)({eventName:Q.W1.SUBSCRIPTION_UPSELL_MODAL_VIEW},U()))},[U]);var V=function(){F&&D(F),z()},W=function(a,b){E({text:"".concat(b,": ").concat(a)}),z()};return(0,g.jsx)(N.Z,{stripeId:G,stripeToken:H,planId:S,trialId:T,consentObtained:I,paymentMethodOptional:J,messageType:L,onSuccess:V,onFailure:W,children:function(a,b){var c;return(0,g.jsx)(i.default,{"data-testid":"".concat(R.F2.UIFlow,"-").concat(R.F2.SubscribeAction),"data-anchod-id":"".concat(R.F2.UIFlow,"-").concat(R.F2.SubscribeAction),isInline:!0,type:i.default.Types.PrimaryPill,state:b?i.default.States.Loading:i.default.States.Default,onClick:(c=a,function(){B(),c()}),children:x.label})}})}},42048:function(a,b,c){var d=c(85893);c(67294);var e=c(24906),f=c(16225),g={PRIMARY:e.default.Types.Primary,TERTIARY:e.default.Types.Tertiary,FLAT_SECONDARY:e.default.Types.FlatSecondary},h=function(a){var b=a.onClick,c=a.label,h=a.type,i=void 0===h?e.default.Types.PrimaryPill:h,j=a.state,k=void 0===j?e.default.States.Default:j,l=a.isInline;return c?(0,d.jsx)(e.default,{"data-anchor-id":"".concat(f.F2.GenericAction,"-").concat(c),"data-testid":"".concat(f.F2.GenericAction,"-").concat(c),accessibilityRole:"button",accessibilityLabel:c,type:g[i],isInline:void 0===l||l,onClick:b,state:k,children:c}):null};b.Z=h},58404:function(a,b,c){c.d(b,{m9:function(){return o},fQ:function(){return p.Z},h4:function(){return y},H:function(){return q},EU:function(){return s},oi:function(){return w},"$5":function(){return I},oI:function(){return B},"_1":function(){return A}});var d=c(85893),e=c(10071),f=c(67294),g=c(11698),h=c(88660),i=c(45481),j=c(33550),k={SAPPHIRE_RESERVE:"dashpass_new/reserve.png",JPM_RESERVE:"dashpass_new/jpmorgan.png",SAPPHIRE_PREFERRED:"dashpass_new/sapphire.png",FREEDOM:"dashpass_new/freedom.png",SLATE:"dashpass_new/slate.png",MCW:"dashpass/dp_mastercard_logo.png",RBC_MASS_CA:"dashpass/dp_rbc_english.png",RBC_PREMIUM_CA:"dashpass/dp_rbc_english.png",RBC_MASS_QC:"dashpass/dp_rbc_french.png",AFTERPAY:"".concat(i._H,"/fit=contain,format=auto/").concat(i.gM,"media/photosV2/a5415490-369d-4910-b6ee-768bfb8c90f3-retina-large.PNG")},l=function(a){var b=a.partner,c="".concat(i.EB,"media/consumer/"),e=b&&"".concat(c).concat(k[b]);return(0,d.jsx)(j.k9,{children:e&&(0,d.jsx)(h.Z,{url:e,cssAllMediaWidth:"400px",ariaHidden:!0})})},m=c(78479),n=c(16225),o=function(a){var b=a.content,c=a.isModal,f=(0,g.ac)().isTablet,h="dashpass"===b[0],i=b[1];return(0,d.jsx)(e.InlineChildren,{justifyContent:c?e.InlineChildren.Justification.FlexStart:e.InlineChildren.Justification.SpaceAround,"data-anchor-id":"".concat(n.F2.UIFlowSection,"-badge-header"),children:h&&!i?(0,d.jsx)(m.V7,{isTablet:f,isMobile:c,"data-testid":"badge-header"}):(0,d.jsx)(l,{partner:i})})},p=c(42048),q=function(a){var b=a.url,c=a.text,f=a.alt,g=a.isLastInList;return(0,d.jsxs)(e.InlineChildren,{justifyContent:e.InlineChildren.Justification.FlexStart,alignItems:e.InlineChildren.Alignment.Center,"data-anchor-id":"".concat(n.F2.UIFlowSection,"-item-image"),children:[(0,d.jsx)(j.uS,{"data-testid":"list-item-image",src:b,alt:f}),(0,d.jsx)(j.F_,{"data-testid":"list-item-text",isLastInList:void 0!==g&&g,children:(0,d.jsx)(e.Text,{styles:e.Text.Styles.Body1,children:c})})]})},r=c(97073),s=function(a){var b=a.text,c=a.isSelected,e=a.setSelectedReason,f=a.isLastInList;return(0,d.jsx)(j.Qf,{isLastInList:void 0!==f&&f,"data-anchor-id":"".concat(n.F2.UIFlowSection,"-radio-button"),children:(0,d.jsx)(r.ZP,{"data-testid":"radio-button-toggle",type:r.ZP.Types.Radio,isSelected:c,label:b,onChange:e})})},t=c(10253),u=c(53390),v=c(63261),w=function(a){var b=a.onUpdate,c=a.placeholderString,g=(0,t.Z)(f.useState(""),2),h=g[0],i=g[1],j=function(a){i(a),b(h)},k=(0,t.Z)(f.useState(200),2),l=k[0],m=k[1];return(0,d.jsxs)(e.StackChildren,{size:e.StackChildren.Sizes.XxxSmall,"data-anchor-id":"".concat(n.F2.UIFlowSection,"-text-input"),children:[(0,d.jsx)(u.TextField,{value:h,label:"",placeholder:c,isMultiline:4,isLabelHidden:!0,onChange:function(a){m(200-a.length),j(a)},maxLength:200}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,textAlign:e.Text.TextAlignments.Right,children:v.Z.charactersRemainingDivision(200-l,200)})]})},x=c(95123),y=function(a){var b=a.content,c=(0,g.ac)(),e=c.isTablet,f=c.isMobile,h=(void 0===b?[]:b)[0]||"";return(0,d.jsx)(x.V7,{"data-anchor-id":"".concat(n.F2.UIFlowSection,"-header"),logoUrl:h,isTablet:e,isMobile:f,"data-testid":"header"})},z=c(81236),A=function(a){var b=a.text,c=a.alignment,f=a.isTitle,g=a.isModal;return(0,d.jsx)(e.InlineChildren,{"data-testid":"".concat(n.F2.UIFlowSection,"-text"),"data-anchor-id":"".concat(n.F2.UIFlowSection,"-text"),justifyContent:(0,z.jl)(c,void 0!==g&&g),children:(0,d.jsx)(e.Text,{styles:void 0!==f&&f?e.Text.Styles.PageTitle2:e.Text.Styles.Body1,children:(0,d.jsx)(x.rg,{children:b})})})},B=function(a){var b=a.url,c=a.alt,f=a.alignment;return(0,d.jsx)(e.InlineChildren,{justifyContent:(0,z.jl)(f),"data-anchor-id":"".concat(n.F2.UIFlowSection,"-image"),children:(0,d.jsx)(j.c6,{src:b,alt:c,alignment:f,"data-testid":"uiflow-image"})})},C=c(95899),D=c(24906),E=c(93193),F=c(56775),G=c(63292),H=c(94844),I=function(a){var b,c=a.section,g=a.entryPoint,h=a.actionOnClick,i=(0,t.Z)(f.useState(null),2),j=i[0],k=i[1],l=(0,H.m)().copyToClipboard,m=(0,t.Z)(null!==(b=c.contentList)&&void 0!==b?b:[],2),o=m[0],p=m[1],q=c.action,r=function(){return k(null)},s=function(){if(q)switch(h&&h(q),q.type){case G.fr.SEND_SHARED_DASHPASS_MEMBERSHIP_LINK:var a=(0,z.OS)(q);a&&l(a,E.Z.membershipSharing.linkCopied());break;case G.fr.CONTINUE:k(q.screen);break;default:return}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.InlineChildren,{"data-anchor-id":"".concat(n.F2.UIFlowSection,"-action-row"),justifyContent:e.InlineChildrenJustification.SpaceBetween,alignItems:e.InlineChildrenAlignment.Center,children:[o&&(0,d.jsx)(e.Text,{styles:e.Text.Styles.Label1,children:o}),(0,d.jsxs)(e.InlineChildren,{children:[p&&(0,d.jsx)(e.Text,{styles:e.Text.Styles.Body1,children:p}),(null==q?void 0:q.label)&&(0,d.jsx)(D.default,{type:D.ButtonType.TertiaryPill,onClick:s,children:q.label})]})]}),(0,d.jsx)(C.default,{type:C.default.Types.FullBorder,verticalMargin:e.Spacing.Small}),j&&(0,d.jsx)(F.Z,{flow:j,onClose:r,entryPoint:g,trackingParams:function(){return{entryPoint:g}}})]})}}}])