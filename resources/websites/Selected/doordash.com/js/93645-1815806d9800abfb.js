"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93645],{93645:function(a,b,c){c.d(b,{S:function(){return q}});var d=c(32161),e=c(30819),f=c(30081),g=c(72379),h=c(89643);class i extends h.F{constructor(a){super(),this.abortSignalConsumed=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.logger=a.logger||e._,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||function(a){let b="function"==typeof a.initialData?a.initialData():a.initialData,c=void 0!==b,d=c?"function"==typeof a.initialDataUpdatedAt?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:b,dataUpdateCount:0,dataUpdatedAt:c?null!=d?d:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(a){this.options={...this.defaultOptions,...a},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(a,b){let c=(0,d.oE)(this.state.data,a,this.options);return this.dispatch({data:c,type:"success",dataUpdatedAt:null==b?void 0:b.updatedAt,manual:null==b?void 0:b.manual}),c}setState(a,b){this.dispatch({type:"setState",state:a,setStateOptions:b})}cancel(a){var b;let c=this.promise;return null==(b=this.retryer)||b.cancel(a),c?c.then(d.ZT).catch(d.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(a=>!1!==a.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(a=>a.getCurrentResult().isStale)}isStaleByTime(a=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,d.Kp)(this.state.dataUpdatedAt,a)}onFocus(){var a;let b=this.observers.find(a=>a.shouldFetchOnWindowFocus());b&&b.refetch({cancelRefetch:!1}),null==(a=this.retryer)||a.continue()}onOnline(){var a;let b=this.observers.find(a=>a.shouldFetchOnReconnect());b&&b.refetch({cancelRefetch:!1}),null==(a=this.retryer)||a.continue()}addObserver(a){-1===this.observers.indexOf(a)&&(this.observers.push(a),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){-1!==this.observers.indexOf(a)&&(this.observers=this.observers.filter(b=>b!==a),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(a,b){var c,e,f,h;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=b&&b.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(f=this.retryer)||f.continueRetry(),this.promise}if(a&&this.setOptions(a),!this.options.queryFn){let i=this.observers.find(a=>a.options.queryFn);i&&this.setOptions(i.options)}Array.isArray(this.options.queryKey);let j=(0,d.G9)(),k={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>{if(j)return this.abortSignalConsumed=!0,j.signal}})};l(k);let m=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(k)):Promise.reject("Missing queryFn"),n={fetchOptions:b,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:m};l(n),null==(c=this.options.behavior)||c.onFetch(n),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(e=n.fetchOptions)?void 0:e.meta))&&this.dispatch({type:"fetch",meta:null==(h=n.fetchOptions)?void 0:h.meta});let o=a=>{if((0,g.DV)(a)&&a.silent||this.dispatch({type:"error",error:a}),!(0,g.DV)(a)){var b,c,d,e;null==(b=(c=this.cache.config).onError)||b.call(c,a,this),null==(d=(e=this.cache.config).onSettled)||d.call(e,this.state.data,a,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,g.Mz)({fn:n.fetchFn,abort:null==j?void 0:j.abort.bind(j),onSuccess:a=>{var b,c,d,e;if(void 0===a){o(Error("undefined"));return}this.setData(a),null==(b=(c=this.cache.config).onSuccess)||b.call(c,a,this),null==(d=(e=this.cache.config).onSettled)||d.call(e,a,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(a,b)=>{this.dispatch({type:"failed",failureCount:a,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(a){this.state=(b=>{var c,d;switch(a.type){case"failed":return{...b,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...b,fetchStatus:"paused"};case"continue":return{...b,fetchStatus:"fetching"};case"fetch":return{...b,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(c=a.meta)?c:null,fetchStatus:(0,g.Kw)(this.options.networkMode)?"fetching":"paused",...!b.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...b,data:a.data,dataUpdateCount:b.dataUpdateCount+1,dataUpdatedAt:null!=(d=a.dataUpdatedAt)?d:Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let e=a.error;if((0,g.DV)(e)&&e.revert&&this.revertState)return{...this.revertState};return{...b,error:e,errorUpdateCount:b.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:b.fetchFailureCount+1,fetchFailureReason:e,fetchStatus:"idle",status:"error"};case"invalidate":return{...b,isInvalidated:!0};case"setState":return{...b,...a.state}}})(this.state),f.V.batch(()=>{this.observers.forEach(b=>{b.onQueryUpdate(a)}),this.cache.notify({query:this,type:"updated",action:a})})}}var j=c(33989);class k extends j.l{constructor(a){super(),this.config=a||{},this.queries=[],this.queriesMap={}}build(a,b,c){var e;let f=b.queryKey,g=null!=(e=b.queryHash)?e:(0,d.Rm)(f,b),h=this.get(g);return h||(h=new i({cache:this,logger:a.getLogger(),queryKey:f,queryHash:g,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(f)}),this.add(h)),h}add(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"added",query:a}))}remove(a){let b=this.queriesMap[a.queryHash];b&&(a.destroy(),this.queries=this.queries.filter(b=>b!==a),b===a&&delete this.queriesMap[a.queryHash],this.notify({type:"removed",query:a}))}clear(){f.V.batch(()=>{this.queries.forEach(a=>{this.remove(a)})})}get(a){return this.queriesMap[a]}getAll(){return this.queries}find(a,b){let[c]=(0,d.I6)(a,b);return void 0===c.exact&&(c.exact=!0),this.queries.find(a=>(0,d._x)(c,a))}findAll(a,b){let[c]=(0,d.I6)(a,b);return Object.keys(c).length>0?this.queries.filter(a=>(0,d._x)(c,a)):this.queries}notify(a){f.V.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){f.V.batch(()=>{this.queries.forEach(a=>{a.onFocus()})})}onOnline(){f.V.batch(()=>{this.queries.forEach(a=>{a.onOnline()})})}}var l=c(89886);class m extends j.l{constructor(a){super(),this.config=a||{},this.mutations=[],this.mutationId=0}build(a,b,c){let d=new l.m({mutationCache:this,logger:a.getLogger(),mutationId:++this.mutationId,options:a.defaultMutationOptions(b),state:c,defaultOptions:b.mutationKey?a.getMutationDefaults(b.mutationKey):void 0});return this.add(d),d}add(a){this.mutations.push(a),this.notify({type:"added",mutation:a})}remove(a){this.mutations=this.mutations.filter(b=>b!==a),this.notify({type:"removed",mutation:a})}clear(){f.V.batch(()=>{this.mutations.forEach(a=>{this.remove(a)})})}getAll(){return this.mutations}find(a){return void 0===a.exact&&(a.exact=!0),this.mutations.find(b=>(0,d.X7)(a,b))}findAll(a){return this.mutations.filter(b=>(0,d.X7)(a,b))}notify(a){f.V.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){var a;return this.resuming=(null!=(a=this.resuming)?a:Promise.resolve()).then(()=>{let a=this.mutations.filter(a=>a.state.isPaused);return f.V.batch(()=>a.reduce((a,b)=>a.then(()=>b.continue().catch(d.ZT)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}var n=c(15761),o=c(96474);function p(a,b){return null==a.getNextPageParam?void 0:a.getNextPageParam(b[b.length-1],b)}class q{constructor(a={}){this.queryCache=a.queryCache||new k,this.mutationCache=a.mutationCache||new m,this.logger=a.logger||e._,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=n.j.subscribe(()=>{n.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=o.N.subscribe(()=>{o.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var a,b;this.mountCount--,0===this.mountCount&&(null==(a=this.unsubscribeFocus)||a.call(this),this.unsubscribeFocus=void 0,null==(b=this.unsubscribeOnline)||b.call(this),this.unsubscribeOnline=void 0)}isFetching(a,b){let[c]=(0,d.I6)(a,b);return c.fetchStatus="fetching",this.queryCache.findAll(c).length}isMutating(a){return this.mutationCache.findAll({...a,fetching:!0}).length}getQueryData(a,b){var c;return null==(c=this.queryCache.find(a,b))?void 0:c.state.data}ensureQueryData(a,b,c){let e=(0,d._v)(a,b,c),f=this.getQueryData(e.queryKey);return f?Promise.resolve(f):this.fetchQuery(e)}getQueriesData(a){return this.getQueryCache().findAll(a).map(({queryKey:a,state:b})=>{let c=b.data;return[a,c]})}setQueryData(a,b,c){let e=this.queryCache.find(a),f=null==e?void 0:e.state.data,g=(0,d.SE)(b,f);if(void 0===g)return;let h=(0,d._v)(a),i=this.defaultQueryOptions(h);return this.queryCache.build(this,i).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return f.V.batch(()=>this.getQueryCache().findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a,b){var c;return null==(c=this.queryCache.find(a,b))?void 0:c.state}removeQueries(a,b){let[c]=(0,d.I6)(a,b),e=this.queryCache;f.V.batch(()=>{e.findAll(c).forEach(a=>{e.remove(a)})})}resetQueries(a,b,c){let[e,g]=(0,d.I6)(a,b,c),h=this.queryCache,i={type:"active",...e};return f.V.batch(()=>(h.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(i,g)))}cancelQueries(a,b,c){let[e,g={}]=(0,d.I6)(a,b,c);void 0===g.revert&&(g.revert=!0);let h=f.V.batch(()=>this.queryCache.findAll(e).map(a=>a.cancel(g)));return Promise.all(h).then(d.ZT).catch(d.ZT)}invalidateQueries(a,b,c){let[e,g]=(0,d.I6)(a,b,c);return f.V.batch(()=>{var a,b;if(this.queryCache.findAll(e).forEach(a=>{a.invalidate()}),"none"===e.refetchType)return Promise.resolve();let c={...e,type:null!=(a=null!=(b=e.refetchType)?b:e.type)?a:"active"};return this.refetchQueries(c,g)})}refetchQueries(a,b,c){let[e,g]=(0,d.I6)(a,b,c),h=f.V.batch(()=>this.queryCache.findAll(e).filter(a=>!a.isDisabled()).map(a=>{var b;return a.fetch(void 0,{...g,cancelRefetch:null==(b=null==g?void 0:g.cancelRefetch)||b,meta:{refetchPage:e.refetchPage}})})),i=Promise.all(h).then(d.ZT);return null!=g&&g.throwOnError||(i=i.catch(d.ZT)),i}fetchQuery(a,b,c){let e=(0,d._v)(a,b,c),f=this.defaultQueryOptions(e);void 0===f.retry&&(f.retry=!1);let g=this.queryCache.build(this,f);return g.isStaleByTime(f.staleTime)?g.fetch(f):Promise.resolve(g.state.data)}prefetchQuery(a,b,c){return this.fetchQuery(a,b,c).then(d.ZT).catch(d.ZT)}fetchInfiniteQuery(a,b,c){let e=(0,d._v)(a,b,c);return e.behavior={onFetch:a=>{a.fetchFn=()=>{var b,c,d,e,f,g,h,i;let j=null==(b=a.fetchOptions)?void 0:null==(c=b.meta)?void 0:c.refetchPage,k=null==(d=a.fetchOptions)?void 0:null==(e=d.meta)?void 0:e.fetchMore,l=null==k?void 0:k.pageParam,m=(null==k?void 0:k.direction)==="forward",n=(null==k?void 0:k.direction)==="backward",o=(null==(f=a.state.data)?void 0:f.pages)||[],q=(null==(g=a.state.data)?void 0:g.pageParams)||[],r=q,s=!1,t=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{var b,c;return null!=(b=a.signal)&&b.aborted?s=!0:null==(c=a.signal)||c.addEventListener("abort",()=>{s=!0}),a.signal}})},u=a.options.queryFn||(()=>Promise.reject("Missing queryFn")),v=(a,b,c,d)=>(r=d?[b,...r]:[...r,b],d?[c,...a]:[...a,c]),w=(b,c,d,e)=>{if(s)return Promise.reject("Cancelled");if(void 0===d&&!c&&b.length)return Promise.resolve(b);let f={queryKey:a.queryKey,pageParam:d,meta:a.options.meta};t(f);let g=u(f),h=Promise.resolve(g).then(a=>v(b,d,a,e));return h},x;if(o.length){if(m){let y=void 0!==l,z=y?l:p(a.options,o);x=w(o,y,z)}else if(n){let A=void 0!==l,B=A?l:(h=a.options,i=o,null==h.getPreviousPageParam?void 0:h.getPreviousPageParam(i[0],i));x=w(o,A,B,!0)}else{r=[];let C=void 0===a.options.getNextPageParam,D=!j||!o[0]||j(o[0],0,o);x=D?w([],C,q[0]):Promise.resolve(v([],q[0],o[0]));for(let E=1;E<o.length;E++)x=x.then(b=>{let c=!j||!o[E]||j(o[E],E,o);if(c){let d=C?q[E]:p(a.options,b);return w(b,C,d)}return Promise.resolve(v(b,q[E],o[E]))})}}else x=w([]);let F=x.then(a=>({pages:a,pageParams:r}));return F}}},this.fetchQuery(e)}prefetchInfiniteQuery(a,b,c){return this.fetchInfiniteQuery(a,b,c).then(d.ZT).catch(d.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(a){this.defaultOptions=a}setQueryDefaults(a,b){let c=this.queryDefaults.find(b=>(0,d.yF)(a)===(0,d.yF)(b.queryKey));c?c.defaultOptions=b:this.queryDefaults.push({queryKey:a,defaultOptions:b})}getQueryDefaults(a){if(!a)return;let b=this.queryDefaults.find(b=>(0,d.to)(a,b.queryKey));return null==b?void 0:b.defaultOptions}setMutationDefaults(a,b){let c=this.mutationDefaults.find(b=>(0,d.yF)(a)===(0,d.yF)(b.mutationKey));c?c.defaultOptions=b:this.mutationDefaults.push({mutationKey:a,defaultOptions:b})}getMutationDefaults(a){if(!a)return;let b=this.mutationDefaults.find(b=>(0,d.to)(a,b.mutationKey));return null==b?void 0:b.defaultOptions}defaultQueryOptions(a){if(null!=a&&a._defaulted)return a;let b={...this.defaultOptions.queries,...this.getQueryDefaults(null==a?void 0:a.queryKey),...a,_defaulted:!0};return!b.queryHash&&b.queryKey&&(b.queryHash=(0,d.Rm)(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.useErrorBoundary&&(b.useErrorBoundary=!!b.suspense),b}defaultMutationOptions(a){return null!=a&&a._defaulted?a:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==a?void 0:a.mutationKey),...a,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}}}])