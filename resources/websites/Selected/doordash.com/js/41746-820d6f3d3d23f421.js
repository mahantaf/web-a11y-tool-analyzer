(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41746],{33078:function(a,b,c){"use strict";c.d(b,{Z:function(){return v}});var d=c(67294),e=c(87379).default.img.attrs(function(a){return{loading:a.loading}}).withConfig({displayName:"styles__StyledImg",componentId:"sc-1322bgy-0"})(["width:100%;height:100%;"]),f=c(10071),g=[f.Breakpoints.Mobile,f.Breakpoints.Tablet,f.Breakpoints.Desktop,f.Breakpoints.WideScreen],h=[100,150,200,300,400,600,800,1e3,1200],i=[1,2],j=function(a,b){switch(a){case 0:return b.Mobile;case 1:return b.Tablet;case 2:return b.Desktop;default:return b.WideScreen}},k=function(a){if(a<=0)return 0;for(var b=0;b<h.length;b+=1)if(h[b]>=a)return h[b];return h[h.length-1]},l=/^(?:https?|localhost):(?:\d+)?\/\/.+(http(?:s)?:(\d+)?\/\/.+)$/,m=function(a){var b=l.exec(a);return b?b[1]:a},n=function(a,b){var c=b.height,e=b.viewportPercentages,f=b.fixedWidths;return g.map(function(h,i){var j=t(i,e,f),k=o(j,c),l=i===g.length-1?"(min-width: ".concat(g[i-1],"px)"):"(max-width: ".concat(h,"px)");return d.createElement("source",{srcSet:s(a,j,k,b),media:l,key:h})})},o=function(a,b){if(b){if(isFinite(b))return b;var c=b,d=c.aspectWidth,e=c.aspectHeight;return e/d*a}return 0},p=function(a){try{return new URL(a),!0}catch(b){return!1}},q=/\/(?:[a-zA-Z]+=\w+,?)+/,r=function(a,b,c,d,e){try{g=new URL(a).pathname}catch(f){return""}0===g.indexOf("/s")&&(g=g.split("/s")[1]),0===g.indexOf("/p")&&(g=g.split(q)[1]);var g,h=e.quality,i=e.objectFit,j=e.format,k=c?"height=".concat(c,","):"",l=d?"".concat(d,"x"):"";return"".concat("https://img.cdn4dd.com/p/","fit=").concat(i,",width=").concat(b,",").concat(k,"format=").concat(j,",quality=").concat(h).concat(g," ").concat(l)},s=function(a,b,c,d){var e=d.maximumDensity;return i.filter(function(a){return a<=e}).map(function(e){return r(a,k(b*e),k(c*e),e,d)}).join(", ")},t=function(a,b,c){if(b){var d=g[a],e=j(a,b);return d*(e/100/1)}return j(a,c)};function u(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var v=function(a){var b,c,f=a.quality,g=a.objectFit,j=void 0===g?"contain":g,k=a.objectPosition,l=void 0===k?"50% 50%":k,q=a.format,s=a.loading,t=void 0===s?"lazy":s,v=a.maximumDensity,w=void 0===v?i[i.length-1]:v,x=a.baseURL,y=a.viewportPercentages,z=a.fixedWidths,A=a.height,B=a.alt,C={baseURL:x,quality:void 0===f?72:f,objectFit:j,objectPosition:l,format:void 0===q?"auto":q,loading:t,viewportPercentages:y,fixedWidths:z,height:A,alt:B,maximumDensity:w},D=d.useState(!1),E=(c=2,function a(b){if(Array.isArray(b))return b}(b=D)||function a(b,c){var d,e,f=b&&("undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"]);if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return u(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return u(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),F=E[0],G=E[1];if(F||!p(x))return null;var H=m(x),I=r(H,h[h.length-1],o(h[h.length-1],A),0,C);return d.createElement("picture",null,n(H,C),d.createElement(e,{loading:t,src:I,alt:B,style:{objectFit:j,objectPosition:l},onError:function(){return G(!0)}}))}},56408:function(a){!function(b){a.exports=b()}(function(){return(function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=void 0;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=void 0,g=0;g<d.length;g++)e(d[g]);return e}return a})()({1:[function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.PromiseGlobal=void 0;var e=d(a("promise-polyfill")),f="undefined"!=typeof Promise?Promise:e.default;c.PromiseGlobal=f},{"promise-polyfill":9}],2:[function(a,b,c){"use strict";var d=a("./lib/promise"),e={};function f(a){var b,c=JSON.stringify(a);if(!a.forceScriptReload&&(b=e[c]))return b;var f=document.createElement("script"),g=a.dataAttributes||{},h=a.container||document.head;return f.src=a.src,f.id=a.id||"",f.async=!0,a.crossorigin&&f.setAttribute("crossorigin",""+a.crossorigin),Object.keys(g).forEach(function(a){f.setAttribute("data-"+a,""+g[a])}),b=new d.PromiseGlobal(function(b,c){f.addEventListener("load",function(){b(f)}),f.addEventListener("error",function(){c(Error(a.src+" failed to load."))}),f.addEventListener("abort",function(){c(Error(a.src+" has aborted."))}),h.appendChild(f)}),e[c]=b,b}f.clearCache=function(){e={}},b.exports=f},{"./lib/promise":1}],3:[function(a,b,c){b.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,b,c){"use strict";b.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},{}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.deferred=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];setTimeout(function(){try{a.apply(void 0,b)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}},{}],6:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.once=function(a){var b=!1;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];b||(b=!0,a.apply(void 0,c))}}},{}],7:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.promiseOrCallback=function(a,b){if(!b)return a;a.then(function(a){return b(null,a)}).catch(function(a){return b(a)})}},{}],8:[function(a,b,c){"use strict";var d=a("./lib/deferred"),e=a("./lib/once"),f=a("./lib/promise-or-callback");function g(a){return function(){for(var b,c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return"function"==typeof c[c.length-1]&&(b=c.pop(),b=e.once(d.deferred(b))),f.promiseOrCallback(a.apply(this,c),b)}}g.wrapPrototype=function(a,b){void 0===b&&(b={});var c=b.ignoreMethods||[],d=!0===b.transformPrivateMethods;return Object.getOwnPropertyNames(a.prototype).filter(function(b){var e,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return e=!!d||"_"!==b.charAt(0),f&&e&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=g(c)}),a},b.exports=g},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(a,b,c){"use strict";var d=setTimeout;function e(a){return Boolean(a&&void 0!==a.length)}function f(){}function g(a){if(!(this instanceof g))throw TypeError("Promises must be constructed via new");if("function"!=typeof a)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(a,this)}function h(a,b){for(;3===a._state;)a=a._value;if(0===a._state){a._deferreds.push(b);return}a._handled=!0,g._immediateFn(function(){var c,d=1===a._state?b.onFulfilled:b.onRejected;if(null===d){(1===a._state?i:j)(b.promise,a._value);return}try{c=d(a._value)}catch(e){j(b.promise,e);return}i(b.promise,c)})}function i(a,b){try{if(b===a)throw TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c,d,e=b.then;if(b instanceof g){a._state=3,a._value=b,k(a);return}if("function"==typeof e){m((c=e,d=b,function(){c.apply(d,arguments)}),a);return}}a._state=1,a._value=b,k(a)}catch(f){j(a,f)}}function j(a,b){a._state=2,a._value=b,k(a)}function k(a){2===a._state&&0===a._deferreds.length&&g._immediateFn(function(){a._handled||g._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)h(a,a._deferreds[b]);a._deferreds=null}function l(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function m(a,b){var c=!1;try{a(function(a){c||(c=!0,i(b,a))},function(a){c||(c=!0,j(b,a))})}catch(d){if(c)return;c=!0,j(b,d)}}g.prototype.catch=function(a){return this.then(null,a)},g.prototype.then=function(a,b){var c=new this.constructor(f);return h(this,new l(a,b,c)),c},g.prototype.finally=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},g.all=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.all accepts an array"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var f=d.length;function g(a,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var h=e.then;if("function"==typeof h){h.call(e,function(b){g(a,b)},c);return}}d[a]=e,0==--f&&b(d)}catch(i){c(i)}}for(var h=0;h<d.length;h++)g(h,d[h])})},g.allSettled=function(a){return new this(function(b,c){if(!(a&&void 0!==a.length))return c(TypeError(typeof a+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var e=d.length;function f(a,c){if(c&&("object"==typeof c||"function"==typeof c)){var g=c.then;if("function"==typeof g){g.call(c,function(b){f(a,b)},function(c){d[a]={status:"rejected",reason:c},0==--e&&b(d)});return}}d[a]={status:"fulfilled",value:c},0==--e&&b(d)}for(var g=0;g<d.length;g++)f(g,d[g])})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.race accepts an array"));for(var d=0,f=a.length;d<f;d++)g.resolve(a[d]).then(b,c)})},g._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){d(a,0)},g._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=g},{}],10:[function(a,b,c){"use strict";var d=a("./constants").BRAINTREE_VERSION,e=a("./request/graphql"),f=a("./request"),g=a("../lib/is-verified-domain"),h=a("../lib/braintree-error"),i=a("../lib/convert-to-braintree-error"),j=a("./get-configuration").getConfiguration,k=a("../lib/create-authorization-data"),l=a("../lib/add-metadata"),m=a("@braintree/wrap-promise"),n=a("../lib/once"),o=a("../lib/deferred"),p=a("../lib/assign").assign,q=a("../lib/analytics"),r=a("./errors"),s=a("../lib/constants").VERSION,t=a("../lib/constants").GRAPHQL_URLS,u=a("../lib/methods"),v=a("../lib/convert-methods-to-error"),w=a("../lib/assets"),x=a("../lib/constants").FRAUDNET_FNCLS,y=a("../lib/constants").FRAUDNET_SOURCE,z=a("../lib/constants").FRAUDNET_URL,A={};function B(a){var b,c;if(b=JSON.stringify(a=a||{}),c=a.gatewayConfiguration,!c)throw new h(r.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(a){if(a in c&&!g(c[a]))throw new h({type:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:a+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(b)},this._request=f,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=c.clientApiUrl+"/v1/",c.graphQL){if(!g(c.graphQL.url))throw new h({type:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new e({graphQL:c.graphQL})}}B.initialize=function(a){var b,c,d=A[a.authorization];if(d)return q.sendEvent(d,"custom.client.load.cached"),d;try{c=k(a.authorization)}catch(e){return Promise.reject(new h(r.CLIENT_INVALID_AUTHORIZATION))}return d=j(c).then(function(c){return a.debug&&(c.isDebug=!0),c.authorization=a.authorization,b=new B(c)}),A[a.authorization]=d,q.sendEvent(d,"custom.client.load.initialized"),d.then(function(a){return q.sendEvent(b,"custom.client.load.succeeded"),a}).catch(function(b){return delete A[a.authorization],Promise.reject(b)})},B.clearCache=function(){A={}},B.prototype._findOrCreateFraudnetJSON=function(a){var b,c,d,e,f=document.querySelector('script[fncls="'+x+'"]');f||((f=document.body.appendChild(document.createElement("script"))).type="application/json",f.setAttribute("fncls",x)),c={rda_tenant:"bt_card",mid:(b=this.getConfiguration()).gatewayConfiguration.merchantId},d=b.authorizationFingerprint,d&&d.split("&").forEach(function(a){var b=a.split("=");"customer_id"===b[0]&&b.length>1&&(c.cid=b[1])}),e={f:a.substr(0,32),fp:c,bu:!1,s:y},f.text=JSON.stringify(e)},B.prototype.request=function(a,b){var c=this,e=new Promise(function(b,e){var f,g,j,k,m,n=Boolean("payment_methods/credit_cards"===a.endpoint&&c.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"===a.api||(a.method?a.endpoint||(g="options.endpoint"):g="options.method"),g)throw new h({type:r.CLIENT_OPTION_REQUIRED.type,code:r.CLIENT_OPTION_REQUIRED.code,message:g+" is required when making a request."});if(j="api"in a?a.api:"clientApi",m={method:a.method,graphQL:c._graphQL,timeout:a.timeout,metadata:c._configuration.analyticsMetadata},"clientApi"===j)k=c._clientApiBaseUrl,m.data=l(c._configuration,a.data);else if("graphQLApi"===j){k=t[c._configuration.gatewayConfiguration.environment],a.endpoint="",m.method="post",m.data=p({clientSdkMetadata:{platform:c._configuration.analyticsMetadata.platform,source:c._configuration.analyticsMetadata.source,integration:c._configuration.analyticsMetadata.integration,sessionId:c._configuration.analyticsMetadata.sessionId,version:s}},a.data),m.headers=(f=c._configuration,{Authorization:"Bearer "+(f.authorizationFingerprint||f.authorization),"Braintree-Version":d})}else throw new h({type:r.CLIENT_OPTION_INVALID.type,code:r.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});m.url=k+a.endpoint,m.sendAnalyticsEvent=function(a){q.sendEvent(c,a)},c._request(m,function(a,d,f){var g,k;if(k=function a(b,c){var d;if(-1===b?d=new h(r.CLIENT_REQUEST_TIMEOUT):401===b?d=new h(r.CLIENT_AUTHORIZATION_INVALID):403===b?d=new h(r.CLIENT_AUTHORIZATION_INSUFFICIENT):429===b?d=new h(r.CLIENT_RATE_LIMITED):b>=500?d=new h(r.CLIENT_GATEWAY_NETWORK):(b<200||b>=400)&&(d=i(c,{type:r.CLIENT_REQUEST_ERROR.type,code:r.CLIENT_REQUEST_ERROR.code,message:r.CLIENT_REQUEST_ERROR.message})),d)return d.details=d.details||{},d.details.httpStatus=b,d}(f,a)){e(k);return}if("graphQLApi"===j&&d.errors){e(i(d.errors,{type:r.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:r.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:r.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}g=p({_httpStatus:f},d),n&&g.creditCards&&g.creditCards.length>0&&(c._findOrCreateFraudnetJSON(g.creditCards[0].nonce),w.loadScript({src:z,forceScriptReload:!0})),b(g)})});if("function"==typeof b){b=n(o(b)),e.then(function(a){b(null,a,a._httpStatus)}).catch(function(a){var c=a&&a.details&&a.details.httpStatus;b(a,null,c)});return}return e},B.prototype.toJSON=function(){return this.getConfiguration()},B.prototype.getVersion=function(){return s},B.prototype.teardown=m(function(){return delete A[this.getConfiguration().authorization],v(this,u(B.prototype)),Promise.resolve()}),b.exports=B},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(a,b,c){"use strict";b.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(a,b,c){"use strict";var d=a("../lib/braintree-error");b.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:d.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:d.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:d.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:d.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:d.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:d.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:d.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:d.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:d.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:d.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:d.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(a,b,c){"use strict";var d=a("../lib/braintree-error"),e=a("@braintree/wrap-promise"),f=a("./request"),g=a("@braintree/uuid"),h=a("../lib/constants"),i=a("./errors"),j=a("./request/graphql"),k=a("../lib/constants").GRAPHQL_URLS,l=a("../lib/is-date-string-before-or-on"),m=a("./constants").BRAINTREE_VERSION;b.exports={getConfiguration:e(function(a){return new Promise(function(b,c){var e,n,o,p,q=g(),r={merchantAppId:window.location.host,platform:h.PLATFORM,sdkVersion:h.VERSION,source:h.SOURCE,integration:h.INTEGRATION,integrationType:h.INTEGRATION,sessionId:q};n=a.attrs,o=a.configUrl,n._meta=r,n.braintreeLibraryVersion=h.BRAINTREE_LIBRARY_VERSION,n.configVersion="3",p={url:o,method:"GET",data:n},n.authorizationFingerprint&&a.graphQL?(l(a.graphQL.date,m)&&(p.graphQL=new j({graphQL:{url:a.graphQL.url,features:["configuration"]}})),p.metadata=r):n.tokenizationKey&&(p.graphQL=new j({graphQL:{url:k[a.environment],features:["configuration"]}}),p.metadata=r),f(p,function(a,f,g){var h;if(a){h=403===g?i.CLIENT_AUTHORIZATION_INSUFFICIENT:401===g?i.CLIENT_AUTHORIZATION_INVALID:i.CLIENT_GATEWAY_NETWORK,c(new d({type:h.type,code:h.code,message:h.message,details:{originalError:a}}));return}e={authorizationType:n.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:n.authorizationFingerprint,analyticsMetadata:r,gatewayConfiguration:f},b(e)})})})}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(a,b,c){"use strict";var d=a("../lib/braintree-error"),e=a("./client"),f=a("@braintree/wrap-promise"),g=a("../lib/errors");b.exports={create:f(function(a){return a.authorization?e.initialize(a):Promise.reject(new d({type:g.INSTANTIATION_OPTION_REQUIRED.type,code:g.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}),VERSION:"3.92.2"}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(a,b,c){"use strict";var d=a("../../lib/querystring"),e=a("../../lib/assign").assign,f=a("./prep-body"),g=a("./parse-body"),h=a("./xhr"),i=h.isAvailable,j=a("./graphql/request"),k=a("./default-request");function l(a,b,c){var m,n,o,p,q,r,s,t=a.url,u=a.graphQL,v=a.timeout,w=h.getRequestObject(),x=c,y=Boolean(u&&u.isGraphQLRequest(t,a.data));a.headers=e({"Content-Type":"application/json"},a.headers),t=(o=y?new j(a):new k(a)).getUrl(),p=o.getBody(),q=o.getMethod(),r=o.getHeaders(),"GET"===q&&(t=d.queryify(t,p),p=null),i?w.onreadystatechange=function(){if(4===w.readyState){if(0===w.status&&y){delete a.graphQL,l(a,b,c);return}if(s=g(w.responseText),n=o.adaptResponseBody(s),m=o.determineStatus(w.status,s),m>=400||m<200){var d,e,f;if(y&&("UNKNOWN"===(e=!(d=s).data&&d.errors&&d.errors[0]&&d.errors[0].extensions&&d.errors[0].extensions.errorClass)||"INTERNAL"===e)){delete a.graphQL,l(a,b,c);return}if(b<1&&(!(f=m)||408===f)){l(a,++b,c);return}x(n||"error",null,m||500)}else x(null,n,m)}}:(a.headers&&(t=d.queryify(t,r)),w.onload=function(){x(null,g(w.responseText),w.status)},w.onerror=function(){x("error",null,500)},w.onprogress=function(){},w.ontimeout=function(){x("timeout",null,-1)});try{w.open(q,t,!0)}catch(z){if(!y)throw z;delete a.graphQL,l(a,b,c);return}w.timeout=v,i&&Object.keys(r).forEach(function(a){w.setRequestHeader(a,r[a])});try{w.send(f(q,p))}catch(A){}}b.exports={request:function(a,b){l(a,0,b)}}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(a,b,c){"use strict";function d(a){this._url=a.url,this._data=a.data,this._method=a.method,this._headers=a.headers}d.prototype.getUrl=function(){return this._url},d.prototype.getBody=function(){return this._data},d.prototype.getMethod=function(){return this._method},d.prototype.getHeaders=function(){return this._headers},d.prototype.adaptResponseBody=function(a){return a},d.prototype.determineStatus=function(a){return a},b.exports=d},{}],17:[function(a,b,c){"use strict";var d=a("./error"),e=a("../../../../lib/assign").assign,f={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function g(a,b){return a.reduce(function(a,c){return b.hasOwnProperty(c)?a.concat(b[c]):a},[])}b.exports=function(a,b){var c,h,i,j,k;return a.data&&!a.errors?(h=a,i=b,k=h.data.clientConfiguration,j={environment:k.environment.toLowerCase(),clientApiUrl:k.clientApiUrl,assetsUrl:k.assetsUrl,analytics:{url:k.analyticsUrl},merchantId:k.merchantId,venmo:"off"},k.supportedFeatures&&(j.graphQL={url:i._graphQL._config.url,features:k.supportedFeatures.map(function(a){return a.toLowerCase()})}),k.braintreeApi&&(j.braintreeApi=k.braintreeApi),k.applePayWeb&&(j.applePayWeb=k.applePayWeb,j.applePayWeb.supportedNetworks=g(k.applePayWeb.supportedCardBrands,f.applePayWeb),delete j.applePayWeb.supportedCardBrands),k.ideal&&(j.ideal=k.ideal),k.kount&&(j.kount={kountMerchantId:k.kount.merchantId}),k.creditCard?(j.challenges=k.creditCard.challenges.map(function(a){return a.toLowerCase()}),j.creditCards={supportedCardTypes:g(k.creditCard.supportedCardBrands,f.creditCard)},j.threeDSecureEnabled=k.creditCard.threeDSecureEnabled,j.threeDSecure=k.creditCard.threeDSecure):(j.challenges=[],j.creditCards={supportedCardTypes:[]},j.threeDSecureEnabled=!1),k.googlePay&&(j.androidPay={displayName:k.googlePay.displayName,enabled:!0,environment:k.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:k.googlePay.googleAuthorization,paypalClientId:k.googlePay.paypalClientId,supportedNetworks:g(k.googlePay.supportedCardBrands,f.googlePay)}),k.venmo&&(j.payWithVenmo={merchantId:k.venmo.merchantId,accessToken:k.venmo.accessToken,environment:k.venmo.environment.toLowerCase()}),k.paypal?(j.paypalEnabled=!0,j.paypal=e({},k.paypal),j.paypal.currencyIsoCode=j.paypal.currencyCode,j.paypal.environment=j.paypal.environment.toLowerCase(),delete j.paypal.currencyCode):j.paypalEnabled=!1,k.unionPay&&(j.unionPay={enabled:!0,merchantAccountId:k.unionPay.merchantAccountId}),k.visaCheckout&&(j.visaCheckout={apikey:k.visaCheckout.apiKey,encryptionKey:k.visaCheckout.encryptionKey,externalClientId:k.visaCheckout.externalClientId,supportedCardTypes:g(k.visaCheckout.supportedCardBrands,f.visaCheckout)}),k.masterpass&&(j.masterpass={merchantCheckoutId:k.masterpass.merchantCheckoutId,supportedNetworks:g(k.masterpass.supportedCardBrands,f.masterpass)}),k.usBankAccount&&(j.usBankAccount={routeId:k.usBankAccount.routeId,plaid:{publicKey:k.usBankAccount.plaidPublicKey}}),j):d(a)}},{"../../../../lib/assign":31,"./error":19}],18:[function(a,b,c){"use strict";var d=a("./error"),e={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},f={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},g={PSDTWO:"psd2"};b.exports=function(a){var b,c,h,i,j,k,l,m;return a.data&&!a.errors?(c=a,j=c.data.tokenizeCreditCard,k=j.creditCard,l=k.last4?k.last4.substr(2,4):"",m=k.binData,m&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid",].forEach(function(a){m[a]?m[a]=f[m[a]]:m[a]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(a){m[a]||(m[a]="Unknown")})),h={creditCards:[{binData:m,consumed:!1,description:l?"ending in "+l:"",nonce:j.token,details:{cardholderName:k.cardholderName,expirationMonth:k.expirationMonth,expirationYear:k.expirationYear,bin:k.bin||"",cardType:e[k.brandCode]||"Unknown",lastFour:k.last4||"",lastTwo:l},type:"CreditCard",threeDSecureInfo:null},]},j.authenticationInsight&&(i=j.authenticationInsight.customerAuthenticationRegulationEnvironment,h.creditCards[0].authenticationInsight={regulationEnvironment:g[i]||i.toLowerCase()}),h):d(a)}},{"./error":19}],19:[function(a,b,c){"use strict";function d(a){var b=[];return a.forEach(function(a){a.extensions&&a.extensions.inputPath&&e(a.extensions.inputPath.slice(1),a,b)}),b}function e(a,b,c){var d,f=b.extensions.legacyCode,g=a[0];if(1===a.length){c.push({code:f,field:g,message:b.message});return}c.forEach(function(a){a.field===g&&(d=a)}),d||(d={field:g,fieldErrors:[]},c.push(d)),e(a.slice(1),b,d.fieldErrors)}function f(a){return({creditCard:"Credit card is invalid"})[a[0].field]}b.exports=function(a){var b,c,e,g,h=a.errors&&a.errors[0]&&a.errors[0].extensions&&a.errors[0].extensions.errorClass;return"VALIDATION"===h?(c=a,e=d(c.errors),0===e.length?{error:{message:c.errors[0].message}}:{error:{message:f(e)},fieldErrors:e}):h?(g=a,{error:{message:g.errors[0].message},fieldErrors:[]}):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],20:[function(a,b,c){"use strict";b.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],21:[function(a,b,c){"use strict";var d=a("../../../../lib/assign").assign;b.exports=function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q={hasAuthenticationInsight:Boolean(a.authenticationInsight&&a.merchantAccountId)};return{query:(c=(b=q).hasAuthenticationInsight,e="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",c&&(e+=", $authenticationInsightInput: AuthenticationInsightInput!"),e+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",c&&(e+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),e+="  } }"),variables:(f=a,g=q,i=(h=f.creditCard)&&h.billingAddress,j=h&&h.expirationDate,k=h&&(h.expirationMonth||j&&j.split("/")[0].trim()),l=h&&(h.expirationYear||j&&j.split("/")[1].trim()),m={input:{creditCard:{number:h&&h.number,expirationMonth:k,expirationYear:l,cvv:h&&h.cvv,cardholderName:h&&h.cardholderName},options:{}}},g.hasAuthenticationInsight&&(m.authenticationInsightInput={merchantAccountId:f.merchantAccountId}),i&&(m.input.creditCard.billingAddress=i),m.input=(n=f,o=m.input,n.creditCard&&n.creditCard.options&&"boolean"==typeof n.creditCard.options.validate?p=n.creditCard.options.validate:n.authorizationFingerprint&&n.tokenizationKey||n.authorizationFingerprint?p=!0:n.tokenizationKey&&(p=!1),"boolean"==typeof p&&(o.options=d({validate:p},o.options)),o),m),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":31}],22:[function(a,b,c){"use strict";var d={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},e=["creditCard.options.unionPayEnrollment"];function f(a){this._config=a.graphQL}f.prototype.getGraphQLEndpoint=function(){return this._config.url},f.prototype.isGraphQLRequest=function(a,b){var c,f,g=this.getClientApiPath(a);return!!this._isGraphQLEnabled()&&!!g&&(c=this._config.features.some(function(a){return d[a]===g}),f=b,!e.some(function(a){return void 0!==a.split(".").reduce(function(a,b){return a&&a[b]},f)})&&c)},f.prototype.getClientApiPath=function(a){var b,c=a.split("/client_api/v1/");return c.length>1&&(b=c[1].split("?")[0]),b},f.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},b.exports=f},{}],23:[function(a,b,c){"use strict";var d=a("../../constants").BRAINTREE_VERSION,e=a("../../../lib/assign").assign,f=a("../../../lib/snake-case-to-camel-case"),g=a("./generators/credit-card-tokenization"),h=a("./adapters/credit-card-tokenization"),i=a("./generators/configuration"),j=a("./adapters/configuration"),k={"payment_methods/credit_cards":g,configuration:i},l={"payment_methods/credit_cards":h,configuration:j};function m(a){var b=a.graphQL.getClientApiPath(a.url);this._graphQL=a.graphQL,this._data=a.data,this._method=a.method,this._headers=a.headers,this._clientSdkMetadata={source:a.metadata.source,integration:a.metadata.integration,sessionId:a.metadata.sessionId},this._sendAnalyticsEvent=a.sendAnalyticsEvent||Function.prototype,this._generator=k[b],this._adapter=l[b],this._sendAnalyticsEvent("graphql.init")}function n(a){var b={};return Object.keys(a).forEach(function(c){var d=f(c);"object"==typeof a[c]?b[d]=n(a[c]):"number"==typeof a[c]?b[d]=String(a[c]):b[d]=a[c]}),b}m.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},m.prototype.getBody=function(){var a=n(this._data),b=this._generator(a);return JSON.stringify(e({clientSdkMetadata:this._clientSdkMetadata},b))},m.prototype.getMethod=function(){return"POST"},m.prototype.getHeaders=function(){var a,b;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),a=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),a=this._data.tokenizationKey),b={Authorization:"Bearer "+a,"Braintree-Version":d},e({},this._headers,b)},m.prototype.adaptResponseBody=function(a){return this._adapter(a,this)},m.prototype.determineStatus=function(a,b){var c,d,e,f;return 200===a?(d=b.errors&&b.errors[0]&&b.errors[0].extensions&&b.errors[0].extensions.errorClass,c=b.data&&!b.errors?200:"VALIDATION"===d?422:"AUTHORIZATION"===d?403:"AUTHENTICATION"===d?401:(e=d,f=b,!e&&f.errors[0].message)?403:500):c=a||500,this._sendAnalyticsEvent("graphql.status."+a),this._sendAnalyticsEvent("graphql.determinedStatus."+c),c},b.exports=m},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(a,b,c){"use strict";var d=a("../../lib/once"),e=a("./ajax-driver");b.exports=function(a,b){b=d(b||Function.prototype),a.method=(a.method||"GET").toUpperCase(),a.timeout=null==a.timeout?6e4:a.timeout,a.data=a.data||{},e.request(a,b)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(a,b,c){"use strict";b.exports=function(a){try{a=JSON.parse(a)}catch(b){}return a}},{}],26:[function(a,b,c){"use strict";b.exports=function(a,b){if("string"!=typeof a)throw Error("Method must be a string");return"get"!==a.toLowerCase()&&null!=b&&(b="string"==typeof b?b:JSON.stringify(b)),b}},{}],27:[function(a,b,c){"use strict";var d="undefined"!=typeof window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;b.exports={isAvailable:d,getRequestObject:function(){return d?new window.XMLHttpRequest:new window.XDomainRequest}}},{}],28:[function(a,b,c){"use strict";var d=a("./create-authorization-data"),e=a("./json-clone"),f=a("./constants");b.exports=function(a,b){var c,g=b?e(b):{},h=d(a.authorization).attrs,i=e(a.analyticsMetadata);for(c in g.braintreeLibraryVersion=f.BRAINTREE_LIBRARY_VERSION,g._meta)g._meta.hasOwnProperty(c)&&(i[c]=g._meta[c]);return g._meta=i,h.tokenizationKey?g.tokenizationKey=h.tokenizationKey:g.authorizationFingerprint=h.authorizationFingerprint,g}},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(a,b,c){"use strict";var d=a("./constants"),e=a("./add-metadata");b.exports={sendEvent:function(a,b,c){var f=Date.now();return Promise.resolve(a).then(function(a){var g=Date.now(),h=a.getConfiguration(),i=a._request,j=h.gatewayConfiguration.analytics.url,k={analytics:[{kind:d.ANALYTICS_PREFIX+b,isAsync:Math.floor(g/1e3)!==Math.floor(f/1e3),timestamp:f},]};i({url:j,method:"post",data:e(h,k),timeout:d.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(a){c&&c(a)})}}},{"./add-metadata":28,"./constants":33}],30:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":3}],31:[function(a,b,c){"use strict";var d="function"==typeof Object.assign?Object.assign:e;function e(a){var b,c,d;for(b=1;b<arguments.length;b++)for(d in c=arguments[b])c.hasOwnProperty(d)&&(a[d]=c[d]);return a}b.exports={assign:d,_assign:e}},{}],32:[function(a,b,c){"use strict";var d=a("./enumerate");function e(a){if(!e.types.hasOwnProperty(a.type))throw Error(a.type+" is not a valid type.");if(!a.code)throw Error("Error code required.");if(!a.message)throw Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.types=d(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN",]),e.findRootError=function(a){return a instanceof e&&a.details&&a.details.originalError?e.findRootError(a.details.originalError):a},b.exports=e},{"./enumerate":38}],33:[function(a,b,c){"use strict";var d="3.92.2";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:d,INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/"+d}},{}],34:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":32,"./errors":39}],35:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports=function(a,b){return a instanceof d?a:new d({type:b.type,code:b.code,message:b.message,details:{originalError:a}})}},{"./braintree-error":32}],36:[function(a,b,c){"use strict";var d=a("../lib/vendor/polyfill").atob,e=a("../lib/constants").CLIENT_API_URLS;b.exports=function(a){var b,c,f,g,h,i,j,k={attrs:{},configUrl:""};return(j=a,/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(j))?(i=(f=(c=(b=a).split("_"))[0],g=c.slice(2).join("_"),{merchantId:g,environment:f}),k.environment=i.environment,k.attrs.tokenizationKey=a,k.configUrl=e[i.environment]+"/merchants/"+i.merchantId+"/client_api/v1/configuration"):(h=JSON.parse(d(a)),k.environment=h.environment,k.attrs.authorizationFingerprint=h.authorizationFingerprint,k.configUrl=h.configUrl,k.graphQL=h.graphQL),k}},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(a,b,c){"use strict";b.exports=function(a){return function(){var b=arguments;setTimeout(function(){a.apply(null,b)},1)}}},{}],38:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],39:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return new Date(b[0],b[1],b[2])}b.exports=function(a,b){return d(a)<=d(b)}},{}],41:[function(a,b,c){"use strict";var d,e={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};b.exports=function(a){var b,c;return a=a.toLowerCase(),!!/^https:/.test(a)&&((d=d||document.createElement("a")).href=a,b=(c=d.hostname).split(".").slice(-2).join("."),e.hasOwnProperty(b))}},{}],42:[function(a,b,c){"use strict";b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],43:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}],44:[function(a,b,c){"use strict";b.exports=function(a){var b=!1;return function(){b||(b=!0,a.apply(null,arguments))}}},{}],45:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)||!1}function e(a){return a=a||window.location.href,/\?/.test(a)}function f(a,b){var c,e,g,h=[];for(g in a)a.hasOwnProperty(g)&&(e=a[g],c=b?d(a)?b+"[]":b+"["+g+"]":g,"object"==typeof e?h.push(f(e,c)):h.push(encodeURIComponent(c)+"="+encodeURIComponent(e)));return h.join("&")}b.exports={parse:function(a){var b,c;return e(a=a||window.location.href)?(a.split("?")[1]||"").replace(/#.*$/,"").split("&").reduce(function(a,b){var c=b.split("="),d=decodeURIComponent(c[0]),e=decodeURIComponent(c[1]);return a[d]=e,a},{}):{}},stringify:f,queryify:function(a,b){return a=a||"",null!=b&&"object"==typeof b&&function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0;return!1}(b)&&(a+=-1===a.indexOf("?")?"?":"",a+=-1!==a.indexOf("=")?"&":"",a+=f(b)),a},hasQueryParams:e}},{}],46:[function(a,b,c){"use strict";b.exports=function(a){return-1===a.indexOf("_")?a:a.toLowerCase().replace(/(\_\w)/g,function(a){return a[1].toUpperCase()})}},{}],47:[function(a,b,c){"use strict";var d="function"==typeof atob?atob:e;function e(a){var b,c,d,e,f,g,h,i,j=RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!j.test(a))throw Error("Non base64 encoded input passed to window.atob polyfill");i=0;do e=k.indexOf(a.charAt(i++)),f=k.indexOf(a.charAt(i++)),g=k.indexOf(a.charAt(i++)),h=k.indexOf(a.charAt(i++)),b=(63&e)<<2|f>>4&3,c=(15&f)<<4|g>>2&15,d=(3&g)<<6|63&h,l+=String.fromCharCode(b)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):"");while(i<a.length);return l}b.exports={atob:function(a){return d.call(window,a)},_atob:e}},{}]},{},[14])(14)})},56154:function(a){!function(b){a.exports=b()}(function(){var a;return(function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=void 0;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=void 0,g=0;g<d.length;g++)e(d[g]);return e}return a})()({1:[function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.PromiseGlobal=void 0;var e=d(a("promise-polyfill")),f="undefined"!=typeof Promise?Promise:e.default;c.PromiseGlobal=f},{"promise-polyfill":8}],2:[function(a,b,c){"use strict";var d=a("./lib/promise"),e={};function f(a){var b,c=JSON.stringify(a);if(!a.forceScriptReload&&(b=e[c]))return b;var f=document.createElement("script"),g=a.dataAttributes||{},h=a.container||document.head;return f.src=a.src,f.id=a.id||"",f.async=!0,a.crossorigin&&f.setAttribute("crossorigin",""+a.crossorigin),Object.keys(g).forEach(function(a){f.setAttribute("data-"+a,""+g[a])}),b=new d.PromiseGlobal(function(b,c){f.addEventListener("load",function(){b(f)}),f.addEventListener("error",function(){c(Error(a.src+" failed to load."))}),f.addEventListener("abort",function(){c(Error(a.src+" has aborted."))}),h.appendChild(f)}),e[c]=b,b}f.clearCache=function(){e={}},b.exports=f},{"./lib/promise":1}],3:[function(a,b,c){b.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.deferred=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];setTimeout(function(){try{a.apply(void 0,b)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}},{}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.once=function(a){var b=!1;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];b||(b=!0,a.apply(void 0,c))}}},{}],6:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.promiseOrCallback=function(a,b){if(!b)return a;a.then(function(a){return b(null,a)}).catch(function(a){return b(a)})}},{}],7:[function(a,b,c){"use strict";var d=a("./lib/deferred"),e=a("./lib/once"),f=a("./lib/promise-or-callback");function g(a){return function(){for(var b,c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return"function"==typeof c[c.length-1]&&(b=c.pop(),b=e.once(d.deferred(b))),f.promiseOrCallback(a.apply(this,c),b)}}g.wrapPrototype=function(a,b){void 0===b&&(b={});var c=b.ignoreMethods||[],d=!0===b.transformPrivateMethods;return Object.getOwnPropertyNames(a.prototype).filter(function(b){var e,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return e=!!d||"_"!==b.charAt(0),f&&e&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=g(c)}),a},b.exports=g},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(a,b,c){"use strict";var d=setTimeout;function e(a){return Boolean(a&&void 0!==a.length)}function f(){}function g(a){if(!(this instanceof g))throw TypeError("Promises must be constructed via new");if("function"!=typeof a)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(a,this)}function h(a,b){for(;3===a._state;)a=a._value;if(0===a._state){a._deferreds.push(b);return}a._handled=!0,g._immediateFn(function(){var c,d=1===a._state?b.onFulfilled:b.onRejected;if(null===d){(1===a._state?i:j)(b.promise,a._value);return}try{c=d(a._value)}catch(e){j(b.promise,e);return}i(b.promise,c)})}function i(a,b){try{if(b===a)throw TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c,d,e=b.then;if(b instanceof g){a._state=3,a._value=b,k(a);return}if("function"==typeof e){m((c=e,d=b,function(){c.apply(d,arguments)}),a);return}}a._state=1,a._value=b,k(a)}catch(f){j(a,f)}}function j(a,b){a._state=2,a._value=b,k(a)}function k(a){2===a._state&&0===a._deferreds.length&&g._immediateFn(function(){a._handled||g._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)h(a,a._deferreds[b]);a._deferreds=null}function l(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function m(a,b){var c=!1;try{a(function(a){c||(c=!0,i(b,a))},function(a){c||(c=!0,j(b,a))})}catch(d){if(c)return;c=!0,j(b,d)}}g.prototype.catch=function(a){return this.then(null,a)},g.prototype.then=function(a,b){var c=new this.constructor(f);return h(this,new l(a,b,c)),c},g.prototype.finally=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},g.all=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.all accepts an array"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var f=d.length;function g(a,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var h=e.then;if("function"==typeof h){h.call(e,function(b){g(a,b)},c);return}}d[a]=e,0==--f&&b(d)}catch(i){c(i)}}for(var h=0;h<d.length;h++)g(h,d[h])})},g.allSettled=function(a){return new this(function(b,c){if(!(a&&void 0!==a.length))return c(TypeError(typeof a+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var e=d.length;function f(a,c){if(c&&("object"==typeof c||"function"==typeof c)){var g=c.then;if("function"==typeof g){g.call(c,function(b){f(a,b)},function(c){d[a]={status:"rejected",reason:c},0==--e&&b(d)});return}}d[a]={status:"fulfilled",value:c},0==--e&&b(d)}for(var g=0;g<d.length;g++)f(g,d[g])})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.race accepts an array"));for(var d=0,f=a.length;d<f;d++)g.resolve(a[d]).then(b,c)})},g._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){d(a,0)},g._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=g},{}],9:[function(a,b,c){"use strict";var d=a("../lib/braintree-error");b.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:d.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:d.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:d.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":16}],10:[function(a,b,c){"use strict";var d,e=a("../lib/constants").FRAUDNET_FNCLS,f=a("../lib/constants").FRAUDNET_SOURCE,g=a("../lib/constants").FRAUDNET_URL,h=a("../lib/assets").loadScript;function i(){}function j(a){a&&a.parentNode&&a.parentNode.removeChild(a)}i.prototype.initialize=function(a){var b,c,i,j,k,l,m=a.environment,n=this;return this.sessionId=a.sessionId||function a(){var b,c="";for(b=0;b<32;b++)c+=Math.floor(16*Math.random()).toString(16);return c}(),a.sessionId||(d=this.sessionId),this._beaconId=(b=this.sessionId,"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+b+"&t="+new Date().getTime()/1e3+"&a=14"),this._parameterBlock=(c=this.sessionId,i=this._beaconId,j=m,k=document.body.appendChild(document.createElement("script")),l={f:c,s:f,b:i},"production"!==j&&(l.sandbox=!0),k.type="application/json",k.setAttribute("fncls",e),k.text=JSON.stringify(l),k),h({src:g}).then(function(a){return n._thirdPartyBlock=a,n}).catch(function(){return null})},i.prototype.teardown=function(){j(document.querySelector('iframe[title="ppfniframe"]')),j(document.querySelector('iframe[title="pbf"]')),j(this._parameterBlock),j(this._thirdPartyBlock)},b.exports={setup:function(a){var b=new i;return!(a=a||{}).sessionId&&d?(b.sessionId=d,Promise.resolve(b)):b.initialize(a)},clearSessionIdCache:function(){d=null}}},{"../lib/assets":14,"../lib/constants":18}],11:[function(a,b,c){"use strict";var d=a("./kount"),e=a("./fraudnet"),f=a("../lib/braintree-error"),g=a("../lib/basic-component-verification"),h=a("../lib/create-deferred-client"),i=a("../lib/create-assets-url"),j=a("../lib/methods"),k=a("../lib/convert-methods-to-error"),l=a("@braintree/wrap-promise"),m=a("./errors");b.exports={create:l(function(a){var b,c="Data Collector",n={_instances:[]};return g.verify({name:c,client:a.client,authorization:a.authorization}).then(function(){var g,o;return(n._instantiatedWithAClient=!a.useDeferredClient,n._createPromise=h.create({authorization:a.authorization,client:a.client,debug:a.debug,assetsUrl:i.create(a.authorization),name:c}).then(function(c){var e,g=c.getConfiguration();if(!0===a.kount&&g.gatewayConfiguration.kount){try{e=d.setup({environment:g.gatewayConfiguration.environment,merchantId:g.gatewayConfiguration.kount.kountMerchantId})}catch(h){return Promise.reject(new f({type:m.DATA_COLLECTOR_KOUNT_ERROR.type,code:m.DATA_COLLECTOR_KOUNT_ERROR.code,message:h.message}))}b=e.deviceData,n._instances.push(e)}else b={};return Promise.resolve(c)}).then(function(c){return e.setup({sessionId:a.riskCorrelationId||a.clientMetadataId||a.correlationId,environment:c.getConfiguration().gatewayConfiguration.environment}).then(function(a){a&&(b.correlation_id=a.sessionId,n._instances.push(a))})}).then(function(){return 0===n._instances.length?Promise.reject(new f(m.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(n.deviceData=JSON.stringify(b),n.rawDeviceData=b,n)}),n.teardown=(g=n,l(function(){return g._createPromise.then(function(){g._instances.forEach(function(a){a&&a.teardown()}),k(g,j(g))})})),n.getDeviceData=(o=n,l(function(a){return a=a||{},o._createPromise.then(function(){return a.raw?Promise.resolve(o.rawDeviceData):Promise.resolve(o.deviceData)})})),n._instantiatedWithAClient)?n._createPromise:n})}),VERSION:"3.92.2"}},{"../lib/basic-component-verification":15,"../lib/braintree-error":16,"../lib/convert-methods-to-error":19,"../lib/create-assets-url":20,"../lib/create-deferred-client":21,"../lib/methods":24,"./errors":9,"./fraudnet":10,"./kount":12,"@braintree/wrap-promise":7}],12:[function(a,b,c){"use strict";var d=a("./vendor/sjcl"),e=a("../lib/camel-case-to-snake-case"),f="https://assets.qa.braintreepayments.com/data",g={development:f,qa:f,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},h={};function i(a){var b=i.getCachedDeviceData(a.merchantId);if(b){this.deviceData=b,this._isCached=!0;return}this._currentEnvironment=this._initializeEnvironment(a),d.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),i.setCachedDeviceData(a.merchantId,this.deviceData),this._iframe=this._setupIFrame()}i.getCachedDeviceData=function(a){return h[a]},i.setCachedDeviceData=function(a,b){h[a]=b},i.prototype.teardown=function(){this._isCached||(d.random.stopCollectors(),this._removeIframe())},i.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},i.prototype._getDeviceData=function(){return e({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},i.prototype._generateDeviceSessionId=function(){var a,b;return a=d.random.randomWords(4,0),b=d.codec.hex.fromBits(a)},i.prototype._setupIFrame=function(){var a,b,c=this;return a="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(b=document.createElement("iframe")).width=1,b.id="braintreeDataFrame-"+this._deviceSessionId,b.height=1,b.frameBorder=0,b.scrolling="no",b.style.position="fixed",b.style.left="-999999px",b.style.top="-999999px",b.title="Braintree-Kount-iframe",b.setAttribute("aria-hidden","true"),document.body.appendChild(b),setTimeout(function(){b.src=c._currentEnvironment.url+"/logo.htm"+a,b.innerHTML='<img src="'+c._currentEnvironment.url+"/logo.gif"+a+'" alt="" />'},10),b},i.prototype._initializeEnvironment=function(a){var b=g[a.environment];if(null==b)throw Error(a.environment+" is not a valid environment for kount.environment");return{url:b,name:a.environment,id:a.merchantId}},b.exports={setup:function(a){return new i(null!=a?a:{})},Kount:i,environmentUrls:g}},{"../lib/camel-case-to-snake-case":17,"./vendor/sjcl":13}],13:[function(b,c,d){"use strict";var e,f,g,h,i,j={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};function k(a,b,c){if(4!==b.length)throw new j.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,i,k,l,m=d.length/4-2,n=4,o=[0,0,0,0];a=(h=a.l[c])[0];var p=h[1],q=h[2],r=h[3],s=h[4];for(l=0;l<m;l++)h=a[e>>>24]^p[f>>16&255]^q[g>>8&255]^r[255&b]^d[n],i=a[f>>>24]^p[g>>16&255]^q[b>>8&255]^r[255&e]^d[n+1],k=a[g>>>24]^p[b>>16&255]^q[e>>8&255]^r[255&f]^d[n+2],b=a[b>>>24]^p[e>>16&255]^q[f>>8&255]^r[255&g]^d[n+3],n+=4,e=h,f=i,g=k;for(l=0;4>l;l++)o[c?3&-l:l]=s[e>>>24]<<24^s[f>>16&255]<<16^s[g>>8&255]<<8^s[255&b]^d[n++],h=e,e=f,f=g,g=b,b=h;return o}function l(a,b){var c,d,e,f=a.u,g=a.b,h=f[0],i=f[1],j=f[2],k=f[3],l=f[4],m=f[5],n=f[6],o=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[15&c]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[15&c]+b[c+9&15]|0),d=d+o+(l>>>6^l>>>11^l>>>25^l<<26^l<<21^l<<7)+(n^l&(m^n))+g[c],o=n,n=m,m=l,l=k+d|0,k=j,j=i,i=h,h=d+(i&j^k&(i^j))+(i>>>2^i>>>13^i>>>22^i<<30^i<<19^i<<10)|0;f[0]=f[0]+h|0,f[1]=f[1]+i|0,f[2]=f[2]+j|0,f[3]=f[3]+k|0,f[4]=f[4]+l|0,f[5]=f[5]+m|0,f[6]=f[6]+n|0,f[7]=f[7]+o|0}function m(a,b){var c,d=j.random.B[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function n(a,b){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy(new Date().valueOf(),b,"loadtime")}function o(a){a.b=p(a).concat(p(a)),a.C=new j.cipher.aes(a.b)}function p(a){for(var b=0;4>b&&(a.g[b]=a.g[b]+1|0,!a.g[b]);b++);return a.C.encrypt(a.g)}function q(a,b){return function(){b.apply(a,arguments)}}j.cipher.aes=function(a){this.l[0][0][0]||this.G();var b,c,d,e,f=this.l[0][4],g=this.l[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new j.exception.invalid("invalid aes key size");for(this.b=[d=a.slice(0),e=[]],a=b;a<4*b+28;a++)c=d[a-1],(0==a%b||8===b&&4==a%b)&&(c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[255&c],0==a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7))),d[a]=d[a-b]^c;for(b=0;a;b++,a--)c=d[3&b?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[255&c]]},j.cipher.aes.prototype={encrypt:function(a){return k(this,a,0)},decrypt:function(a){return k(this,a,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]],],G:function(){var a,b,c,d,e,f,g,h=this.l[0],i=this.l[1],j=h[4],k=i[4],l=[],m=[];for(a=0;256>a;a++)m[(l[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!j[b];b^=d||1,c=m[c]||1)for(f=(f=c^c<<1^c<<2^c<<3^c<<4)>>8^255&f^99,j[b]=f,k[f]=b,g=16843009*(e=l[a=l[d=l[b]]])^65537*a^257*d^16843008*b,e=257*l[f]^16843008*f,a=0;4>a;a++)h[a][b]=e=e<<24^e>>>8,i[a][f]=g=g<<24^g>>>8;for(a=0;5>a;a++)h[a]=h[a].slice(0),i[a]=i[a].slice(0)}},j.bitArray={bitSlice:function(a,b,c){return a=j.bitArray.M(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:j.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=j.bitArray.getPartial(c);return 32===d?a.concat(b):j.bitArray.M(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+j.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;var c=(a=a.slice(0,Math.ceil(b/32))).length;return b&=31,0<c&&b&&(a[c-1]=j.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(j.bitArray.bitLength(a)!==j.bitArray.bitLength(b))return!1;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},M:function(a,b,c,d){var e;for(e=0,void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=j.bitArray.getPartial(e),d.push(j.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1)),d},Y:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&65280|(65280&c)<<8|c<<24;return a}},j.codec.utf8String={fromBits:function(a){var b,c,d="",e=j.bitArray.bitLength(a);for(b=0;b<e/8;b++)0==(3&b)&&(c=a[b/4]),d+=String.fromCharCode(c>>>8>>>8>>>8),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3==(3&b)&&(c.push(d),d=0);return 3&b&&c.push(j.bitArray.partial(8*(3&b),d)),c}},j.codec.hex={fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=((0|a[b])+0xf00000000000).toString(16).substr(4);return c.substr(0,j.bitArray.bitLength(a)/4)},toBits:function(a){var b,c,d=[];for(c=(a=a.replace(/\s|0x/g,"")).length,a+="00000000",b=0;b<a.length;b+=8)d.push(0^parseInt(a.substr(b,8),16));return j.bitArray.clamp(d,4*c)}},j.hash.sha256=function(a){this.b[0]||this.G(),a?(this.u=a.u.slice(0),this.o=a.o.slice(0),this.h=a.h):this.reset()},j.hash.sha256.hash=function(a){return new j.hash.sha256().update(a).finalize()},j.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(a){"string"==typeof a&&(a=j.codec.utf8String.toBits(a));var b,c=this.o=j.bitArray.concat(this.o,a);if(b=this.h,9007199254740991<(a=this.h=b+j.bitArray.bitLength(a)))throw new j.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&511);b<=a;b+=512)l(this,d.subarray(16*e,16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&511);b<=a;b+=512)l(this,c.splice(0,16));return this},finalize:function(){var a,b=this.o,c=this.u,b=j.bitArray.concat(b,[j.bitArray.partial(1,1)]);for(a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.h/4294967296)),b.push(0|this.h);b.length;)l(this,b.splice(0,16));return this.reset(),c},K:[],b:[],G:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}for(var b,c,d=0,e=2;64>d;e++){for(b=2,c=!0;b*b<=e;b++)if(0==e%b){c=!1;break}c&&(8>d&&(this.K[d]=a(Math.pow(e,.5))),this.b[d]=a(Math.pow(e,1/3)),d++)}}},j.prng=function(a){this.c=[new j.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=a,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},j.prng.prototype={randomWords:function(a,b){var c,d=[];if((c=this.isReady(b))===this.m)throw new j.exception.notReady("generator isn't seeded");if(c&this.A){c=!(c&this.w),e=[];var e,f,g=0;for(f=0,this.L=e[0]=new Date().valueOf()+this.P;16>f;f++)e.push(4294967296*Math.random()|0);for(f=0;f<this.c.length&&(e=e.concat(this.c[f].finalize()),g+=this.i[f],this.i[f]=0,c||!(this.H&1<<f));f++);for(this.H>=1<<this.c.length&&(this.c.push(new j.hash.sha256),this.i.push(0)),this.f-=g,g>this.j&&(this.j=g),this.H++,this.b=j.hash.sha256.hash(this.b.concat(e)),this.C=new j.cipher.aes(this.b),c=0;4>c&&(this.g[c]=this.g[c]+1|0,!this.g[c]);c++);}for(c=0;c<a;c+=4)0==(c+1)%this.O&&o(this),d.push((e=p(this))[0],e[1],e[2],e[3]);return o(this),d.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new j.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=new Date().valueOf(),g=this.v[c],h=this.isReady(),i=0;switch(void 0===(d=this.J[c])&&(d=this.J[c]=this.T++),void 0===g&&(g=this.v[c]=0),this.v[c]=(this.v[c]+1)%this.c.length,typeof a){case"number":void 0===b&&(b=1),this.c[g].update([d,this.F++,1,b,f,1,0|a]);break;case"object":if("[object Uint32Array]"===(c=Object.prototype.toString.call(a))){for(c=0,e=[];c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(i=1),c=0;c<a.length&&!i;c++)"number"!=typeof a[c]&&(i=1);if(!i){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e>>>=1;this.c[g].update([d,this.F++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this.c[g].update([d,this.F++,3,b,f,a.length]),this.c[g].update(a);break;default:i=1}if(i)throw new j.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[g]+=b,this.f+=b,h===this.m&&(this.isReady()!==this.m&&m("seeded",Math.max(this.j,this.f)),m("progress",this.getProgress()))},isReady:function(a){return a=this.I[void 0!==a?a:this.D],this.j&&this.j>=a?this.i[0]>this.N&&new Date().valueOf()>this.L?this.A|this.w:this.w:this.f>=a?this.A|this.m:this.m},getProgress:function(a){return a=this.I[a||this.D],this.j>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:q(this,this.V),mouseCollector:q(this,this.W),keyboardCollector:q(this,this.U),accelerometerCollector:q(this,this.R),touchCollector:q(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new j.exception.bug("can't attach event");this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(a,b){this.B[a][this.S++]=b},removeEventListener:function(a,b){var c,d,e=this.B[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)delete e[d=f[c]]},U:function(){n(this,1)},W:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse"),n(this,0)},X:function(a){a=a.touches[0]||a.changedTouches[0],this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch"),n(this,0)},V:function(){n(this,2)},R:function(a){if(a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z,window.orientation){var b=window.orientation;"number"==typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer"),n(this,0)}},j.random=new j.prng(6);a:try{if(h=void 0!==c&&c.exports){try{i=b("crypto")}catch(r){i=null}h=f=i}if(h&&f.randomBytes)e=f.randomBytes(128),e=new Uint32Array(new Uint8Array(e).buffer),j.random.addEntropy(e,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(g=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(g);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(g);else break a;j.random.addEntropy(g,1024,"crypto['getRandomValues']")}}catch(s){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(s))}void 0!==c&&c.exports&&(c.exports=j),"function"==typeof a&&a([],function(){return j})},{crypto:void 0}],14:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":3}],15:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors"),f="3.92.2";b.exports={verify:function(a){var b,c,g;return a?(g=a.name,b=a.client,c=a.authorization,b||c)?c||b.getVersion()===f?Promise.resolve():Promise.reject(new d({type:e.INCOMPATIBLE_VERSIONS.type,code:e.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+b.getVersion()+") and "+g+" (version "+f+") components must be from the same SDK version."})):Promise.reject(new d({type:e.INSTANTIATION_OPTION_REQUIRED.type,code:e.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+g+"."})):Promise.reject(new d({type:e.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:e.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":16,"./errors":23}],16:[function(a,b,c){"use strict";var d=a("./enumerate");function e(a){if(!e.types.hasOwnProperty(a.type))throw Error(a.type+" is not a valid type.");if(!a.code)throw Error("Error code required.");if(!a.message)throw Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.types=d(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN",]),e.findRootError=function(a){return a instanceof e&&a.details&&a.details.originalError?e.findRootError(a.details.originalError):a},b.exports=e},{"./enumerate":22}],17:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).reduce(function(b,c){var d;return b[(d=c).replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()]=a[c],b},{})}},{}],18:[function(a,b,c){"use strict";var d="3.92.2";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:d,INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/"+d}},{}],19:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":16,"./errors":23}],20:[function(a,b,c){"use strict";var d=a("./constants").ASSETS_URLS;b.exports={create:function(a){return d.production}}},{"./constants":18}],21:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./assets"),f=a("./errors"),g="3.92.2";b.exports={create:function(a){var b=Promise.resolve();return a.client?Promise.resolve(a.client):(window.braintree&&window.braintree.client||(b=e.loadScript({src:a.assetsUrl+"/web/"+g+"/js/client.min.js"}).catch(function(a){return Promise.reject(new d({type:f.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:f.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:f.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:a}}))})),b.then(function(){return window.braintree.client.VERSION!==g?Promise.reject(new d({type:f.INCOMPATIBLE_VERSIONS.type,code:f.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+a.name+" (version "+g+") components must be from the same SDK version."})):window.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}}},{"./assets":14,"./braintree-error":16,"./errors":23}],22:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],23:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":16}],24:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}]},{},[11])(11)})},79794:function(a){!function(b){a.exports=b()}(function(){return(function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=void 0;if(!h&&i)return require(g,!0);if(f)return f(g,!0);var j=Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f=void 0,g=0;g<d.length;g++)e(d[g]);return e}return a})()({1:[function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.PromiseGlobal=void 0;var e=d(a("promise-polyfill")),f="undefined"!=typeof Promise?Promise:e.default;c.PromiseGlobal=f},{"promise-polyfill":45}],2:[function(a,b,c){"use strict";var d=a("./lib/promise"),e={};function f(a){var b,c=JSON.stringify(a);if(!a.forceScriptReload&&(b=e[c]))return b;var f=document.createElement("script"),g=a.dataAttributes||{},h=a.container||document.head;return f.src=a.src,f.id=a.id||"",f.async=!0,a.crossorigin&&f.setAttribute("crossorigin",""+a.crossorigin),Object.keys(g).forEach(function(a){f.setAttribute("data-"+a,""+g[a])}),b=new d.PromiseGlobal(function(b,c){f.addEventListener("load",function(){b(f)}),f.addEventListener("error",function(){c(Error(a.src+" failed to load."))}),f.addEventListener("abort",function(){c(Error(a.src+" has aborted."))}),h.appendChild(f)}),e[c]=b,b}f.clearCache=function(){e={}},b.exports=f},{"./lib/promise":1}],3:[function(a,b,c){b.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,b,c){"use strict";b.exports=function(a){return a=a||window.navigator.userAgent,/Android/i.test(a)}},{}],5:[function(a,b,c){"use strict";var d=a("./is-edge"),e=a("./is-samsung"),f=a("./is-duckduckgo"),g=a("./is-opera"),h=a("./is-silk");b.exports=function(a){return(-1!==(a=a||window.navigator.userAgent).indexOf("Chrome")||-1!==a.indexOf("CriOS"))&&!d(a)&&!e(a)&&!f(a)&&!g(a)&&!h(a)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||window.navigator.userAgent).indexOf("DuckDuckGo/")}},{}],7:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||window.navigator.userAgent).indexOf("Edge/")}},{}],8:[function(a,b,c){"use strict";b.exports=function(a){return a=a||window.navigator.userAgent,/FxiOS/i.test(a)}},{}],9:[function(a,b,c){"use strict";var d=a("./is-ios");b.exports=function(a){var b;return d(a=a||window.navigator.userAgent)&&(b=a,/\bGSA\b/.test(b))}},{"./is-ios":12}],10:[function(a,b,c){"use strict";var d=a("./is-ios"),e=a("./is-ios-google-search-app");b.exports=function(a){return!!d(a=a||window.navigator.userAgent)&&(!!e(a)||/.+AppleWebKit(?!.*Safari)/i.test(a))}},{"./is-ios":12,"./is-ios-google-search-app":9}],11:[function(a,b,c){"use strict";var d=a("./is-ios-webview");b.exports=function(a,b){return b=void 0!==b?b:window.statusbar.visible,d(a)&&b}},{"./is-ios-webview":10}],12:[function(a,b,c){"use strict";b.exports=function(a){return a=a||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(a)}},{}],13:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||window.navigator.userAgent).indexOf("OPR/")||-1!==a.indexOf("Opera/")||-1!==a.indexOf("OPT/")}},{}],14:[function(a,b,c){"use strict";b.exports=function(a){return a=a||window.navigator.userAgent,/SamsungBrowser/i.test(a)}},{}],15:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||window.navigator.userAgent).indexOf("Silk/")}},{}],16:[function(a,b,c){"use strict";var d=a("./is-android"),e=a("./is-ios-firefox"),f=a("./is-ios-webview"),g=a("./is-chrome"),h=a("./is-samsung"),i=a("./is-duckduckgo");function j(a){return(a=a||window.navigator.userAgent).indexOf("Opera Mini")>-1}b.exports=function(a){var b,c,k,l;return!(f(a=a||window.navigator.userAgent)||e(a)||d(b=(b=a)||window.navigator.userAgent)&&/Version\/[\d.]+/i.test(b)&&!j(b)&&!i(b)||j(a)||(k=a,l=(k=k||window.navigator.userAgent).match(/CriOS\/(\d+)\./),l&&48>parseInt(l[1],10))||!g(c=a)&&!h(c)&&/samsung/i.test(c))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":8,"./is-ios-webview":10,"./is-samsung":14}],17:[function(a,b,c){b.exports=a("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],18:[function(a,b,c){b.exports=a("./dist/is-ios")},{"./dist/is-ios":12}],19:[function(a,b,c){b.exports=a("./dist/supports-popups")},{"./dist/supports-popups":16}],20:[function(a,b,c){"use strict";var d="undefined"!=typeof Promise?Promise:null,e=function(){function a(b){var c=this;if("function"==typeof b){this._promise=new a.Promise(b);return}this._promise=new a.Promise(function(a,b){c._resolveFunction=a,c._rejectFunction=b}),b=b||{},this._onResolve=b.onResolve||a.defaultOnResolve,this._onReject=b.onReject||a.defaultOnReject,a.shouldCatchExceptions(b)&&this._promise.catch(function(){}),this._resetState()}return a.defaultOnResolve=function(b){return a.Promise.resolve(b)},a.defaultOnReject=function(b){return a.Promise.reject(b)},a.setPromise=function(b){a.Promise=b},a.shouldCatchExceptions=function(b){return b.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(b.suppressUnhandledPromiseMessage):Boolean(a.suppressUnhandledPromiseMessage)},a.all=function(b){return a.Promise.all(b)},a.allSettled=function(b){return a.Promise.allSettled(b)},a.race=function(b){return a.Promise.race(b)},a.reject=function(b){return a.Promise.reject(b)},a.resolve=function(b){return a.Promise.resolve(b)},a.prototype.then=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return(a=this._promise).then.apply(a,b)},a.prototype.catch=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return(a=this._promise).catch.apply(a,b)},a.prototype.resolve=function(b){var c=this;return this.isFulfilled||(this._setResolved(),a.Promise.resolve().then(function(){return c._onResolve(b)}).then(function(a){c._resolveFunction(a)}).catch(function(a){c._resetState(),c.reject(a)})),this},a.prototype.reject=function(b){var c=this;return this.isFulfilled||(this._setRejected(),a.Promise.resolve().then(function(){return c._onReject(b)}).then(function(a){c._setResolved(),c._resolveFunction(a)}).catch(function(a){return c._rejectFunction(a)})),this},a.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},a.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},a.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},a.Promise=d,a}();b.exports=e},{}],21:[function(a,b,c){"use strict";var d=a("./lib/set-attributes"),e=a("./lib/default-attributes"),f=a("./lib/assign");b.exports=function(a){void 0===a&&(a={});var b=document.createElement("iframe"),c=f.assign({},e.defaultAttributes,a);return c.style&&"string"!=typeof c.style&&(f.assign(b.style,c.style),delete c.style),d.setAttributes(b,c),b.getAttribute("id")||(b.id=b.name),b}},{"./lib/assign":22,"./lib/default-attributes":23,"./lib/set-attributes":24}],22:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0,c.assign=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.forEach(function(b){"object"==typeof b&&Object.keys(b).forEach(function(c){a[c]=b[c]})}),a}},{}],23:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.defaultAttributes=void 0,c.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],24:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setAttributes=void 0,c.setAttributes=function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];null==d?a.removeAttribute(c):a.setAttribute(c,d)}}},{}],25:[function(a,b,c){"use strict";b.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},{}],26:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.deferred=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];setTimeout(function(){try{a.apply(void 0,b)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}},{}],27:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.once=function(a){var b=!1;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];b||(b=!0,a.apply(void 0,c))}}},{}],28:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.promiseOrCallback=function(a,b){if(!b)return a;a.then(function(a){return b(null,a)}).catch(function(a){return b(a)})}},{}],29:[function(a,b,c){"use strict";var d=a("./lib/deferred"),e=a("./lib/once"),f=a("./lib/promise-or-callback");function g(a){return function(){for(var b,c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return"function"==typeof c[c.length-1]&&(b=c.pop(),b=e.once(d.deferred(b))),f.promiseOrCallback(a.apply(this,c),b)}}g.wrapPrototype=function(a,b){void 0===b&&(b={});var c=b.ignoreMethods||[],d=!0===b.transformPrivateMethods;return Object.getOwnPropertyNames(a.prototype).filter(function(b){var e,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return e=!!d||"_"!==b.charAt(0),f&&e&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=g(c)}),a},b.exports=g},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Framebus=void 0;var d=a("./lib/is-not-string"),e=a("./lib/subscription-args-invalid"),f=a("./lib/broadcast"),g=a("./lib/package-payload"),h=a("./lib/send-message"),i=a("./lib/constants"),j="undefined"!=typeof window&&window.Promise,k=function(){function a(a){void 0===a&&(a={}),this.origin=a.origin||"*",this.channel=a.channel||"",this.verifyDomain=a.verifyDomain,this.targetFrames=a.targetFrames||[],this.limitBroadcastToFramesArray=Boolean(a.targetFrames),this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=Boolean(this.verifyDomain||this.limitBroadcastToFramesArray)}return a.setPromise=function(b){a.Promise=b},a.target=function(b){return new a(b)},a.prototype.addTargetFrame=function(a){this.limitBroadcastToFramesArray&&this.targetFrames.push(a)},a.prototype.include=function(a){return null!=a&&null!=a.Window&&a.constructor===a.Window&&(i.childWindows.push(a),!0)},a.prototype.target=function(b){return a.target(b)},a.prototype.emit=function(a,b,c){if(this.isDestroyed)return!1;var e=this.origin;if(a=this.namespaceEvent(a),(0,d.isntString)(a)||(0,d.isntString)(e))return!1;"function"==typeof b&&(c=b,b=void 0);var i=(0,g.packagePayload)(a,e,b,c);return!!i&&(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(a){(0,h.sendMessage)(a,i,e)}):(0,f.broadcast)(i,{origin:e,frame:window.top||window.self}),!0)},a.prototype.emitAsPromise=function(b,c){var d=this;return new a.Promise(function(a,e){d.emit(b,c,function(b){a(b)})||e(Error('Listener not added for "'.concat(b,'"')))})},a.prototype.on=function(a,b){if(this.isDestroyed)return!1;var c=this,d=this.origin,f=b;return a=this.namespaceEvent(a),!(0,e.subscriptionArgsInvalid)(a,f,d)&&(this.hasAdditionalChecksForOnListeners&&(f=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];c.passesVerifyDomainCheck(this&&this.origin)&&c.hasMatchingTargetFrame(this&&this.source)&&b.apply(void 0,a)}),this.listeners.push({eventName:a,handler:f,originalHandler:b}),i.subscribers[d]=i.subscribers[d]||{},i.subscribers[d][a]=i.subscribers[d][a]||[],i.subscribers[d][a].push(f),!0)},a.prototype.off=function(a,b){var c=b;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var d=0;d<this.listeners.length;d++){var f=this.listeners[d];f.originalHandler===b&&(c=f.handler)}a=this.namespaceEvent(a);var g=this.origin;if((0,e.subscriptionArgsInvalid)(a,c,g))return!1;var h=i.subscribers[g]&&i.subscribers[g][a];if(!h)return!1;for(var d=0;d<h.length;d++)if(h[d]===c)return h.splice(d,1),!0;return!1},a.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var a=0;a<this.listeners.length;a++){var b=this.listeners[a];this.off(b.eventName,b.handler)}this.listeners.length=0}},a.prototype.passesVerifyDomainCheck=function(a){return!this.verifyDomain||this.checkOrigin(a)},a.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(a){return a instanceof HTMLIFrameElement?a.contentWindow:a}).filter(function(a){return a}):[]},a.prototype.hasMatchingTargetFrame=function(a){return!this.limitBroadcastToFramesArray||Boolean(this.targetFramesAsWindows().find(function(b){return b===a}))},a.prototype.checkOrigin=function(a){var b,c=document.createElement("a");c.href=location.href,b="https:"===c.protocol?c.host.replace(/:443$/,""):"http:"===c.protocol?c.host.replace(/:80$/,""):c.host;var d=c.protocol+"//"+b;return d===a||!this.verifyDomain||this.verifyDomain(a)},a.prototype.namespaceEvent=function(a){return this.channel?"".concat(this.channel,":").concat(a):a},a.Promise=j,a}();c.Framebus=k},{"./lib/broadcast":34,"./lib/constants":35,"./lib/is-not-string":38,"./lib/package-payload":40,"./lib/send-message":41,"./lib/subscription-args-invalid":43}],31:[function(a,b,c){"use strict";var d=a("./lib/attach"),e=a("./framebus");(0,d.attach)(),b.exports=e.Framebus},{"./framebus":30,"./lib/attach":32}],32:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.detach=c.attach=void 0;var d=a("./message"),e=!1;c.attach=function(){!e&&"undefined"!=typeof window&&(e=!0,window.addEventListener("message",d.onmessage,!1))},c.detach=function(){e=!1,window.removeEventListener("message",d.onmessage,!1)}},{"./message":39}],33:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.broadcastToChildWindows=void 0;var d=a("./broadcast"),e=a("./constants");c.broadcastToChildWindows=function(a,b,c){for(var f=e.childWindows.length-1;f>=0;f--){var g=e.childWindows[f];g.closed?e.childWindows.splice(f,1):c!==g&&(0,d.broadcast)(a,{origin:b,frame:g.top})}}},{"./broadcast":34,"./constants":35}],34:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.broadcast=void 0;var d=a("./has-opener");function e(a,b){var c,f=0,g=b.origin,h=b.frame;try{for(h.postMessage(a,g),(0,d.hasOpener)(h)&&h.opener.top!==window.top&&e(a,{origin:g,frame:h.opener.top});c=h.frames[f];)e(a,{origin:g,frame:c}),f++}catch(i){}}c.broadcast=e},{"./has-opener":37}],35:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.subscribers=c.childWindows=c.prefix=void 0,c.prefix="/*framebus*/",c.childWindows=[],c.subscribers={}},{}],36:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.dispatch=void 0;var d=a("./constants");c.dispatch=function(a,b,c,e,f){if(d.subscribers[a]&&d.subscribers[a][b]){var g=[];c&&g.push(c),e&&g.push(e);for(var h=0;h<d.subscribers[a][b].length;h++)d.subscribers[a][b][h].apply(f,g)}}},{"./constants":35}],37:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.hasOpener=void 0,c.hasOpener=function(a){return a.top===a&&null!=a.opener&&a.opener!==a&&!0!==a.opener.closed}},{}],38:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isntString=void 0,c.isntString=function(a){return"string"!=typeof a}},{}],39:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.onmessage=void 0;var d=a("./is-not-string"),e=a("./unpack-payload"),f=a("./dispatch"),g=a("./broadcast-to-child-windows");c.onmessage=function(a){if(!(0,d.isntString)(a.data)){var b=(0,e.unpackPayload)(a);if(b){var c=b.eventData,h=b.reply;(0,f.dispatch)("*",b.event,c,h,a),(0,f.dispatch)(a.origin,b.event,c,h,a),(0,g.broadcastToChildWindows)(a.data,b.origin,a.source)}}}},{"./broadcast-to-child-windows":33,"./dispatch":36,"./is-not-string":38,"./unpack-payload":44}],40:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.packagePayload=void 0;var d=a("./subscribe-replier"),e=a("./constants");c.packagePayload=function(a,b,c,f){var g,h={event:a,origin:b};"function"==typeof f&&(h.reply=(0,d.subscribeReplier)(f,b)),h.eventData=c;try{g=e.prefix+JSON.stringify(h)}catch(i){throw Error("Could not stringify event: ".concat(i.message))}return g}},{"./constants":35,"./subscribe-replier":42}],41:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sendMessage=void 0,c.sendMessage=function(a,b,c){try{a.postMessage(b,c)}catch(d){}}},{}],42:[function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.subscribeReplier=void 0;var e=a("../framebus"),f=d(a("@braintree/uuid"));c.subscribeReplier=function(a,b){var c=(0,f.default)();function d(f,g){a(f,g),e.Framebus.target({origin:b}).off(c,d)}return e.Framebus.target({origin:b}).on(c,d),c}},{"../framebus":30,"@braintree/uuid":25}],43:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.subscriptionArgsInvalid=void 0;var d=a("./is-not-string");c.subscriptionArgsInvalid=function(a,b,c){return!!(0,d.isntString)(a)||"function"!=typeof b||(0,d.isntString)(c)}},{"./is-not-string":38}],44:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.unpackPayload=void 0;var d=a("./constants"),e=a("./package-payload");c.unpackPayload=function(a){var b;if(a.data.slice(0,d.prefix.length)!==d.prefix)return!1;try{b=JSON.parse(a.data.slice(d.prefix.length))}catch(c){return!1}if(b.reply){var f=a.origin,g=a.source,h=b.reply;b.reply=function(a){if(g){var b=(0,e.packagePayload)(h,f,a);b&&g.postMessage(b,f)}}}return b}},{"./constants":35,"./package-payload":40}],45:[function(a,b,c){"use strict";var d=setTimeout;function e(a){return Boolean(a&&void 0!==a.length)}function f(){}function g(a){if(!(this instanceof g))throw TypeError("Promises must be constructed via new");if("function"!=typeof a)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(a,this)}function h(a,b){for(;3===a._state;)a=a._value;if(0===a._state){a._deferreds.push(b);return}a._handled=!0,g._immediateFn(function(){var c,d=1===a._state?b.onFulfilled:b.onRejected;if(null===d){(1===a._state?i:j)(b.promise,a._value);return}try{c=d(a._value)}catch(e){j(b.promise,e);return}i(b.promise,c)})}function i(a,b){try{if(b===a)throw TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c,d,e=b.then;if(b instanceof g){a._state=3,a._value=b,k(a);return}if("function"==typeof e){m((c=e,d=b,function(){c.apply(d,arguments)}),a);return}}a._state=1,a._value=b,k(a)}catch(f){j(a,f)}}function j(a,b){a._state=2,a._value=b,k(a)}function k(a){2===a._state&&0===a._deferreds.length&&g._immediateFn(function(){a._handled||g._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)h(a,a._deferreds[b]);a._deferreds=null}function l(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function m(a,b){var c=!1;try{a(function(a){c||(c=!0,i(b,a))},function(a){c||(c=!0,j(b,a))})}catch(d){if(c)return;c=!0,j(b,d)}}g.prototype.catch=function(a){return this.then(null,a)},g.prototype.then=function(a,b){var c=new this.constructor(f);return h(this,new l(a,b,c)),c},g.prototype.finally=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},g.all=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.all accepts an array"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var f=d.length;function g(a,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var h=e.then;if("function"==typeof h){h.call(e,function(b){g(a,b)},c);return}}d[a]=e,0==--f&&b(d)}catch(i){c(i)}}for(var h=0;h<d.length;h++)g(h,d[h])})},g.allSettled=function(a){return new this(function(b,c){if(!(a&&void 0!==a.length))return c(TypeError(typeof a+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var d=Array.prototype.slice.call(a);if(0===d.length)return b([]);var e=d.length;function f(a,c){if(c&&("object"==typeof c||"function"==typeof c)){var g=c.then;if("function"==typeof g){g.call(c,function(b){f(a,b)},function(c){d[a]={status:"rejected",reason:c},0==--e&&b(d)});return}}d[a]={status:"fulfilled",value:c},0==--e&&b(d)}for(var g=0;g<d.length;g++)f(g,d[g])})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){if(!e(a))return c(TypeError("Promise.race accepts an array"));for(var d=0,f=a.length;d<f;d++)g.resolve(a[d]).then(b,c)})},g._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){d(a,0)},g._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=g},{}],46:[function(a,b,c){"use strict";var d=a("./create-authorization-data"),e=a("./json-clone"),f=a("./constants");b.exports=function(a,b){var c,g=b?e(b):{},h=d(a.authorization).attrs,i=e(a.analyticsMetadata);for(c in g.braintreeLibraryVersion=f.BRAINTREE_LIBRARY_VERSION,g._meta)g._meta.hasOwnProperty(c)&&(i[c]=g._meta[c]);return g._meta=i,h.tokenizationKey?g.tokenizationKey=h.tokenizationKey:g.authorizationFingerprint=h.authorizationFingerprint,g}},{"./constants":52,"./create-authorization-data":56,"./json-clone":71}],47:[function(a,b,c){"use strict";var d=a("./constants"),e=a("./add-metadata");b.exports={sendEvent:function(a,b,c){var f=Date.now();return Promise.resolve(a).then(function(a){var g=Date.now(),h=a.getConfiguration(),i=a._request,j=h.gatewayConfiguration.analytics.url,k={analytics:[{kind:d.ANALYTICS_PREFIX+b,isAsync:Math.floor(g/1e3)!==Math.floor(f/1e3),timestamp:f},]};i({url:j,method:"post",data:e(h,k),timeout:d.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(a){c&&c(a)})}}},{"./add-metadata":46,"./constants":52}],48:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":3}],49:[function(a,b,c){"use strict";var d="function"==typeof Object.assign?Object.assign:e;function e(a){var b,c,d;for(b=1;b<arguments.length;b++)for(d in c=arguments[b])c.hasOwnProperty(d)&&(a[d]=c[d]);return a}b.exports={assign:d,_assign:e}},{}],50:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors"),f="3.92.2";b.exports={verify:function(a){var b,c,g;return a?(g=a.name,b=a.client,c=a.authorization,b||c)?c||b.getVersion()===f?Promise.resolve():Promise.reject(new d({type:e.INCOMPATIBLE_VERSIONS.type,code:e.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+b.getVersion()+") and "+g+" (version "+f+") components must be from the same SDK version."})):Promise.reject(new d({type:e.INSTANTIATION_OPTION_REQUIRED.type,code:e.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+g+"."})):Promise.reject(new d({type:e.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:e.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":51,"./errors":59}],51:[function(a,b,c){"use strict";var d=a("./enumerate");function e(a){if(!e.types.hasOwnProperty(a.type))throw Error(a.type+" is not a valid type.");if(!a.code)throw Error("Error code required.");if(!a.message)throw Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.types=d(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN",]),e.findRootError=function(a){return a instanceof e&&a.details&&a.details.originalError?e.findRootError(a.details.originalError):a},b.exports=e},{"./enumerate":58}],52:[function(a,b,c){"use strict";var d="3.92.2";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:d,INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/"+d}},{}],53:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":51,"./errors":59}],54:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports=function(a,b){return a instanceof d?a:new d({type:b.type,code:b.code,message:b.message,details:{originalError:a}})}},{"./braintree-error":51}],55:[function(a,b,c){"use strict";var d=a("./constants").ASSETS_URLS;b.exports={create:function(a){return d.production}}},{"./constants":52}],56:[function(a,b,c){"use strict";var d=a("../lib/vendor/polyfill").atob,e=a("../lib/constants").CLIENT_API_URLS;b.exports=function(a){var b,c,f,g,h,i,j,k={attrs:{},configUrl:""};return(j=a,/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(j))?(i=(f=(c=(b=a).split("_"))[0],g=c.slice(2).join("_"),{merchantId:g,environment:f}),k.environment=i.environment,k.attrs.tokenizationKey=a,k.configUrl=e[i.environment]+"/merchants/"+i.merchantId+"/client_api/v1/configuration"):(h=JSON.parse(d(a)),k.environment=h.environment,k.attrs.authorizationFingerprint=h.authorizationFingerprint,k.configUrl=h.configUrl,k.graphQL=h.graphQL),k}},{"../lib/constants":52,"../lib/vendor/polyfill":75}],57:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./assets"),f=a("./errors"),g="3.92.2";b.exports={create:function(a){var b=Promise.resolve();return a.client?Promise.resolve(a.client):(window.braintree&&window.braintree.client||(b=e.loadScript({src:a.assetsUrl+"/web/"+g+"/js/client.min.js"}).catch(function(a){return Promise.reject(new d({type:f.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:f.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:f.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:a}}))})),b.then(function(){return window.braintree.client.VERSION!==g?Promise.reject(new d({type:f.INCOMPATIBLE_VERSIONS.type,code:f.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+a.name+" (version "+g+") components must be from the same SDK version."})):window.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}}},{"./assets":48,"./braintree-error":51,"./errors":59}],58:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],59:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":51}],60:[function(a,b,c){"use strict";var d=a("./strategies/popup"),e=a("./strategies/popup-bridge"),f=a("./strategies/modal"),g=a("framebus"),h=a("../shared/events"),i=a("../shared/errors"),j=a("../shared/constants"),k=a("@braintree/uuid"),l=a("@braintree/iframer"),m=a("../../braintree-error"),n=a("../shared/browser-detection"),o=a("./../../assign").assign,p=a("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,q=["name","dispatchFrameUrl","openFrameUrl"];function r(){}function s(a){!function(a){if(!a)throw Error("Valid configuration is required");if(q.forEach(function(b){if(!a.hasOwnProperty(b))throw Error("A valid frame "+b+" must be provided")}),!/^[\w_]+$/.test(a.name))throw Error("A valid frame name must be provided")}(a),this._serviceId=k().replace(/-/g,""),this._options={name:a.name+"_"+this._serviceId,dispatchFrameUrl:a.dispatchFrameUrl,openFrameUrl:a.openFrameUrl,height:a.height,width:a.width,top:a.top,left:a.left},this.state=a.state||{},this._bus=new g({channel:this._serviceId}),this._setBusEvents()}s.prototype.initialize=function(a){var b=(function(){a(),this._bus.off(h.DISPATCH_FRAME_READY,b)}).bind(this);this._bus.on(h.DISPATCH_FRAME_READY,b),this._writeDispatchFrame()},s.prototype._writeDispatchFrame=function(){var a=j.DISPATCH_FRAME_NAME+"_"+this._serviceId,b=this._options.dispatchFrameUrl;this._dispatchFrame=l({"aria-hidden":!0,name:a,title:a,src:b,class:j.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},s.prototype._setBusEvents=function(){this._bus.on(h.DISPATCH_FRAME_REPORT,(function(a,b){this._onCompleteCallback&&this._onCompleteCallback.call(null,a.err,a.payload),this._frame.close(),this._onCompleteCallback=null,b&&b()}).bind(this)),this._bus.on(p,(function(a){a(this.state)}).bind(this))},s.prototype.open=function(a,b){if(a=a||{},this._frame=this._getFrameForEnvironment(a),this._frame.initialize(b),!(this._frame instanceof e)){if(o(this.state,a.state),this._onCompleteCallback=b,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),b&&b(new m(i.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},s.prototype.redirect=function(a){this._frame&&!this.isFrameClosed()&&this._frame.redirect(a)},s.prototype.close=function(){this.isFrameClosed()||this._frame.close()},s.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},s.prototype.createHandler=function(a){return a=a||{},{close:(function(){a.beforeClose&&a.beforeClose(),this.close()}).bind(this),focus:(function(){a.beforeFocus&&a.beforeFocus(),this.focus()}).bind(this)}},s.prototype.createNoopHandler=function(){return{close:r,focus:r}},s.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},s.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},s.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},s.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval((function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new m(i.FRAME_SERVICE_FRAME_CLOSED)))}).bind(this),j.POPUP_POLL_INTERVAL),this._popupInterval},s.prototype._getFrameForEnvironment=function(a){var b=n.supportsPopups(),c=Boolean(window.popupBridge),g=o({},this._options,a);return c?new e(g):b?new d(g):new f(g)},b.exports=s},{"../../braintree-error":51,"../../constants":52,"../shared/browser-detection":67,"../shared/constants":68,"../shared/errors":69,"../shared/events":70,"./../../assign":49,"./strategies/modal":62,"./strategies/popup":65,"./strategies/popup-bridge":63,"@braintree/iframer":21,"@braintree/uuid":25,framebus:31}],61:[function(a,b,c){"use strict";var d=a("./frame-service");b.exports={create:function(a,b){var c=new d(a);c.initialize(function(){b(c)})}}},{"./frame-service":60}],62:[function(a,b,c){"use strict";var d=a("@braintree/iframer"),e=a("../../../assign").assign,f=a("../../shared/browser-detection"),g={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function h(){}function i(a){this._closed=null,this._frame=null,this._options=a||{},this._container=this._options.container||document.body}i.prototype.initialize=h,i.prototype.open=function(){var a={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:e({},g),title:"Lightbox Frame"};f.isIos()?(f.isIosWKWebview()&&(this._lockScrolling(),a.style={}),this._el=document.createElement("div"),e(this._el.style,g,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=d(a),this._el.appendChild(this._frame)):this._el=this._frame=d(a),this._closed=!1,this._container.appendChild(this._el)},i.prototype.focus=h,i.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,f.isIosWKWebview()&&this._unlockScrolling()},i.prototype.isClosed=function(){return Boolean(this._closed)},i.prototype.redirect=function(a){this._frame.src=a},i.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},i.prototype._lockScrolling=function(){var a=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),top:(window.pageYOffset||a.scrollTop)-(a.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},b.exports=i},{"../../../assign":49,"../../shared/browser-detection":67,"@braintree/iframer":21}],63:[function(a,b,c){"use strict";var d=a("../../../braintree-error"),e=a("../../shared/errors");function f(){}function g(a){this._closed=null,this._options=a}g.prototype.initialize=function(a){var b=this;window.popupBridge.onComplete=function(c,f){if(b._closed=!0,c||!f&&!c){a(new d(e.FRAME_SERVICE_FRAME_CLOSED));return}a(null,f)}},g.prototype.open=function(a){var b;b=(a=a||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(b)},g.prototype.focus=f,g.prototype.close=f,g.prototype.isClosed=function(){return Boolean(this._closed)},g.prototype.redirect=function(a){this.open({openFrameUrl:a})},b.exports=g},{"../../../braintree-error":51,"../../shared/errors":69}],64:[function(a,b,c){"use strict";var d=a("../../../shared/constants"),e=a("./position");function f(a,b,c){return void 0!==b?b:e[a](c)}b.exports=function(a){var b=a.height||d.DEFAULT_POPUP_HEIGHT,c=a.width||d.DEFAULT_POPUP_WIDTH,e=f("top",a.top,b),g=f("left",a.left,c);return[d.POPUP_BASE_OPTIONS,"height="+b,"width="+c,"top="+e,"left="+g,].join(",")}},{"../../../shared/constants":68,"./position":66}],65:[function(a,b,c){"use strict";var d=a("./compose-options");function e(a){this._frame=null,this._options=a||{}}e.prototype.initialize=function(){},e.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,d(this._options))},e.prototype.focus=function(){this._frame.focus()},e.prototype.close=function(){!this._frame.closed&&this._frame.close()},e.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},e.prototype.redirect=function(a){this._frame.location.href=a},b.exports=e},{"./compose-options":64}],66:[function(a,b,c){"use strict";function d(a,b,c){return(a-b)/2+c}b.exports={top:function(a){var b,c,d,e=window.outerHeight||document.documentElement.clientHeight,f=null==window.screenY?window.screenTop:window.screenY;return b=e,c=a,d=f,(b-c)/2+d},left:function(a){var b,c,d,e=window.outerWidth||document.documentElement.clientWidth,f=null==window.screenX?window.screenLeft:window.screenX;return b=e,c=a,d=f,(b-c)/2+d},center:d}},{}],67:[function(a,b,c){"use strict";b.exports={isIos:a("@braintree/browser-detection/is-ios"),isIosWKWebview:a("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:a("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":18,"@braintree/browser-detection/is-ios-wkwebview":17,"@braintree/browser-detection/supports-popups":19}],68:[function(a,b,c){"use strict";b.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],69:[function(a,b,c){"use strict";var d=a("../../braintree-error");b.exports={FRAME_SERVICE_FRAME_CLOSED:{type:d.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:d.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":51}],70:[function(a,b,c){"use strict";var d=a("../../enumerate");b.exports=d(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":58}],71:[function(a,b,c){"use strict";b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],72:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}],73:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)||!1}function e(a){return a=a||window.location.href,/\?/.test(a)}function f(a,b){var c,e,g,h=[];for(g in a)a.hasOwnProperty(g)&&(e=a[g],c=b?d(a)?b+"[]":b+"["+g+"]":g,"object"==typeof e?h.push(f(e,c)):h.push(encodeURIComponent(c)+"="+encodeURIComponent(e)));return h.join("&")}b.exports={parse:function(a){var b,c;return e(a=a||window.location.href)?(a.split("?")[1]||"").replace(/#.*$/,"").split("&").reduce(function(a,b){var c=b.split("="),d=decodeURIComponent(c[0]),e=decodeURIComponent(c[1]);return a[d]=e,a},{}):{}},stringify:f,queryify:function(a,b){return a=a||"",null!=b&&"object"==typeof b&&function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0;return!1}(b)&&(a+=-1===a.indexOf("?")?"?":"",a+=-1!==a.indexOf("=")?"&":"",a+=f(b)),a},hasQueryParams:e}},{}],74:[function(a,b,c){"use strict";b.exports=function(a){return a?"":".min"}},{}],75:[function(a,b,c){"use strict";var d="function"==typeof atob?atob:e;function e(a){var b,c,d,e,f,g,h,i,j=RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!j.test(a))throw Error("Non base64 encoded input passed to window.atob polyfill");i=0;do e=k.indexOf(a.charAt(i++)),f=k.indexOf(a.charAt(i++)),g=k.indexOf(a.charAt(i++)),h=k.indexOf(a.charAt(i++)),b=(63&e)<<2|f>>4&3,c=(15&f)<<4|g>>2&15,d=(3&g)<<6|63&h,l+=String.fromCharCode(b)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):"");while(i<a.length);return l}b.exports={atob:function(a){return d.call(window,a)},_atob:e}},{}],76:[function(a,b,c){"use strict";var d=a("../lib/braintree-error");b.exports={PAYPAL_NOT_ENABLED:{type:d.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:d.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:d.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:d.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:d.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:d.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:d.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:d.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:d.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:d.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:d.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":51}],77:[function(a,b,c){"use strict";var d=a("../lib/basic-component-verification"),e=a("@braintree/wrap-promise"),f=a("./paypal-checkout");function g(){return!0}b.exports={create:e(function(a){return d.verify({name:"PayPal Checkout",client:a.client,authorization:a.authorization}).then(function(){return new f(a)._initialize(a)})}),isSupported:g,VERSION:"3.92.2"}},{"../lib/basic-component-verification":50,"./paypal-checkout":78,"@braintree/wrap-promise":29}],78:[function(a,b,c){"use strict";var d=a("../lib/analytics"),e=a("../lib/assign").assign,f=a("../lib/create-deferred-client"),g=a("../lib/create-assets-url"),h=a("@braintree/extended-promise"),i=a("@braintree/wrap-promise"),j=a("../lib/braintree-error"),k=a("../lib/convert-to-braintree-error"),l=a("./errors"),m=a("../paypal/shared/constants"),n=a("../lib/frame-service/external"),o=a("../lib/create-authorization-data"),p=a("../lib/methods"),q=a("../lib/use-min"),r=a("../lib/convert-methods-to-error"),s=a("../lib/querystring"),t=a("../lib/constants").INTEGRATION_TIMEOUT_MS,u=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken",];function v(a){this._merchantAccountId=a.merchantAccountId,this._autoSetDataUserIdToken=Boolean(a.autoSetDataUserIdToken)}h.suppressUnhandledPromiseMessage=!0,v.prototype._initialize=function(a){var b;return(a.client?(b=a.client.getConfiguration(),this._authorizationInformation={fingerprint:b.authorizationFingerprint,environment:b.gatewayConfiguration.environment}):(b=o(a.authorization),this._authorizationInformation={fingerprint:b.attrs.authorizationFingerprint,environment:b.environment}),this._clientPromise=f.create({authorization:a.authorization,client:a.client,debug:a.debug,assetsUrl:g.create(a.authorization),name:"PayPal Checkout"}).then((function(a){return(this._configuration=a.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new j(l.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new j(l.PAYPAL_NOT_ENABLED)),this._setupError)?Promise.reject(this._setupError):(d.sendEvent(a,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(a),a)}).bind(this)),a.client)?this._clientPromise.then((function(){return this}).bind(this)):Promise.resolve(this)},v.prototype._setupFrameService=function(a){var b=new h,c=a.getConfiguration(),e=setTimeout(function(){d.sendEvent(a,"paypal-checkout.frame-service.timed-out"),b.reject(new j(l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},t);return this._assetsUrl=c.gatewayConfiguration.paypal.assetsUrl+"/web/3.92.2",this._isDebug=c.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+q(this._isDebug)+".html",n.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+q(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},(function(a){this._frameService=a,clearTimeout(e),b.resolve()}).bind(this)),b},v.prototype.createPayment=function(a){return a&&m.FLOW_ENDPOINTS.hasOwnProperty(a.flow)?(d.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(a).then(function(b){var c;return"checkout"===a.flow?b.paymentResource.redirectUrl.match(/EC-\w+/)[0]:b.agreementSetup.tokenId})):Promise.reject(new j(l.PAYPAL_FLOW_OPTION_REQUIRED))},v.prototype._createPaymentResource=function(a,b){var c=this,e="paypal_hermes/"+m.FLOW_ENDPOINTS[a.flow];return delete this.intentFromCreatePayment,b=b||{},!0===a.offerCredit&&d.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(d){return d.request({endpoint:e,method:"post",data:c._formatPaymentResourceData(a,b)}).then(function(b){return c.intentFromCreatePayment=a.intent,b})}).catch(function(a){var b;return c._setupError?Promise.reject(c._setupError):422===(a.details&&a.details.httpStatus)?Promise.reject(new j({type:l.PAYPAL_INVALID_PAYMENT_OPTION.type,code:l.PAYPAL_INVALID_PAYMENT_OPTION.code,message:l.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:a}})):Promise.reject(k(a,{type:l.PAYPAL_FLOW_FAILED.type,code:l.PAYPAL_FLOW_FAILED.code,message:l.PAYPAL_FLOW_FAILED.message}))})},v.prototype.updatePayment=function(a){var b=this;return!a||this._hasMissingOption(a,m.REQUIRED_OPTIONS)?(d.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new j(l.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(a)?(d.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(c){return c.request({endpoint:"paypal_hermes/patch_payment_resource",method:"post",data:b._formatUpdatePaymentData(a)})}).catch(function(a){return 422===(a.details&&a.details.httpStatus)?(d.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new j({type:l.PAYPAL_INVALID_PAYMENT_OPTION.type,code:l.PAYPAL_INVALID_PAYMENT_OPTION.code,message:l.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:a}}))):(d.sendEvent(b._clientPromise,"paypal-checkout.updatePayment."+l.PAYPAL_FLOW_FAILED.code),Promise.reject(k(a,{type:l.PAYPAL_FLOW_FAILED.type,code:l.PAYPAL_FLOW_FAILED.code,message:l.PAYPAL_FLOW_FAILED.message})))})):(d.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new j({type:l.PAYPAL_INVALID_PAYMENT_OPTION.type,code:l.PAYPAL_INVALID_PAYMENT_OPTION.code,message:l.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:Error("One or more shipping option currencies differ from checkout currency.")}})))},v.prototype.startVaultInitiatedCheckout=function(a){var b,c=this;return this._vaultInitiatedCheckoutInProgress?(d.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new j(l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(u.forEach(function(c){a.hasOwnProperty(c)||(b=c)}),b)?Promise.reject(new j({type:l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+b+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(a),a=e({},a,{flow:"checkout"}),d.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var b=new h,d=c._createPaymentResource(a,{returnUrl:c._constructVaultCheckutUrl("redirect-frame"),cancelUrl:c._constructVaultCheckutUrl("cancel-frame")}).then(function(a){var d=a.paymentResource.redirectUrl;return c._frameService.redirect(d),b});return c._frameService.open({},c._createFrameServiceCallback(b)),d}).catch(function(a){return(c._vaultInitiatedCheckoutInProgress=!1,c._removeModalBackdrop(),"FRAME_SERVICE_FRAME_CLOSED"===a.code)?(d.sendEvent(c._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new j(l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(c._frameService&&c._frameService.close(),a.code&&a.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1)?(d.sendEvent(c._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new j({code:l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:l.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:a}}))):Promise.reject(a)}).then(function(a){return c._frameService.close(),c._vaultInitiatedCheckoutInProgress=!1,c._removeModalBackdrop(),d.sendEvent(c._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(a)}))},v.prototype._addModalBackdrop=function(a){!a.optOutOfModalBackdrop&&(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",(function(){this.focusVaultInitiatedCheckoutWindow()}).bind(this))),document.body.appendChild(this._modalBackdrop))},v.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},v.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&d.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then((function(){this._frameService.close()}).bind(this))},v.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then((function(){this._frameService.focus()}).bind(this))},v.prototype._createFrameServiceCallback=function(a){var b=this;return function(c,d){c?a.reject(c):d&&(b._frameService.redirect(b._loadingFrameUrl),b.tokenizePayment({paymentToken:d.token,payerID:d.PayerID,paymentID:d.paymentId}).then(function(b){a.resolve(b)}).catch(function(b){a.reject(b)}))}},v.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var a=this;return this._clientPromise.then(function(){return a._frameServicePromise})},v.prototype._constructVaultCheckutUrl=function(a){var b=this._frameService._serviceId;return this._assetsUrl+"/html/"+a+q(this._isDebug)+".html?channel="+b},v.prototype.tokenizePayment=function(a){var b,c=this,e=!0,f={flow:a.billingToken&&!a.paymentID?"vault":"checkout",intent:a.intent||this.intentFromCreatePayment},g={ecToken:a.paymentToken,billingToken:a.billingToken,payerId:a.payerID,paymentId:a.paymentID,shippingOptionsId:a.shippingOptionsId};return a.hasOwnProperty("vault")&&(e=a.vault),f.vault=e,d.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(a){return a.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:c._formatTokenizeData(f,g)})}).then(function(a){return b=c._formatTokenizePayload(a),d.sendEvent(c._clientPromise,"paypal-checkout.tokenization.success"),b.creditFinancingOffered&&d.sendEvent(c._clientPromise,"paypal-checkout.credit.accepted"),b}).catch(function(a){return c._setupError?Promise.reject(c._setupError):(d.sendEvent(c._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(k(a,{type:l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:l.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},v.prototype.getClientId=function(){return this._clientPromise.then(function(a){return a.getConfiguration().gatewayConfiguration.paypal.clientId})},v.prototype.loadPayPalSDK=function(a){var b,c,d=new h,f=a&&a.dataAttributes||{},g=f["user-id-token"]||f["data-user-id-token"];return g||(g=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),delete(a=e({},{components:"buttons"},a)).dataAttributes,a.vault?a.intent=a.intent||"tokenize":(a.intent=a.intent||"authorize",a.currency=a.currency||"USD"),c="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){d.resolve()},Object.keys(f).forEach((function(a){this._paypalScript.setAttribute("data-"+a.replace(/^data\-/,""),f[a])}).bind(this)),(a["client-id"]?Promise.resolve(a["client-id"]):this.getClientId()).then((function(b){a["client-id"]=b,this._autoSetDataUserIdToken&&g&&(this._paypalScript.setAttribute("data-user-id-token",g),this._attachPreloadPixel({id:b,userIdToken:g,amount:f.amount,currency:a.currency,merchantId:a["merchant-id"]})),this._paypalScript.src=s.queryify(c,a),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}).bind(this)),d.then((function(){return this}).bind(this))},v.prototype._attachPreloadPixel=function(a){var b,c=a.id,d=a.userIdToken,e=this._authorizationInformation.environment,f="https://www.{ENV}paypal.com/smart/buttons/preload".replace("{ENV}","production"===e?"":"sandbox."),g={"client-id":c,"user-id-token":d};a.amount&&(g.amount=a.amount),a.currency&&(g.currency=a.currency),a.merchantId&&(g["merchant-id"]=a.merchantId),(b=new XMLHttpRequest).open("GET",s.queryify(f,g)),b.send()},v.prototype._formatPaymentResourceData=function(a,b){var c,d=this._configuration.gatewayConfiguration,e=a.intent,f={returnUrl:b.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:b.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===a.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:a.displayName||d.paypal.displayName,localeCode:a.locale,noShipping:(!a.enableShippingAddress).toString(),addressOverride:!1===a.shippingAddressEditable,landingPageType:a.landingPageType},shippingOptions:a.shippingOptions};if("checkout"===a.flow){for(c in f.amount=a.amount,f.currencyIsoCode=a.currency,f.requestBillingAgreement=a.requestBillingAgreement,e&&("capture"===e&&(e="sale"),f.intent=e),a.hasOwnProperty("lineItems")&&(f.lineItems=a.lineItems),a.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(f.vaultInitiatedCheckoutPaymentMethodToken=a.vaultInitiatedCheckoutPaymentMethodToken),a.hasOwnProperty("shippingOptions")&&(f.shippingOptions=a.shippingOptions),a.shippingAddressOverride)a.shippingAddressOverride.hasOwnProperty(c)&&(f[c]=a.shippingAddressOverride[c]);a.hasOwnProperty("billingAgreementDetails")&&(f.billingAgreementDetails=a.billingAgreementDetails)}else f.shippingAddress=a.shippingAddressOverride,a.billingAgreementDescription&&(f.description=a.billingAgreementDescription);return this._riskCorrelationId=a.riskCorrelationId,a.riskCorrelationId&&(f.correlationId=this._riskCorrelationId),f},v.prototype._verifyConsistentCurrency=function(a){return!(a.currency&&a.hasOwnProperty("shippingOptions")&&Array.isArray(a.shippingOptions))||a.shippingOptions.every(function(b){return b.amount&&b.amount.currency&&a.currency.toLowerCase()===b.amount.currency.toLowerCase()})},v.prototype._hasMissingOption=function(a,b){var c,d;if(b=b||[],!a.hasOwnProperty("amount")&&!a.hasOwnProperty("lineItems"))return!0;for(c=0;c<b.length;c++)if(d=b[c],!a.hasOwnProperty(d))return!0;return!1},v.prototype._formatUpdatePaymentData=function(a){var b={merchantAccountId:this._merchantAccountId,paymentId:a.paymentId,currencyIsoCode:a.currency};return a.hasOwnProperty("amount")&&(b.amount=a.amount),a.hasOwnProperty("lineItems")&&(b.lineItems=a.lineItems),a.hasOwnProperty("shippingOptions")&&(b.shippingOptions=a.shippingOptions),a.hasOwnProperty("shippingAddress")&&(d.sendEvent(this._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),b.line1=a.shippingAddress.line1,a.shippingAddress.hasOwnProperty("line2")&&(b.line2=a.shippingAddress.line2),b.city=a.shippingAddress.city,b.state=a.shippingAddress.state,b.postalCode=a.shippingAddress.postalCode,b.countryCode=a.shippingAddress.countryCode,a.shippingAddress.hasOwnProperty("phone")&&(b.phone=a.shippingAddress.phone),a.shippingAddress.hasOwnProperty("recipientName")&&(b.recipientName=a.shippingAddress.recipientName)),b},v.prototype._formatTokenizeData=function(a,b){var c=this._configuration,d=c.gatewayConfiguration,e="TOKENIZATION_KEY"===c.authorizationType,f="vault"===a.flow,g=this._riskCorrelationId||b.billingToken||b.ecToken,h={paypalAccount:{correlationId:g,options:{validate:f&&!e&&a.vault}}};return f?h.paypalAccount.billingAgreementToken=b.billingToken:(h.paypalAccount.paymentToken=b.paymentId,h.paypalAccount.payerId=b.payerId,h.paypalAccount.unilateral=d.paypal.unvettedMerchant,a.intent&&(h.paypalAccount.intent=a.intent)),this._merchantAccountId&&(h.merchantAccountId=this._merchantAccountId),h},v.prototype._formatTokenizePayload=function(a){var b,c={};return a.paypalAccounts&&(c=a.paypalAccounts[0]),b={nonce:c.nonce,details:{},type:c.type},c.details&&c.details.payerInfo&&(b.details=c.details.payerInfo),c.details&&c.details.creditFinancingOffered&&(b.creditFinancingOffered=c.details.creditFinancingOffered),c.details&&c.details.shippingOptionId&&(b.shippingOptionId=c.details.shippingOptionId),c.details&&c.details.cobrandedCardLabel&&(b.cobrandedCardLabel=c.details.cobrandedCardLabel),b},v.prototype.teardown=function(){var a=this;return r(this,p(v.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return a._frameService?a._frameService.teardown():Promise.resolve()})},b.exports=i.wrapPrototype(v)},{"../lib/analytics":47,"../lib/assign":49,"../lib/braintree-error":51,"../lib/constants":52,"../lib/convert-methods-to-error":53,"../lib/convert-to-braintree-error":54,"../lib/create-assets-url":55,"../lib/create-authorization-data":56,"../lib/create-deferred-client":57,"../lib/frame-service/external":61,"../lib/methods":72,"../lib/querystring":73,"../lib/use-min":74,"../paypal/shared/constants":79,"./errors":76,"@braintree/extended-promise":20,"@braintree/wrap-promise":29}],79:[function(a,b,c){"use strict";b.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[77])(77)})},47443:function(a,b,c){var d=c(42118);a.exports=function(a,b){return!!(null==a?0:a.length)&&d(a,b,0)>-1}},1196:function(a){a.exports=function(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}},62663:function(a){a.exports=function(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}},49029:function(a){var b=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;a.exports=function(a){return a.match(b)||[]}},18674:function(a){a.exports=function(a){return function(b){return null==a?void 0:a[b]}}},67762:function(a){a.exports=function(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);void 0!==f&&(c=void 0===c?f:c+f)}return c}},45652:function(a,b,c){var d=c(88668),e=c(47443),f=c(1196),g=c(74757),h=c(23593),i=c(21814);a.exports=function(a,b,c){var j=-1,k=e,l=a.length,m=!0,n=[],o=n;if(c)m=!1,k=f;else if(l>=200){var p=b?null:h(a);if(p)return i(p);m=!1,k=g,o=new d}else o=b?[]:n;outer:for(;++j<l;){var q=a[j],r=b?b(q):q;if(q=c||0!==q?q:0,m&&r==r){for(var s=o.length;s--;)if(o[s]===r)continue outer;b&&o.push(r),n.push(q)}else k(o,r,c)||(o!==n&&o.push(r),n.push(q))}return n}},35393:function(a,b,c){var d=c(62663),e=c(53816),f=c(58748),g=RegExp("[']","g");a.exports=function(a){return function(b){return d(f(e(b).replace(g,"")),a,"")}}},23593:function(a,b,c){var d=c(58525),e=c(50308),f=c(21814),g=d&&1/f(new d([,-0]))[1]==1/0?function(a){return new d(a)}:e;a.exports=g},69389:function(a,b,c){var d,e=c(18674)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});a.exports=e},93157:function(a){var b=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;a.exports=function(a){return b.test(a)}},2757:function(a){var b="\ud800-\udfff",c="\\u2700-\\u27bf",d="a-z\\xdf-\\xf6\\xf8-\\xff",e="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",g="[']",h="["+f+"]",i="["+d+"]",j="[^"+b+f+"\\d+"+c+d+e+"]",k="(?:\ud83c[\udde6-\uddff]){2}",l="[\ud800-\udbff][\udc00-\udfff]",m="["+e+"]",n="(?:"+i+"|"+j+")",o="(?:"+g+"(?:d|ll|m|re|s|t|ve))?",p="(?:"+g+"(?:D|LL|M|RE|S|T|VE))?",q="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",r="[\\ufe0e\\ufe0f]?",s="(?:\\u200d(?:"+["[^"+b+"]",k,l].join("|")+")"+r+q+")*",t="(?:"+["["+c+"]",k,l].join("|")+")"+(r+q+s),u=RegExp([m+"?"+i+"+"+o+"(?="+[h,m,"$"].join("|")+")","(?:"+m+"|"+j+")+"+p+"(?="+[h,m+n,"$"].join("|")+")",m+"?"+n+"+"+o,m+"+"+p,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",t].join("|"),"g");a.exports=function(a){return a.match(u)||[]}},53816:function(a,b,c){var d=c(69389),e=c(79833),f=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");a.exports=function(a){return(a=e(a))&&a.replace(f,d).replace(g,"")}},18446:function(a,b,c){var d=c(90939);function e(a,b){return d(a,b)}a.exports=e},50308:function(a){a.exports=function(){}},11865:function(a,b,c){var d=c(35393)(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()});a.exports=d},12297:function(a,b,c){var d=c(67762),e=c(6557);a.exports=function(a){return a&&a.length?d(a,e):0}},73303:function(a,b,c){var d=c(67206),e=c(67762);a.exports=function(a,b){return a&&a.length?e(a,d(b,2)):0}},45578:function(a,b,c){var d=c(67206),e=c(45652);a.exports=function(a,b){return a&&a.length?e(a,d(b,2)):[]}},58748:function(a,b,c){var d=c(49029),e=c(93157),f=c(79833),g=c(2757);a.exports=function(a,b,c){return(a=f(a),void 0===(b=c?void 0:b))?e(a)?g(a):d(a):a.match(b)||[]}},70131:function(a,b,c){"use strict";c.d(b,{YD:function(){return o},df:function(){return n}});var d=c(67294);function e(){return(e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function f(a,b){return(f=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var g=new Map,h=new WeakMap,i=0,j=void 0;function k(a,b,c,d){if(void 0===c&&(c={}),void 0===d&&(d=j),void 0===window.IntersectionObserver&&void 0!==d){var e=a.getBoundingClientRect();return b(d,{isIntersecting:d,target:a,intersectionRatio:"number"==typeof c.threshold?c.threshold:0,time:0,boundingClientRect:e,intersectionRect:e,rootBounds:e}),function(){}}var f=function(a){var b,c=Object.keys(b=a).sort().filter(function(a){return void 0!==b[a]}).map(function(a){var c;return a+"_"+("root"===a?(c=b.root)?(h.has(c)||(i+=1,h.set(c,i.toString())),h.get(c)):"0":b[a])}).toString(),d=g.get(c);if(!d){var e,f=new Map,j=new IntersectionObserver(function(b){b.forEach(function(b){var c,d=b.isIntersecting&&e.some(function(a){return b.intersectionRatio>=a});a.trackVisibility&&void 0===b.isVisible&&(b.isVisible=d),null==(c=f.get(b.target))||c.forEach(function(a){a(d,b)})})},a);e=j.thresholds||(Array.isArray(a.threshold)?a.threshold:[a.threshold||0]),d={id:c,observer:j,elements:f},g.set(c,d)}return d}(c),k=f.id,l=f.observer,m=f.elements,n=m.get(a)||[];return m.has(a)||m.set(a,n),n.push(b),l.observe(a),function(){n.splice(n.indexOf(b),1),0===n.length&&(m.delete(a),l.unobserve(a)),0===m.size&&(l.disconnect(),g.delete(k))}}var l=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function m(a){return"function"!=typeof a.children}var n=function(a){function b(b){var c;return(c=a.call(this,b)||this).node=null,c._unobserveCb=null,c.handleNode=function(a){!c.node||(c.unobserve(),a||c.props.triggerOnce||c.props.skip||c.setState({inView:!!c.props.initialInView,entry:void 0})),c.node=a||null,c.observeNode()},c.handleChange=function(a,b){a&&c.props.triggerOnce&&c.unobserve(),m(c.props)||c.setState({inView:a,entry:b}),c.props.onChange&&c.props.onChange(a,b)},c.state={inView:!!b.initialInView,entry:void 0},c}c=b,g=a,c.prototype=Object.create(g.prototype),c.prototype.constructor=c,f(c,g);var c,g,h=b.prototype;return h.componentDidUpdate=function(a){(a.rootMargin!==this.props.rootMargin||a.root!==this.props.root||a.threshold!==this.props.threshold||a.skip!==this.props.skip||a.trackVisibility!==this.props.trackVisibility||a.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},h.componentWillUnmount=function(){this.unobserve(),this.node=null},h.observeNode=function(){if(this.node&&!this.props.skip){var a=this.props,b=a.threshold,c=a.root,d=a.rootMargin,e=a.trackVisibility,f=a.delay,g=a.fallbackInView;this._unobserveCb=k(this.node,this.handleChange,{threshold:b,root:c,rootMargin:d,trackVisibility:e,delay:f},g)}},h.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},h.render=function(){if(!m(this.props)){var a=this.state,b=a.inView,c=a.entry;return this.props.children({inView:b,entry:c,ref:this.handleNode})}var f=this.props,g=f.children,h=f.as,i=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(f,l);return d.createElement(h||"div",e({ref:this.handleNode},i),g)},b}(d.Component);function o(a){var b=void 0===a?{}:a,c=b.threshold,e=b.delay,f=b.trackVisibility,g=b.rootMargin,h=b.root,i=b.triggerOnce,j=b.skip,l=b.initialInView,m=b.fallbackInView,n=d.useRef(),o=d.useState({inView:!!l}),p=o[0],q=o[1],r=d.useCallback(function(a){void 0!==n.current&&(n.current(),n.current=void 0),!j&&a&&(n.current=k(a,function(a,b){q({inView:a,entry:b}),b.isIntersecting&&i&&n.current&&(n.current(),n.current=void 0)},{root:h,rootMargin:g,threshold:c,trackVisibility:f,delay:e},m))},[Array.isArray(c)?c.toString():c,h,g,i,j,f,m,e]);(0,d.useEffect)(function(){n.current||!p.entry||i||j||q({inView:!!l})});var s=[r,p.inView,p.entry];return s.ref=s[0],s.inView=s[1],s.entry=s[2],s}n.displayName="InView",n.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}}}])