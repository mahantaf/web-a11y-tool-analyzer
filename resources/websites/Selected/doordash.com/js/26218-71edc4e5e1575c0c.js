"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26218],{8461:function(a,b,c){c.d(b,{Aw:function(){return l},Sb:function(){return m},XQ:function(){return n},rv:function(){return p},tv:function(){return o}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  max-width: inherit;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)([""]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  margin-top: ","px;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)([""]);return k=function(){return a},a}var l=f.default.div.withConfig({componentId:"sc-b155230-0"})(g()),m=f.default.div.withConfig({componentId:"sc-b155230-1"})(h()),n=(0,f.default)(e.Text).attrs(function(){return{overflow:e.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-b155230-2"})(i()),o=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Medium14}}).withConfig({componentId:"sc-b155230-3"})(j(),e.Spacing.XxSmall),p=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.ListRowSubtext,color:e.Text.Colors.TextSecondary,overflow:e.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-b155230-4"})(k())},90937:function(a,b,c){c.d(b,{B:function(){return f}});var d=c(73408),e=c(91513),f=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.z)(a).mode===e.O.GROUP_CART_PARTICIPANT_CHECKOUT}},73408:function(a,b,c){c.d(b,{z:function(){return i}});var d=c(13819),e=c(43947),f=c(67294),g=c(35945),h=c(91513),i=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=f.useContext(g.E);if((!b.mode||b.mode===h.O.EMPTY)&&(console.error("Please check wrapped by CheckoutModeContext"),null==a?void 0:a.captureProviderMissingEvent)){var c={level:d.z.Warning,message:"MultiModeCheckoutContextProvider Missing"};e.eN(c)}return b}},14413:function(a,b,c){c.d(b,{F:function(){return f}});var d=c(90937),e=c(2886),f=function(a){var b=(0,d.B)(),c=(0,e.RN)().consumer.id,f=a.filter(function(a){return Boolean(a)});return c&&b?f.filter(function(a){var b;return(null===(b=a.consumer)||void 0===b?void 0:b.id)===c}):f}},1785:function(a,b,c){c.d(b,{m:function(){return f},x:function(){return g}});var d=c(56014),e=c(11459),f=function(a,b){if(!a.isMerchantShipping)return h(a,b.selectedDeliveryTime&&"ASAP"!==b.selectedDeliveryTime?e.n5.SCHEDULE:b.selectedDeliveryOption!==e.n5.NOT_SET?b.selectedDeliveryOption:e.n5.STANDARD,b.selectedDeliveryTime)},g=function(a,b){if(!a.isMerchantShipping&&b.contextSelectedDeliveryOption!==e.n5.NOT_SET)return h(a,b.contextSelectedDeliveryOption,b.contextDeliveryTime)},h=function(a,b,c){var f={deliveryOptionType:b};if(b===e.n5.STANDARD)return Array.isArray(a.asapMinutesRange)&&2===a.asapMinutesRange.length&&"number"==typeof a.asapMinutesRange[1]&&(f.asapDurationTimeSeconds=60*a.asapMinutesRange[1]),f;if(b===e.n5.SCHEDULE){var g=(0,d.On)(c,a.orderTimeAvailability);g&&(f.deliveryWindow=g)}return f}},97800:function(a,b,c){c.d(b,{ZP:function(){return M},u8:function(){return L}});var d=c(26042),e=c(69396),f=c(10253),g=c(29815),h=c(67294),i=c(39138),j=c.n(i),k=c(18734),l=c(80163),m=c(78259),n=c(2886),o=c(11153),p=c(11459),q=c(31205),r=c(87264),s=c(21743),t=c(10090),u=c(4831),v=c(65999),w=c(3810),x=c(95657),y=c(33574),z=function(a){var b=null==a?void 0:a.phoneNumberComponents,c=null==b?void 0:b.internationalNumber,d=null==b?void 0:b.formattedNationalNumber;return d||(0,y.formatPhoneNumberToNational)(c)||(null==b?void 0:b.nationalNumber)||""},A=c(39230),B=c(22453),C=c(8822),D=c(15117),E=c(64803),F=c(27287),G=c(30381),H=c.n(G),I="ASAP",J=function(a){var b,c=a.scheduledTimeString,d=a.isScheduledAvailable,e=a.isGiftRecipientScheduling,f=a.selectedDeliveryOption,g=a.localScheduledTime,h=a.isNativeGiftCardOrderCart;return h?c!==I?(b=g,H()(b).format("ddd, MMM Do, YYYY")):v.Z.chooseATime():e?v.Z.recipientWillSchedule():d?f===p.n5.SCHEDULE&&c!==I?c:v.Z.chooseATime():v.Z.unavailable()},K=function(a){var b,c,d,e,f=null!==(c=null===(b=a.printableAddress)||void 0===b?void 0:b.split(","))&&void 0!==c?c:[];if("shortname"in a){return{firstLine:(null!==(d=a.shortname)&&void 0!==d?d:"")+(a.subpremise?" ".concat((0,u.Ay)(a.subpremise)):""),secondLine:f.length>1?f.slice(1).join(", "):f[0]}}return{firstLine:f[0],secondLine:f.length>1?f.slice(1).join(", "):""}},L=function(a){var b;return(null!==(b=a.deliveryOptions)&&void 0!==b?b:[]).map(function(a){var b=!!a.optionOverrideTitle;return(0,d.Z)({},a,b?{optionTitle:a.optionOverrideTitle,optionSubtitle:a.optionSubtitle,optionQuoteMessage:a.optionHighlightedText}:{optionSubtitle:a.etaMinutesRange})})},M=function(){var a,b,c,i,u,y,G,H,I,L,M,N,O=h.useContext(n.Uu).consumer,P=h.useContext(l.iB).orderCart,Q=h.useContext(r.ZP),R=Q.giftOptions,S=Q.setGiftOptions,T=Q.localScheduledTime,U=Q.setLocalScheduledTime,V=null===(aQ=P.restaurant)||void 0===aQ?void 0:aQ.offersPackageReturns,W=O.defaultAddress||{},X=h.useContext(w.Z),Y=X.selectedDeliveryOption,Z=X.setSelectedDeliveryOption,$=X.setDeliveryOptionInfo,_=X.checkoutQueryScheduledTime,aa=(0,D.DW)(null==P?void 0:P.dropoffOptions),ab=(0,q.l)(P.id,W,aa,Y,V),ac=ab.loading||ab.error?O.dropoffOptions:ab.dropoffOptions,ad=(0,m.Am)(null!==(a0=null===(aR=O.defaultAddress)||void 0===aR?void 0:null===(aS=aR.dropoffPreferences)||void 0===aS?void 0:aS.allPreferences)&&void 0!==a0?a0:[],ac,null!==(a1=null===(aT=O.defaultAddress)||void 0===aT?void 0:aT.driverInstructions)&&void 0!==a1?a1:""),ae=(0,m.s)(null!==(a2=null===(aU=O.defaultAddress)||void 0===aU?void 0:null===(aV=aU.dropoffPreferences)||void 0===aV?void 0:aV.allPreferences)&&void 0!==a2?a2:[],ac),af=(0,s.Z9)(P),ag=(0,x.Z)(),ah=ag.setFulfillmentType,ai=ag.isFulfillmentTypeLoading,aj=ag.fulfillmentType,ak=(0,f.Z)(h.useState(aj),2),al=ak[0],am=ak[1],an=function(a){var b=a===x.L.Pickup;aB!==b&&(am(a),ah(a,function(){Z(p.n5.NOT_SET),$(void 0)}),(0,o.lh)(b,b?"pickup":"delivery"))},ao=(0,A.Z)({cartId:P.id,isOutsideDeliveryRegion:!!P.isOutsideDeliveryRegion,savedGiftOptions:R,setGiftOptions:S,entryPoint:B.JE.CHECKOUT_INFO_V2}),ap=ao.hasGiftThatCanBeScheduled,aq=ao.isGiftRecipientScheduling,ar=(0,F.Qy)(P),as=null===(aW=P.restaurant)||void 0===aW?void 0:aW.address,at=O.defaultAddress,au=al===x.L.Delivery?at?(0,e.Z)((0,d.Z)({},K(at)),{personalAddressLabel:at.personalAddressLabel}):{firstLine:"",secondLine:""}:as?K(as):{firstLine:"",secondLine:""},av=null!==(a4=null!==(a3=null===(aX=P.restaurant)||void 0===aX?void 0:aX.squareCoverImgUrl)&&void 0!==a3?a3:null===(aY=P.restaurant)||void 0===aY?void 0:aY.coverImgUrl)&&void 0!==a4?a4:"",aw=Boolean(av)&&Boolean(null===(aZ=P.restaurant)||void 0===aZ?void 0:aZ.shouldShowStoreLogo),ax=[al===x.L.Delivery?{type:k.S.HOME,lat:null!==(a5=null==at?void 0:at.lat)&&void 0!==a5?a5:0,lng:null!==(a6=null==at?void 0:at.lng)&&void 0!==a6?a6:0,imageUrl:null}:{type:k.S.STORE,lat:null!==(a7=null==as?void 0:as.lat)&&void 0!==a7?a7:0,lng:null!==(a8=null==as?void 0:as.lng)&&void 0!==a8?a8:0,imageUrl:aw?av:null},],ay="ASAP"===T,az=(0,s.Yr)(P),aA=(0,s.lH)(P),aB=null!==(a9=null==P?void 0:P.isConsumerPickup)&&void 0!==a9&&a9,aC=aB?P.asapPickupTimeRange:P.asapTimeRange,aD=Intl.DateTimeFormat().resolvedOptions().timeZone,aE=(null==O?void 0:null===(a$=O.defaultAddress)||void 0===a$?void 0:a$.timezone)||aD||"US/Pacific",aF=(0,t.fz)(T,aE,(0,s.LZ)(T,null==P?void 0:P.orderTimeAvailability)),aG=!aB&&!!P.asapDeliveryOverrideTitle,aH=aG?P.asapDeliveryOverrideTitle:v.Z.standard(),aI=aG?P.asapDeliveryOverrideSubtitle:aC,aJ=(0,E.$)(Y,{isScheduledAvailable:aA,isStandardAvailable:az,isStandardDelivery:ay}),aK=J({scheduledTimeString:aF,isScheduledAvailable:aA,isGiftRecipientScheduling:aq,selectedDeliveryOption:aJ,isNativeGiftCardOrderCart:ar,localScheduledTime:T}),aL=[],aM=!1,aN={deliveryOptionType:p.n5.STANDARD,optionTitle:az?aH:v.Z.standard(),optionSubtitle:az?aI:v.Z.unavailable(),isScheduleDelivery:!0,isAvailable:az,etaMinutesRange:aC},aO=aF===v.Z.asap()||aq?"":aF,aP=(y=(u={isGiftRecipientScheduling:aq,isScheduledAvailable:aA,isNativeGiftCardOrderCart:ar,hasGiftThatCanBeScheduled:ap,scheduledTimeLabel:aO,scheduleDeliveryOptionQuoteMessage:af,etaMinutesRange:aK}).isGiftRecipientScheduling,G=u.isScheduledAvailable,H=u.hasGiftThatCanBeScheduled,I=u.isNativeGiftCardOrderCart,L=u.etaMinutesRange,M=u.scheduledTimeLabel,N=u.scheduleDeliveryOptionQuoteMessage,{deliveryOptionType:p.n5.SCHEDULE,optionTitle:y?v.Z.scheduledRecipientWillSchedule():v.Z.scheduleForLater(),optionSubtitle:L,isScheduleDelivery:!0,isAvailable:G||H||I,etaMinutesRange:M,optionQuoteMessage:N});if(V?aL.push({deliveryOptionType:p.n5.STANDARD,optionTitle:v.Z.standard(),optionSubtitle:az?v.Z.asap():v.Z.unavailable(),isScheduleDelivery:!0,isAvailable:az,etaMinutesRange:aC}):(aL.push(aN),aL.push(aP)),!aB&&!V){var aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb=[p.n5.PRIORITY],bc=[],bd=[];null===(ba=P.deliveryOptions)||void 0===ba||ba.forEach(function(a){var b,c,e=!!a.optionOverrideTitle;a.deliveryOptionType===p.n5.PRIORITY&&(aM=!!(null===(b=a.backendStyling)||void 0===b?void 0:null===(c=b.title)||void 0===c?void 0:c.displayString));var f=(0,d.Z)({},a,e?{optionTitle:a.optionOverrideTitle,optionSubtitle:a.optionSubtitle,optionQuoteMessage:a.optionHighlightedText}:{optionSubtitle:a.etaMinutesRange});bb.includes(a.deliveryOptionType)?bc.push(f):bd.push(f)}),aL=(0,g.Z)(bc.map(s.ew)).concat([aN,],(0,g.Z)(bd),[aP,])}var be="";aq||(be=aJ===p.n5.STANDARD?null!=aC?aC:"":aJ===p.n5.SCHEDULE?aF:null!==(c=null===(b=null===(a=P.deliveryOptions)||void 0===a?void 0:a.find(function(a){return a.deliveryOptionType===aJ}))||void 0===b?void 0:b.etaMinutesRange)&&void 0!==c?c:"");var bf,bg=(0,C.Bo)(P,ay),bh=P.offersPickup&&!P.isBundle,bi=[].concat(P.offersDelivery?[x.L.Delivery]:[]).concat(bh?[x.L.Pickup]:[]);return{orderCart:P,phoneNumber:z(O),dropOffPreference:ae,dropOffOptions:ac,dasherInstructions:ad&&(bf=ad,"“".concat(j()(bf,{length:50}),"”")),address:au,fulfillmentType:ai?al:aj,isFulfillmentTypeLoading:ai,availableFulfillmentTypes:bi,setFulfillmentType:an,mapMarkers:ax,timeOptions:aL,selectedDeliveryOption:aJ,setSelectedDeliveryOption:Z,setDeliveryOptionInfo:$,checkoutQueryScheduledTime:_,orderCartId:P.id,restaurantId:null===(a_=P.restaurant)||void 0===a_?void 0:a_.id,timeCellTimeRange:be,giftSchedulingInfo:ao,isCatering:Boolean(null==P?void 0:P.isCatering),isConvenience:Boolean(null==P?void 0:P.isConvenienceCart),shouldAutoOpenModal:bg,checkoutDropoffOptions:null!==(i=P.dropoffOptions)&&void 0!==i?i:[],isBackendDrivenExpressTile:aM,offersPackageReturns:V,setLocalScheduledTime:U,isNativeGiftCardOrderCart:ar}}},95657:function(a,b,c){c.d(b,{L:function(){return k.LK}});var d=c(47568),e=c(10253),f=c(34051),g=c.n(f),h=c(67294),i=c(55789),j=c(80163),k=c(11459),l=function(){var a,b=h.useContext(j.iB).orderCart,c=(0,e.Z)((0,i.U)(),2),f=c[0],l=c[1].loading,m=b.isConsumerPickup?k.LK.Pickup:k.LK.Delivery,n=(a=(0,d.Z)(g().mark(function a(c,d){var e;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=(0,i.L5)(b,c===k.LK.Pickup,!1),a.next=3,f({variables:e});case 3:null==d||d();case 4:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)});return{fulfillmentType:m,setFulfillmentType:n,isFulfillmentTypeLoading:l}};b.Z=l},32434:function(a,b,c){var d=c(26042),e=c(69396),f=c(85893),g=c(67294),h=c(53698),i=c(52822),j=c(82976),k=c(64370),l=c(2886),m=c(11153),n=c(20306),o=function(a){var b=a.addressEntryPoint,c=a.onClose,o=a.customizations,p=a.title,q=(0,h.Z)().isStorefront,r=(0,k.M)().handleGiftIntentUpdate,s=(0,n.Z)().isAddressLabelEnabled;g.useEffect(function(){(0,m.aV)()},[]);var t=g.useCallback(function(a){r({addressId:null==a?void 0:a.id,addressLinkType:null==a?void 0:a.addressLinkType}),c()},[c,r]),u=g.useContext(l.Uu),v=u.consumer.defaultAddress,w=q&&!v?i.Z.deliveryAddressTitle():i.Z.changeAddressTitle();return(0,f.jsx)(j.Z,{addressEntryPoint:"".concat(b,"/AddressPickerModal"),title:p||w,refetchQueries:["checkout"],isStaticPositionSuggestions:!0,customizations:s?(0,e.Z)((0,d.Z)({},null!=o?o:{}),{renderAutocompleteSuggestionsInAnchoredLayer:!0,hideAutoCompleteLabel:!0}):o,awaitDefaultAddressRefetchQueries:!0,onClose:c,onChange:t})};b.Z=o},49957:function(a,b,c){c.d(b,{x:function(){return g}});var d=c(27361),e=c.n(d),f=c(4831),g=function(a,b){var c=e()(a,"shortname")||"",d=(0,f.gj)(c,a.printableAddress||""),g=e()(a,"subpremise")||"";return b?"".concat(c," ").concat((0,f.Ay)(g)).concat(c&&g?",":""," ").concat(d):[c,d,g].filter(function(a){return!!a&&a.length>0}).join(", ")}},18626:function(a,b,c){var d=c(85893),e=c(10071),f=c(24906);c(67294);var g=c(31280),h=function(a){var b=a.title,c=a.subtext,h=a.iconType,i=a.onClick,j=a.renderAboveContent,k=a.renderBelowContent;return(0,d.jsx)(g.ZP,{insetSize:e.Inset.Sizes.Small,iconStart:{type:h,size:f.IconButton.Sizes.Large,isInteractive:!1},title:(0,d.jsx)(e.Text,{children:b}),subtext:c&&(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium14,color:e.Text.Colors.TextSecondary,children:c}),iconEnd:i&&{type:g.ZP.IconTypes.ChevronRight,size:f.IconButton.Sizes.Large,isInteractive:!1},onClick:i,renderAboveContent:j,renderBelowContent:k})};b.Z=h},82279:function(a,b,c){c.d(b,{GA:function(){return u},GX:function(){return s},HB:function(){return r},U6:function(){return q},vo:function(){return t}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  @media screen and (max-width: ","px) {\n    display: none;\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  padding: ","px;\n\n  @media screen and (min-width: ","px) {\n    margin: 0 auto;\n    max-width: ","px;\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  padding: 0px;\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  text-align: right;\n  margin-top: ","px;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  width: ","px;\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  margin: 0 0 -","px -","px;\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  margin: 0 0 0 ","px;\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)(["\n  margin: 0 0 0 ","px;\n"]);return n=function(){return a},a}var o=e.Breakpoints.Desktop;f.default.div.withConfig({componentId:"sc-ede7e36b-0"})(g(),o);var p=f.default.div.withConfig({componentId:"sc-ede7e36b-1"})(h(),e.Spacing.Small,o,600),q=(0,f.default)(p).withConfig({componentId:"sc-ede7e36b-2"})(i());f.default.div.withConfig({componentId:"sc-ede7e36b-3"})(j(),e.Spacing.Medium);var r=f.default.div.withConfig({componentId:"sc-ede7e36b-4"})(k(),330),s=f.default.div.withConfig({componentId:"sc-ede7e36b-5"})(l(),e.Spacing.Small+1,e.Spacing.Small),t=f.default.div.withConfig({componentId:"sc-ede7e36b-6"})(m(),e.Spacing.Medium),u=f.default.div.withConfig({componentId:"sc-ede7e36b-7"})(n(),e.Spacing.Medium)},15924:function(a,b,c){c.d(b,{R:function(){return f},s:function(){return e}});var d,e=function(a){return a.orderItem.priceDisplayString},f=function(a){var b,c;return null!==(d=null===(b=a.item)||void 0===b?void 0:null===(c=b.itemTagsList)||void 0===c?void 0:c.filter(function(a){return!!a}))&&void 0!==d?d:[]}},5290:function(a,b,c){c.d(b,{CQ:function(){return o},Oe:function(){return p},"Q$":function(){return m},nH:function(){return l},om:function(){return n}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  padding: ","px;\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  background-color: ",";\n  padding: ","px;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  margin-bottom: ","px;\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  white-space: initial;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  width: 100%;\n\n  ","\n"]);return k=function(){return a},a}var l=f.default.div.withConfig({componentId:"sc-ea8142c7-0"})(g(),e.Spacing.XxxSmall),m=f.default.div.withConfig({componentId:"sc-ea8142c7-1"})(h(),e.Colors.PageBackgroundSecondary,e.Spacing.XxSmall),n=f.default.div.withConfig({componentId:"sc-ea8142c7-2"})(i(),e.Spacing.Small),o=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Medium16,color:e.Text.Colors.TextPrimary}}).withConfig({componentId:"sc-ea8142c7-3"})(j()),p=(0,f.default)(e.Stack).withConfig({componentId:"sc-ea8142c7-4"})(k(),function(a){return a.isMobileTablet&&"\n    border-bottom: 1px solid ".concat(e.Colors.BorderSecondary,";\n    padding-bottom: ").concat(e.Spacing.Small,"px;\n  ")})},88677:function(a,b,c){c.d(b,{Z:function(){return aS}});var d=c(47568),e=c(26042),f=c(69396),g=c(10253),h=c(34051),i=c.n(h),j=c(85893),k=c(67294),l=c(80163),m=c(10071),n=c(24906),o=c(11153),p=c(63260),q=c(20688),r=c(7297),s=c(87379);function t(){var a=(0,r.Z)(["\n  &:first-of-type {\n    margin-top: -","px;\n  }\n  margin-left: -","px;\n"]);return t=function(){return a},a}function u(){var a=(0,r.Z)(["\n  max-width: inherit;\n"]);return u=function(){return a},a}function v(){var a=(0,r.Z)([""]);return v=function(){return a},a}function w(){var a=(0,r.Z)(["\n  margin-top: ","px;\n"]);return w=function(){return a},a}function x(){var a=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]);return x=function(){return a},a}function y(){var a=(0,r.Z)([""]);return y=function(){return a},a}var z=s.default.div.withConfig({componentId:"sc-b5c49657-0"})(t(),m.Spacing.Small,m.Spacing.Small),A=s.default.div.withConfig({componentId:"sc-b5c49657-1"})(u()),B=(0,s.default)(m.Text).attrs(function(){return{styles:m.Text.Styles.Medium16,color:m.Text.Colors.TextPrimary,overflow:m.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-b5c49657-2"})(v()),C=(0,s.default)(m.Text).attrs(function(){return{styles:m.Text.Styles.Medium14}}).withConfig({componentId:"sc-b5c49657-3"})(w(),m.Spacing.XxSmall),D=s.default.div.withConfig({componentId:"sc-b5c49657-4"})(x()),E=(0,s.default)(m.Text).attrs(function(){return{styles:m.Text.Styles.ListRowSubtext,color:m.Text.Colors.TextSecondary,overflow:m.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-b5c49657-5"})(y()),F=c(61090),G=c(9179),H=c(41849),I=c(65999),J=c(66935),K=c(31280),L=c(16707),M=c(21008),N=c(11459),O=c(65780),P=c(3817),Q=c(26961),R=c(51927),S=c(26864),T=c(9135),U=c(43712),V=c(54423),W=c(76777),X=c(27287),Y=c(15924),Z=c(56751),$=c(33574),_=c(44529),aa=c(23685);function ab(){var a=(0,r.Z)(["\n  margin-top: ","px;\n"]);return ab=function(){return a},a}function ac(){var a=(0,r.Z)([""]);return ac=function(){return a},a}function ad(){var a=(0,r.Z)(["\n  text-decoration: ",";\n"]);return ad=function(){return a},a}var ae=(0,s.default)(m.Text).attrs(function(){return{styles:m.Text.Styles.Medium14}}).withConfig({componentId:"sc-a5f9abea-0"})(ab(),m.Spacing.XxSmall),af=(0,s.default)(ae).attrs(function(){return{color:m.Text.Colors.TextHighlight}}).withConfig({componentId:"sc-a5f9abea-1"})(ac()),ag=(0,s.default)(ae).withConfig({componentId:"sc-a5f9abea-2"})(ad(),m.Text.TextDecorations.StrikeThrough),ah=function(a){var b,c,d,e=a.orderItem,f=(0,_.Hk)(),g=(null===(b=e.itemLevelDiscountMonetaryFields)||void 0===b?void 0:b.currency)||(0,$.getDefaultCurrency)(f),h=null==e?void 0:e.priceOfTotalQuantity,i=null==e?void 0:null===(c=e.itemLevelDiscountMonetaryFields)||void 0===c?void 0:c.unitAmount;return h&&i&&(d=h-i),(0,j.jsx)(j.Fragment,{children:d?(0,j.jsxs)(m.InlineChildren,{justifyContent:m.InlineChildren.Justification.FlexStart,size:m.InlineChildren.Sizes.XxxSmall,children:[(0,j.jsx)(ag,{children:e.priceDisplayString}),(0,j.jsx)(af,{children:(0,$.formatMoney)({unitAmount:d,currency:g,userLocale:aa.default.getCurrentLocale(),concise:!0})})]}):(0,j.jsx)(ae,{children:e.priceDisplayString})})},ai=c(13411),aj=c(88287);function ak(){var a=(0,r.Z)(["\n  color: ",";\n  text-decoration: ",";\n  cursor: pointer;\n"]);return ak=function(){return a},a}var al=s.default.div.withConfig({componentId:"sc-cdde0327-0"})(ak(),m.Colors.TextSecondary,m.Text.TextDecorations.Underline),am=c(37590),an=function(a){var b,c=a.item,d=a.storeId,e=(0,g.Z)(k.useState(!1),2),f=e[0],h=e[1],i=(0,G.ZP)({storeId:d}),l=i.showRoutineReorderExperience,n=i.isRecurringDeliverySelected,o=i.routineReorderItemIdsList,p=(null==c?void 0:null===(b=c.item)||void 0===b?void 0:b.id)||"",q=null==c?void 0:c.isRoutineReorderEligible,r=(0,g.Z)(k.useState((0,ai.e0)({curStoreRoutineReorderItemIds:o,itemId:p})),2),s=r[0],t=r[1];if(k.useEffect(function(){t((0,ai.e0)({curStoreRoutineReorderItemIds:o,itemId:p}))},[o,p]),!l||null===q||!n)return null;var u=aj.Z.oneTimeDelivery();return s?u=aj.Z.recurringDelivery():q&&(u=(0,j.jsx)(al,{role:"button","aria-label":"AddRecurringDelivery",onClick:function(){return h(!0)},children:aj.Z.lineItemAddCta()})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Text,{styles:m.Text.Styles.Medium14,children:u}),f&&(0,j.jsx)(am.Z,{onClose:function(){h(!1)},storeId:d,preselectedItemId:p})]})},ao=c(11595);function ap(){var a=(0,r.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return ap=function(){return a},a}function aq(){var a=(0,r.Z)(["\n  margin-left: ","px;\n"]);return aq=function(){return a},a}function ar(){var a=(0,r.Z)([""]);return ar=function(){return a},a}var as=s.default.div.withConfig({componentId:"sc-63272ad5-0"})(ap()),at=s.default.div.withConfig({componentId:"sc-63272ad5-1"})(aq(),m.Spacing.XxxSmall),au=(0,s.default)(m.Text).attrs(function(){return{styles:m.Text.Styles.ListRowSubtext,color:m.Text.Colors.TextWarning,overflow:m.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-63272ad5-2"})(ar()),av=c(24401),aw=c(3532),ax=c(50065),ay=function(a){var b,c,d,e=a.withDotPrefix,f=a.itemTags,g=a.itemRestriction,h=(0,av.ZP)(av.P$.enableSnapEbt),i=h?null===(b=f.find(function(a){return(null==a?void 0:a.tagType)===1}))||void 0===b?void 0:b.localizedName:null,l=null===(c=f.find(function(a){return(null==a?void 0:a.tagType)===3}))||void 0===c?void 0:c.localizedName,n=null===(d=f.find(function(a){return(null==a?void 0:a.tagType)===2}))||void 0===d?void 0:d.localizedName,o=(g.type===N.cA.ALCOHOL||g.type===N.cA.OTC)&&g.minAgeRequirement>0;return((0,k.useEffect)(function(){o&&(0,aw.ZP)("m_order_cart_tag_view",{age:g.minAgeRequirement,dd_platform:(0,ax.X)()})},[o,g.minAgeRequirement]),n||l||i||o)?(0,j.jsxs)(j.Fragment,{children:[e&&(0,j.jsx)(ao.E,{}),o&&(0,j.jsxs)(as,{children:[(0,j.jsx)(m.Icon,{shouldAdjustSmallSizesWhitespace:!0,size:m.Icon.Sizes.Small,color:m.Icon.Colors.TextWarning,type:m.Icon.Types.CardIdLine}),(0,j.jsx)(at,{children:(0,j.jsx)(au,{children:aa.default.t("checkout_restriction_order_item_tag",{ageRequirement:g.minAgeRequirement})})})]}),!!n&&(0,j.jsx)(as,{children:(0,j.jsx)(E,{children:n})}),!!i&&(0,j.jsx)(as,{children:(0,j.jsx)(E,{children:i})}),!!l&&(0,j.jsx)(as,{children:(0,j.jsx)(E,{children:l})})]}):null},az=c(60151),aA=c(88969),aB=c(30915),aC=function(a){var b,c,d,e,f=a.orderItem,g=a.storeId,h=(null===(b=f.item)||void 0===b?void 0:b.name)||"",i=f.options||[],k=(0,Y.s)({orderItem:f}),l=(0,Y.R)(f),n=(0,Z.R)(f),o=(0,aA.Ze)(null===(c=f.item)||void 0===c?void 0:c.restrictionInfo),p=(0,aB.Z)(i),q=(0,G.ZP)({storeId:g}).showRoutineReorderExperience;return(0,j.jsxs)(A,{"data-telemetry-id":az.p.OrderItemContainerItemTitle,children:[(0,j.jsx)(B,{children:h}),(0,j.jsx)(E,{title:p,children:p}),f.specialInstructions&&(0,j.jsx)(E,{children:(0,j.jsx)("q",{children:f.specialInstructions})}),(null==f?void 0:f.estimatedPricingDescription)?(0,j.jsxs)(m.InlineChildren,{alignItems:m.InlineChildren.Alignment.Center,size:m.InlineChildren.Sizes.XxxSmall,shouldWrap:!0,children:[(0,j.jsx)(E,{children:null==f?void 0:f.estimatedPricingDescription}),(0,j.jsx)(ay,{withDotPrefix:!0,itemTags:l,itemRestriction:o})]}):(0,j.jsx)(ay,{itemTags:l,itemRestriction:o}),n&&(0,j.jsx)(E,{children:I.Z.drinksMenu.deliveredFrom(null!==(e=null===(d=f.bundleStore)||void 0===d?void 0:d.name)&&void 0!==e?e:"")}),(0,j.jsx)(an,{item:f,storeId:g}),q?(0,j.jsx)(ah,{orderItem:f}):(0,j.jsx)(C,{children:k})]})},aD=c(99980),aE=c(22279),aF=c(61405),aG=function(a){var b,c,f,h,r,s,t,u,v=a.orderId,w=a.orderItem,x=a.isSeparatorVisible,y=a.disableStepper,A=a.consumer,B=a.onClick,C=k.useContext(l.iB),E=C.corporateIndividualOrders,Y=C.orderCart,Z=null!==(s=null===(b=Y.restaurant)||void 0===b?void 0:b.id)&&void 0!==s?s:"",$=w.id,_=(null===(c=w.item)||void 0===c?void 0:c.name)||"",aa="function"==typeof B,ab=!!Y.isConvenienceCart,ac=(0,X.Qy)(Y),ad=(0,X.mi)(w),ae=(0,aF.M)(),af=(0,g.Z)((0,p.o)(Y,v,$,E),1),ag=af[0],ah=(0,L.n)({orderCart:Y,itemId:w.id,itemBundleStoreName:null!==(t=null===(f=w.bundleStore)||void 0===f?void 0:f.name)&&void 0!==t?t:"",handleRemoveCartItem:function(){return ag(!0)}}),ai=ah.shouldShowDeleteLastItemModal,aj=ah.showDeleteLastItemModal,ak=ah.renderDeleteLastItemModal,al=function(){ai?aj():ag()},am=(0,g.Z)((0,O.hC)(),2),an=am[0],ao=am[1].error,ap=null==ao?void 0:null===(h=ao.graphQLErrors)||void 0===h?void 0:null===(r=h[0])||void 0===r?void 0:r.message,aq=(0,G.ZP)({storeId:Z}),ar=aq.showRoutineReorderExperience,as=aq.removeRoutineReorderLineItem,at=function(a){!y&&aa&&(a.key===M.n.Space||a.key===M.n.Enter||a.key===M.n.Spacebar)&&B()},au=function(){var a;(null===(a=w.item)||void 0===a?void 0:a.id)&&(0,o.Oq)(w,o.Ru.INCREASE,Z,ab)},av=function(a){var b;(null===(b=w.item)||void 0===b?void 0:b.id)&&(0,o.Oq)(w,0===a?o.Ru.DELETE:o.Ru.DECREASE,Z,ab),0===a&&al()},aw=(u=(0,d.Z)(i().mark(function a(b){var c,d,e;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==b){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,d=A.orderCart,e=(0,T.Z)({orderCart:Y,orderItem:w,newQuantity:b,allowUpdateItem:!1}),a.next=8,an({variables:e,refetchQueries:["checkout"],awaitRefetchQueries:!0});case 8:e.updateCartItemApiParams.cartId!==(null===(c=A.orderCart)||void 0===c?void 0:c.id)&&ae(d),a.next=14;break;case 11:return a.prev=11,a.t0=a.catch(2),a.abrupt("return");case 14:case"end":return a.stop()}},a,null,[[2,11]])})),function(a){return u.apply(this,arguments)}),ax=function(){return ac?(0,j.jsx)(W.Z,(0,e.Z)({disableMarginLeft:!0},(0,W.u)(w))):y?(0,j.jsx)(J.t,(0,e.Z)({},(0,J.G)(w))):(0,j.jsx)(D,{children:(0,j.jsx)(F.Z,(0,e.Z)({disableMarginLeft:!0},(0,F.w)(w)))})},ay={quantity:w.quantity||0,continuousQuantity:w.continuousQuantity||0,purchaseType:w.purchaseType||N.Oz.PURCHASE_TYPE_UNSPECIFIED,incrementInfo:w.increment||void 0,displayUnit:w.unit||"qty",quickAddButtonType:P.AX.plus,shouldExpandLeft:!1,maxQuantity:S.Ge,onIncrement:au,onDecrement:av,onUpdate:aw,entry:R.k.CHECKOUT_ORDER_ITEM};return(0,j.jsxs)(z,{role:"listitem","data-anchor-id":q.Pt.orderItemContainer,children:[(0,j.jsx)(H.Z,{tag:"div",onClick:y?null:B,insetSize:m.Inset.Sizes.Small,titleOverrides:{style:{height:"100%",display:"flex",alignItems:"center"}},accessibilityLabel:aa&&!y?Q.h.cartStrings.editItemInCart(_):void 0,tabIndex:0,onKeyDown:at,title:ac?(0,j.jsx)(aD.E,{orderCart:Y,orderItem:w}):(0,j.jsx)(aC,{orderItem:w,storeId:Z}),secondaryTitleOverrides:{overflow:"normal"},renderBeforeContent:ax,iconEnd:y&&{type:K.ZP.IconTypes.TrashFill,onClick:function(){if(al(),ar){var a;null==as||as({itemId:null===(a=w.item)||void 0===a?void 0:a.id})}},accessibilityLabel:I.Z.orderCart.removeOrderItem(_),size:ac?n.IconButton.Sizes.Large:n.IconButton.Sizes.Small,isInteractive:!0,"data-anchor-id":q.Gb.RemoveOrderCartItemButton},iconAlignment:m.InlineChildren.Alignment.Center,renderAfterContent:function(){return(0,j.jsxs)(j.Fragment,{children:[ak(),y?null:(0,j.jsx)(D,{children:(0,j.jsx)(R.I,(0,e.Z)({},ay))})]})},isSeparatorVisible:void 0===x||x,separatorType:K.ZP.SeparatorTypes.InsetBorder,renderBelowContent:function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(V.n,{discounts:w.discounts}),ap&&(0,j.jsx)(U.Z,{errorMessage:ap})]})}}),ac&&ad&&(0,j.jsx)(aE.r,{children:'"'.concat(ad,'"')})]})},aH=c(74895),aI=c(89251),aJ=c(89261),aK=c(22278),aL=c(71408),aM=c(2886),aN=c(97449),aO=c(48447),aP=k.lazy(aL.Z),aQ=k.lazy(function(){return Promise.all([c.e(17398),c.e(11530),c.e(66574),c.e(56330),c.e(80791),c.e(57898)]).then(c.bind(c,71676))}),aR=function(a){var b,c,h,m,n,p,q,r,s,t,u,v,w=a.orderId,x=a.orderItems,y=(0,aJ.XR)(),z=k.useContext(aM.Uu).consumer,A=k.useContext(l.iB).orderCart,B=!!A.isConvenienceCart,C=(0,O.tl)(A),D=(null==A?void 0:null===(b=A.restaurant)||void 0===b?void 0:b.id)||(null==A?void 0:null===(c=A.storeOrderCarts)||void 0===c?void 0:null===(h=c[0])||void 0===h?void 0:null===(m=h.store)||void 0===m?void 0:m.id)||"",E=(0,aK.Z)(D),F=(0,X.Qy)(A),G=E||F,H=(0,g.Z)(k.useState(!1),2),I=H[0],J=H[1],K=(0,g.Z)(k.useState((0,aI.F1)(D,aH.$.CART_EDIT_ITEM_MODAL,A)),2),L=K[0],M=K[1],N=function(a){var b,c,d,e=null!==(d=null===(b=a.item)||void 0===b?void 0:b.id)&&void 0!==d?d:"";M(a),J(!0),(0,o.qD)(D,(null===(c=A.menu)||void 0===c?void 0:c.id)||"",e,!0,B),y.set(aH.$.CART_EDIT_ITEM_MODAL,{itemId:e,storeId:D})},P=function(){J(!1),M(null),y.delete(aH.$.CART_EDIT_ITEM_MODAL)},Q=x.map(function(a,b){var c;return(0,j.jsx)(aG,(0,f.Z)((0,e.Z)({orderId:w,orderItem:a,isSeparatorVisible:b!==x.length-1,disableStepper:G},(c=a,C||B?{onClick:(0,d.Z)(i().mark(function a(){var b,d;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,N(c);case 3:(0,o.Ge)(D,null!==(d=null===(b=c.item)||void 0===b?void 0:b.id)&&void 0!==d?d:"",B);case 5:case"end":return a.stop()}},a)}))}:{})),{consumer:z}),a.id)});return(0,j.jsxs)("div",{role:"list",children:[C&&L&&!B&&(0,j.jsx)(k.Suspense,{fallback:(0,j.jsx)(k.Fragment,{}),children:(0,j.jsx)(aP,{isViewingPickup:!!A.isConsumerPickup,menuId:(null==A?void 0:null===(n=A.menu)||void 0===n?void 0:n.id)||"",storeId:(0,aN.cd)(L,D),consumer:z,orderCart:A,orderCartItemId:L.id,itemId:null!==(v=null===(p=L.item)||void 0===p?void 0:p.id)&&void 0!==v?v:"",showModal:I,closeModal:P,storeName:(null==A?void 0:null===(q=A.restaurant)||void 0===q?void 0:null===(r=q.business)||void 0===r?void 0:r.name)||"",shouldUseCacheFirst:!(null==A?void 0:null===(s=A.differentialPricingDetails)||void 0===s?void 0:s.isEnabled),refetchQueries:["checkout"]})}),B&&(null==L?void 0:null===(t=L.item)||void 0===t?void 0:t.id)&&I&&(0,j.jsx)(k.Suspense,{fallback:(0,j.jsx)(k.Fragment,{}),children:(0,j.jsx)(aQ,{storeId:D,productId:null===(u=L.item)||void 0===u?void 0:u.id,uiViewContainer:aO.gH.CHECKOUT,onClose:P,storeUrlSlug:D,businessId:"",maxItems:S.Ge,refetchQueries:["checkout"]})}),Q]})},aS=aR},80222:function(a,b,c){var d=c(85893),e=c(53698),f=c(10071),g=c(67294),h=c(5405),i=c(11153),j=c(53259),k=c(2886),l=c(11698),m=c(86973),n=c(87264),o=c(30778),p=c(49331),q=c(80163),r=c(5290),s=c(61867),t=function(a){var b,c,t=a.isDashPassUpsellOn,u=a.isDashPassModalOn,v=a.setIsDashPassModalOn,w=a.payPalCountrySupported,x=a.potentialDashPassRefundAmount,y=a.requiresUserProvidedContactInfo,z=a.isExpressCheckout,A=a.hideApplePay,B=a.showUnconfirmedPaymentModalByOverride,C=(0,l.ac)().isMobile,D=g.useContext(m.q),E=D.storeInformation.isCashTransaction,F=(0,e.Z)().isStorefront,G=g.useContext(q.iB),H=G.consumerPaymentCards,I=G.orderCart,J=!!H.find(function(a){return a.isDefault}),K=g.useContext(n.ZP),L=K.totalWithTipBeforeCredits,M=K.tips,N=K.dashCardPoints,O=new j.ZP(I),P=O.companyPayTotal(M.map(function(a){return a.value})),Q=g.useContext(k.Uu).consumer,R=O.applicableCredits(M.map(function(a){return a.value})),S=(0,o.$w)({accountCredits:R,companyPay:P,refund:x,totalWithTipBeforeCredits:L,dashCardPoints:N}),T=S.amountDue,U=S.creditsApplied,V=(0,o.uz)({amountDue:T,isCashTransaction:E});return g.useEffect(function(){(0,i.WT)({amountDue:T,creditsApplied:U,consumerId:Q.id})},[]),(0,d.jsx)(r.Oe,{"data-testid":h.Z.submitPanel,isMobile:C,children:(0,d.jsx)(f.StackChildren,{children:(0,d.jsx)(p.Z,{amountDue:T,consumerId:Q.id,addressId:null!==(c=null===(b=Q.defaultAddress)||void 0===b?void 0:b.id)&&void 0!==c?c:null,creditsApplied:U,hasDefaultCard:J,isStorefront:F,orderCart:I,payPalCountrySupported:w,paymentMethodRequiredForCheckout:V,requiresCheckIn:(0,o.IC)(I),requiresUserProvidedContactInfo:y,isExpressCheckout:z,renderSubmitButton:function(a,b){return t?(0,d.jsx)(s.Z,{showModal:function(){return v(!u)},dashpassUpsell:I.dashpassUpsell,paymentDisabled:b}):a},disableApplePay:t||void 0!==A&&A,groupCartCheckoutProps:{showUnconfirmedPaymentModalByOverride:B}})})})};b.Z=t},83311:function(a,b,c){c.d(b,{Z:function(){return R}});var d=c(85893),e=c(67294),f=c(88677),g=c(10071),h=c(37835),i=c(24906),j=c(7297),k=c(87379);function l(){var a=(0,j.Z)(["\n  padding-right: ","px;\n  margin-bottom: ","px;\n"]);return l=function(){return a},a}function m(){var a=(0,j.Z)(["\n  display: inline-block;\n  vertical-align: text-top;\n"]);return m=function(){return a},a}function n(){var a=(0,j.Z)(["\n  max-width: ","px;\n  display: flex;\n  flex-direction: column;\n"]);return n=function(){return a},a}function o(){var a=(0,j.Z)(["\n  margin-bottom: ","px;\n"]);return o=function(){return a},a}function p(){var a=(0,j.Z)([""]);return p=function(){return a},a}var q=(0,k.default)(g.Text).attrs(function(){return{size:g.Text.Sizes.S14,lineHeights:g.Text.LineHeights.Small,color:g.Text.Colors.TextSecondary}}).withConfig({componentId:"sc-b3c45b22-0"})(l(),g.Spacing.XSmall,g.Spacing.Small),r=k.default.div.withConfig({componentId:"sc-b3c45b22-1"})(m()),s=k.default.div.withConfig({componentId:"sc-b3c45b22-2"})(n(),250),t=(0,k.default)(g.Text).attrs(function(){return{styles:g.Text.Styles.Bold14,color:g.Text.Colors.TextTooltip}}).withConfig({componentId:"sc-b3c45b22-3"})(o(),g.Spacing.XxSmall),u=(0,k.default)(g.Text).attrs(function(){return{color:g.Text.Colors.TextTooltip,size:g.Text.Sizes.S14,lineHeights:g.Text.LineHeights.Small}}).withConfig({componentId:"sc-b3c45b22-4"})(p()),v=function(a){var b=a.differentialPricingDetails,c=b.message,e=b.disclaimerTitle,f=b.disclaimerMessage;return c?(0,d.jsxs)(q,{children:[c,e&&f&&(0,d.jsx)(r,{children:(0,d.jsx)(h.default,{content:(0,d.jsxs)(s,{children:[(0,d.jsx)(t,{children:e}),(0,d.jsx)(u,{children:f})]}),interactionType:h.default.InteractionTypes.ToggleHover,position:h.default.Positions.BottomCenter,shouldCloseBeVisible:!1,children:function(a){var b=a.describedBy;return(0,d.jsx)(i.default,{type:i.default.Types.FlatSecondary,padding:i.default.Padding.None,accessibilityDescribedBy:b,children:(0,d.jsx)(g.Icon,{size:g.Icon.Sizes.Small,type:g.Icon.Types.InfoCircleLine,color:g.Colors.TextTertiary})})}})})]}):null},w=c(41609),x=c.n(w),y=c(14413),z=c(5290),A=c(47568),B=c(10253),C=c(34051),D=c.n(C),E=c(11153),F=c(63260),G=c(20688),H=c(65999),I=c(80163),J=c(31280),K=function(a){var b=a.specialInstructions;return""===b?null:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Regular16,color:g.Text.Colors.TextTertiary,children:b})},L=c(15924),M=c(60151),N=function(a){var b,c,f,h,j,k,l=a.orderId,m=a.orderItem,n=a.isGroupCart,o=a.setIsEditingCartItems,p=a.onClick,q=e.useContext(I.iB),r=q.corporateIndividualOrders,s=q.orderCart,t=null==m?void 0:m.id,u=null!==(h=null===(b=m.item)||void 0===b?void 0:b.name)&&void 0!==h?h:"",v=null!==(j=null===(c=m.item)||void 0===c?void 0:null===(f=c.category)||void 0===f?void 0:f.title)&&void 0!==j?j:"",w=m.options||[],x=(0,L.s)({orderItem:m}),y=(0,B.Z)((0,F.o)(s,l,t,r),1),C=y[0];return(0,d.jsx)(z.om,{"data-anchor-id":G.Pt.orderItemContainer,role:"listitem",children:(0,d.jsx)(J.ZP,{onClick:p,insetSize:g.Inset.Sizes.XxSmall,renderAboveContent:function(){return(0,d.jsx)(g.Text,{styles:g.Text.Styles.Regular16,color:g.Text.Colors.TextTertiary,children:v})},title:(0,d.jsx)(z.CQ,{"data-telemetry-id":M.p.OrderItemContainerItemTitle,children:u}),secondaryTitleOverrides:{overflow:g.TextOverflow.Wrap},secondaryTitleStart:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium16,children:m.quantity}),secondaryTitleEnd:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium16,children:x}),iconEnd:n||void 0===o?void 0:{type:J.ZP.IconTypes.Close,onClick:(0,A.Z)(D().mark(function a(){return D().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),(0,E.oz)(),a.next=4,C();case 4:o(!1);case 5:case"end":return a.stop()}},a)})),size:i.IconButton.Sizes.Small,accessibilityLabel:H.Z.orderCart.removeOrderItem(u),isInteractive:!0},iconAlignment:g.InlineChildren.Alignment.FlexStart,subtext:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium14,color:g.Text.Colors.TextTertiary,children:(k=w).map(function(a){return a.name}).join("\xa0\xa0\xb7\xa0\xa0")}),!!s.isConvenienceCart&&(0,d.jsx)(K,{specialInstructions:m.specialInstructions})]}),subtextMaxLines:w.length,isSeparatorVisible:!1})})},O=function(a){var b=a.orderId,c=a.orderItems;return(0,d.jsx)(e.Fragment,{children:c.map(function(a){return(0,d.jsx)(N,{orderId:b,orderItem:a,isGroupCart:!0},b+(a.id||0))})})},P=function(a){var b,c;return(null===(b=a.consumer)||void 0===b?void 0:null===(c=b.localizedNames)||void 0===c?void 0:c.formalNameAbbreviated)||""},Q=function(a){var b=a.orders,c=(0,y.F)(b);return(0,d.jsx)(e.Fragment,{children:c.map(function(a){return!x()(a.orderItems)&&(0,d.jsxs)(z.nH,{children:[(0,d.jsx)(z.Q$,{children:(0,d.jsx)(g.InlineChildren,{justifyContent:g.InlineChildren.Justification.SpaceBetween,children:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium14,children:P(a)})})}),(0,d.jsx)(O,{orderId:a.id,orderItems:a.orderItems||[]})]},a.id)})})},R=function(a){var b,c=a.orders,e=a.isGroupCart,g=a.showPriceMayDifferMessage,h=a.differentialPricingDetails,i=(null===(b=c[0])||void 0===b?void 0:b.orderItems)||[];return(0,d.jsxs)("div",{children:[g&&h&&(0,d.jsx)(v,{differentialPricingDetails:h}),!e&&1===c.length&&(0,d.jsx)(f.Z,{orderItems:i,orderId:c[0].id}),e&&(0,d.jsx)(Q,{orders:c})]})}},87742:function(a,b,c){c.d(b,{W:function(){return f},e:function(){return e}});var d=c(3532),e=function(a){var b=a.store_id,c=a.order_cart_id,e=a.consumer_id,f=a.address_id,g=a.delivery_options,h=a.eta;return(0,d.ZP)("delivery_option_display",{store_id:b,order_cart_id:c,consumer_id:e,address_id:f,delivery_options:g,eta:h})},f=function(a){var b=a.store_id,c=a.order_cart_id,e=a.consumer_id,f=a.address_id,g=a.delivery_option,h=a.ETA;return(0,d.ZP)("delivery_option_click",{store_id:b,order_cart_id:c,consumer_id:e,address_id:f,delivery_option:g,ETA:h})}},48974:function(a,b,c){c.d(b,{Z:function(){return R}});var d=c(85893),e=c(67294),f=c(1968),g=c(60955),h=c(87264),i=c(80163),j=function(a){var b=a.onClose,c=a.onTimeSelect,j=e.useContext(i.iB).orderCart,k=(0,h.Gc)(),l=k.localScheduledTime,m=k.setLocalScheduledTime;return(0,d.jsx)(f.Modal,{title:"",actionsFillContainer:!0,isFullScreenOnMobile:!1,hasCloseButton:!0,onClose:b,children:(0,d.jsx)(g.Z,{cart:j,handlePickerClose:b,refetchQueries:["checkout"],onTimeSelectSuccess:function(a){null==c||c(a),m(a)},currentScheduledTime:l,shouldSetConsumerTime:!!j.isCatering})})},k=c(47568),l=c(26042),m=c(69396),n=c(10253),o=c(34051),p=c.n(o),q=c(24906),r=c(10071),s=c(34521),t=c(39755),u=c(1360),v=c(23778),w=c(20598),x=c(41264),y=c(2886),z=c(85861),A=c(22453),B=c(31451),C=c(12390),D=function(a,b){return(0,A.gs)({entryPoint:A.JE.GIFTING_TIMEPICKER_MODAL,message:a,giftOptions:b})},E=function(a){var b,c,g,j,o,A=a.onClose,E=a.onTimeSelect,F=a.savedGiftOptions,G=a.setGiftOptions,H=a.openModal,I=e.useContext(y.Uu).consumer,J=e.useContext(i.iB).orderCart,K=(0,B.R)(),L=K.addToast,M=K.removeToast,N=(0,n.Z)(e.useState((null==F?void 0:F.shouldRecipientScheduleGift)||!1),2),O=N[0],P=N[1],Q=e.useContext(h.ZP),R=Q.setLocalScheduledTime,S=Q.localScheduledTime,T=(0,n.Z)(e.useState(S),2),U=T[0],V=T[1],W=(0,n.Z)(e.useState(!1),2),X=W[0],Y=W[1],Z=(0,v.Z)(),$=(0,x.ZP)(S,J),_=(null===(b=$.availableDaysAndTimes)||void 0===b?void 0:b.length)>0,aa=["checkout"],ab=function(a){G((0,m.Z)((0,l.Z)({},F),{shouldRecipientScheduleGift:a}))},ac=(g=(0,k.Z)(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,R(U),E?E(U):A(),a.next=10;break;case 5:throw a.prev=5,a.t0=a.catch(0),D(null===a.t0||void 0===a.t0?void 0:a.t0.message,F),A(),Error("handleSetScheduleTime");case 10:(0,t.DM)(aa);case 11:case"end":return a.stop()}},a,null,[[0,5]])})),function(){return g.apply(this,arguments)}),ad=(j=(0,k.Z)(p().mark(function a(){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Z({cartId:J.id,giftOptions:(0,m.Z)((0,l.Z)({},F),{shouldRecipientScheduleGift:O})});case 3:ab(O),a.next=10;break;case 6:throw a.prev=6,a.t0=a.catch(0),D(null===a.t0||void 0===a.t0?void 0:a.t0.message,F),Error("handleSaveGiftInfo");case 10:case"end":return a.stop()}},a,null,[[0,6]])})),function(){return j.apply(this,arguments)}),ae=(o=(0,k.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Y(!0),b=!1,a.prev=2,a.next=5,ad();case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),b=!0;case 10:return a.prev=10,a.next=13,ac();case 13:a.next=18;break;case 15:a.prev=15,a.t1=a.catch(10),b=!0;case 18:b&&(A(),af());case 19:case"end":return a.stop()}},a,null,[[2,7],[10,15]])})),function(){return o.apply(this,arguments)}),af=function(){var a=L({duration:s.VW.Durations.Short,isError:!0,action:{text:u.l.scheduleErrorToastAction(),onClick:function(){H(),M(a)}},text:u.l.scheduleErrorToast()})},ag=function(a){a?(0,C.s9)():(0,C.B8)(),P(a)},ah=(null==I?void 0:null===(c=I.defaultAddress)||void 0===c?void 0:c.timezone)||"US/Pacific";return(0,d.jsxs)(f.Modal,{title:u.l.mealGiftingModalTitle(),subtitle:u.l.mealGiftingModalSubTitle(ah),actionsFillContainer:!0,isFooterFixedPosition:!0,isFullScreenOnMobile:!0,hasCloseButton:!0,onClose:A,renderFooterContent:function(){return(0,d.jsx)(r.InlineChildren,{justifyContent:r.InlineChildren.Justification.FlexEnd,children:(0,d.jsx)(q.default,{isInline:!0,type:q.default.Types.Primary,size:q.default.Sizes.Medium,onClick:ae,state:X?q.default.States.Loading:q.default.States.Default,children:u.l.mealGiftingModalUpdate()})})},children:[(0,d.jsx)(r.Inset,{horizontalSize:r.Inset.Sizes.None,verticalSize:r.Inset.Sizes.Small,children:(0,d.jsx)(z.Z,{isSelected:O,onChangeScheduleGiftToggle:ag})}),!O&&_&&(0,d.jsx)("div",{"data-testid":"timePickerContainer",children:(0,d.jsx)(w.Z,(0,m.Z)((0,l.Z)({},$),{onTimeSelect:V,scheduledTime:U}))})]})},F=E,G=c(29815),H=c(30381),I=c.n(H),J=c(52281),K=c(6701),L=c(65999),M=c(31061),N=c(86380),O=c(12414),P=L.Z.orderAheadModal,Q=function(a){var b,c,g,j=a.onClose,o=a.onTimeSelect,w=a.savedGiftOptions,x=a.setGiftOptions,y=a.openModal,D=Boolean(w),E=(0,N.W)(),F=(0,h.Gc)(),H=F.localScheduledTime,L=F.setLocalScheduledTime,Q=e.useContext(i.iB).orderCart,R=(0,B.R)(),S=R.addToast,T=R.removeToast,U=Q.orderTimeAvailability,V=(0,O.Uw)(),W=(0,n.Z)(e.useState(void 0),2),X=W[0],Y=W[1];e.useEffect(function(){Y((0,M.WI)(null==Q?void 0:Q.id))},[null==Q?void 0:Q.id]);var Z,$,_,aa=(0,J.Z)({orderTimeAvailability:U,initialDate:(b=Boolean(E&&X),c=H,g=X,b?g:"ASAP"!==c?new Date(c):void 0)}),ab=(0,n.Z)(e.useState(!1),2),ac=ab[0],ad=ab[1],ae=(0,n.Z)(e.useState(aa.initialDate),2),af=ae[0],ag=ae[1],ah=(0,n.Z)(e.useState((null==w?void 0:w.shouldRecipientScheduleGift)||!1),2),ai=ah[0],aj=ah[1],ak=(0,v.Z)(),al=function(a){a?(0,C.s9)():(0,C.B8)(),aj(a)},am=(Z=(0,k.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,L(b=(null==af?void 0:af.toISOString())||"ASAP"),E&&((0,M.IQ)(Q.id,b),Y(af)),(0,t.DM)(["checkout"],{delivery_time:b}),o?o(b):j(),a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(0),j(),Error("handleSetScheduleTime");case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(){return Z.apply(this,arguments)}),an=function(a){w&&x((0,m.Z)((0,l.Z)({},w),{shouldRecipientScheduleGift:a}))},ao=($=(0,k.Z)(p().mark(function a(){var b,c;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!w){a.next=13;break}return a.prev=1,a.next=4,ak({cartId:Q.id,giftOptions:(0,m.Z)((0,l.Z)({},w),{shouldRecipientScheduleGift:ai})});case 4:an(ai),a.next=13;break;case 7:var d,e;throw a.prev=7,a.t0=a.catch(1),d=c=null===(b=a.t0)||void 0===b?void 0:b.message,e=w,(0,A.gs)({entryPoint:A.JE.GIFTING_TIMEPICKER_MODAL,message:d,giftOptions:e}),Error("handleSaveGiftInfo");case 13:case"end":return a.stop()}},a,null,[[1,7]])})),function(){return $.apply(this,arguments)}),ap=function(){var a=S({duration:s.VW.Durations.Short,isError:!0,action:{text:u.l.scheduleErrorToastAction(),onClick:function(){y(),T(a)}},text:u.l.scheduleErrorToast()});j()},aq=(_=(0,k.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=!1,ad(!0),!w){a.next=11;break}return a.prev=3,a.next=6,ao();case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(3),b=!0;case 11:return a.prev=11,a.next=14,am();case 14:a.next=19;break;case 16:a.prev=16,a.t1=a.catch(11),b=!0;case 19:b&&ap();case 20:case"end":return a.stop()}},a,null,[[3,8],[11,16]])})),function(){return _.apply(this,arguments)}),ar=function(){var a=(0,G.Z)(aa.dateMap)[aa.dateMap.size-1][0],b=I()().startOf("day"),c=I()(a);return c.diff(b,"days")+1},as=D?P.subtitleDaysMessageMealGifting(ar(),aa.timeZone):P.subtitleDaysMessage(ar(),aa.timeZone);return(0,d.jsxs)(f.Modal,{title:P.title(),subtitle:as,actionsFillContainer:!0,isFullScreenOnMobile:!0,hasCloseButton:!0,onClose:j,size:f.Modal.Sizes.Custom,customSize:{maxWidth:340},primaryAction:{text:P.primaryActionText(),onClick:aq,buttonProps:{state:ac?q.default.States.Loading:q.default.States.Default}},children:[D&&V&&(0,d.jsx)(r.Inset,{horizontalSize:r.Inset.Sizes.None,verticalSize:r.Inset.Sizes.XxSmall,children:(0,d.jsx)(z.Z,{isSelected:ai,onChangeScheduleGiftToggle:al})}),!ai&&(0,d.jsx)(K.Z,{datePickerOptions:aa,onSelectedDate:ag,onError:ap,showTimeSlots:!0})]})},R=function(a){var b=a.openModal,c=a.onTimeSelect,e=a.onClose,f=(0,h.Gc)(),g=f.giftOptions,i=f.setGiftOptions,k=f.canScheduleLongerInAdvanceTime,l=(0,O.Uw)();return k?(0,d.jsx)(Q,{onClose:e,onTimeSelect:c,savedGiftOptions:g,setGiftOptions:i,openModal:b}):g&&l?(0,d.jsx)(F,{onClose:e,onTimeSelect:c,savedGiftOptions:g,setGiftOptions:i,openModal:b}):(0,d.jsx)(j,{onClose:e,onTimeSelect:c})}},63437:function(a,b,c){c.d(b,{Z:function(){return D}});var d,e=c(10253),f=c(85893),g=c(67294),h=c(10071),i=c(7297),j=c(87379);function k(){var a=(0,i.Z)(["\n  border-raidus: ","px;\n"]);return k=function(){return a},a}function l(){var a=(0,i.Z)(["\n  overflow: hidden;\n  margin-top: ","px;\n  cursor: ",";\n  ","\n"]);return l=function(){return a},a}function m(){var a=(0,i.Z)(["\n  padding: ","px ","px;\n"]);return m=function(){return a},a}function n(){var a=(0,i.Z)(["\n  padding: ","px;\n  background-color: ",";\n  white-space: pre-wrap;\n  ","\n"]);return n=function(){return a},a}function o(){var a=(0,i.Z)(["\n  color: ",";\n"]);return o=function(){return a},a}function p(){var a=(0,i.Z)(["\n  background-color: ",";\n  height: ","px;\n  width: ","%;\n"]);return p=function(){return a},a}function q(){var a=(0,i.Z)(["\n  background-color: ",";\n"]);return q=function(){return a},a}var r,s=(0,j.css)(k(),h.Spacing.XxSmall),t=j.default.div.withConfig({componentId:"sc-965c3333-0"})(l(),h.Spacing.Small,function(a){return a.isclickable?"pointer":"default"},function(a){return a.showBorderRadius&&s}),u=(0,j.css)(m(),h.Spacing.XxxxSmall,h.Spacing.Small),v=j.default.div.withConfig({componentId:"sc-965c3333-1"})(n(),h.Spacing.Small,function(a){return a.hasMetMin&&a.isMaxSavingsGained?h.Colors.TextHighlight:h.Colors.SystemGrey0},function(a){return a.shouldOverrideContainerStyles&&u}),w=(0,j.default)(h.Text).attrs(function(){return{}}).withConfig({componentId:"sc-965c3333-2"})(o(),function(a){var b=a.hasMetMin,c=a.isMaxSavingsGained;return b&&c?h.Colors.SystemWhite:b&&!c?h.Colors.TextHighlight:h.Colors.TextSecondary}),x=j.default.div.withConfig({componentId:"sc-965c3333-3"})(p(),h.Colors.TextHighlight,4,function(a){return 100*a.percentage}),y=j.default.div.withConfig({componentId:"sc-965c3333-4"})(q(),h.Colors.SystemGrey5),z=c(3903),A=c(69964),B=c(11153),C=c(56775);(r=d||(d={})).NON_DP="UPSELL_TYPE_NON_DP_PARTNER_STORE_DELIVERY",r.MIN_SUBTOTAL="UPSELL_TYPE_MINIMUM_SUBTOTAL_STANDARD";var D=function(a){var b,c,i,j,k=a.dashpassUpsell,l=a.discountBannerDetail,m=a.backToMenuLink,n=a.displayIfMinMet,o=a.isMaxSavingsGained,p=a.shouldOverrideContainerStyles,q=void 0!==p&&p,r=a.overrideBannerWrapperStyles,s=(0,e.Z)(g.useState(!1),2),u=s[0],D=s[1],E=(0,e.Z)(g.useState(!1),2),F=E[0],G=E[1],H=null==l?void 0:l.badgeType,I=Boolean((null==l?void 0:l.requiredAction)===A.KW.OPEN_BOTTOM_SHEET),J=Boolean((null==l?void 0:null===(b=l.upsellBannerAction)||void 0===b?void 0:null===(c=b.upsellConfirmation)||void 0===c?void 0:c.title)||I),K=null!==(j=null==l?void 0:l.minimumSubtotalPercentage)&&void 0!==j?j:0,L=Boolean(I||(null==l?void 0:l.discountDetailsMessage)||(null==l?void 0:l.discountDetailsMessageDescription)||(null==l?void 0:l.discountDetailsMessageTitle)),M=Boolean(I||L&&(null==l?void 0:l.requiredAction)===A.KW.NONE&&!Boolean(K)),N=I||(null==l?void 0:null===(i=l.upsellBannerAction)||void 0===i?void 0:i.upsellType)&&Object.values(d).includes(l.upsellBannerAction.upsellType),O=!Object.values(A.K_).includes(H)||!L||n!==M&&!I;if(g.useEffect(function(){O||(0,B.c4)(l)},[]),O)return null;var P,Q=function(){I?G(!0):D(!0)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(t,{showBorderRadius:void 0===r||r,isclickable:J,role:"button",onClick:function(){J&&(Q(),(0,B.I7)(l))},children:[(0,f.jsx)(v,{shouldOverrideContainerStyles:q,hasMetMin:M,isMaxSavingsGained:!!o||I,children:(0,f.jsxs)(h.InlineChildren,{alignItems:h.InlineChildren.Alignment.FlexStart,justifyContent:h.InlineChildren.Justification.SpaceBetween,children:[(0,f.jsxs)(h.InlineChildren,{alignItems:q?h.InlineChildren.Alignment.Center:h.InlineChildren.Alignment.FlexStart,children:[function(){var a="";switch(a=o||I?h.Icon.Colors.SystemWhite:M?h.Icon.Colors.TextHighlight:h.Icon.Colors.TextSecondary,H){case A.K_.DASHPASS:return(0,f.jsx)(h.Icon,{type:h.Icon.Types.LogoDashpassNew,color:a,size:h.Icon.Sizes.Medium});case A.K_.PROMOTION:return(0,f.jsx)(h.Icon,{type:M?h.Icon.Types.PromoFill:h.Icon.Types.DealsLine,color:a,size:h.Icon.Sizes.Medium});default:return null}}(),(null==l?void 0:l.discountDetailsMessageDescription)?(0,f.jsxs)(h.StackChildren,{size:h.StackChildren.Sizes.XxxSmall,children:[l.discountDetailsMessageTitle&&(0,f.jsx)(w,{hasMetMin:M,isMaxSavingsGained:!!o||I,styles:h.Text.Styles.Body1Emphasis,size:h.Text.Sizes.S16,children:l.discountDetailsMessageTitle}),l.discountDetailsMessageDescription&&(0,f.jsx)(w,{hasMetMin:M,isMaxSavingsGained:!!o||I,styles:h.Text.Styles.Body2,size:h.Text.Sizes.S14,color:h.Text.Colors.TextSecondary,children:l.discountDetailsMessageDescription})]}):(null==l?void 0:l.discountDetailsMessage)&&(0,f.jsx)(w,{hasMetMin:M,isMaxSavingsGained:!!o||I,styles:h.Text.Styles.Body2,size:h.Text.Sizes.S14,children:null==l?void 0:l.discountDetailsMessage})]}),(P=h.Icon.Colors.TextPrimary,I&&(P=h.Icon.Colors.SystemWhite),N&&(0,f.jsx)(h.Icon,{type:h.Icon.Types.ChevronRight,color:P,size:h.Icon.Sizes.Medium}))]})}),K>0&&(0,f.jsx)(y,{children:(0,f.jsx)(x,{percentage:K,evergreen:!Boolean(null==l?void 0:l.discountDetailsMessageTitle)})})]}),u&&(0,f.jsx)(z.Z,{dashpassUpsell:k,upsellBannerActionDetails:null==l?void 0:l.upsellBannerAction,discountDetails:l,backToMenuLink:m,onClose:function(){return D(!1)}}),F&&(null==l?void 0:l.discountBannerBottomSheet)&&(0,f.jsx)(C.Z,{onClose:function(){return G(!1)},flow:l.discountBannerBottomSheet,trackingParams:function(){return{timestamp:new Date().getTime()}}})]})}},49331:function(a,b,c){c.d(b,{Z:function(){return aD}});var d=c(47568),e=c(10253),f=c(29815),g=c(34051),h=c.n(g),i=c(85893),j=c(24906),k=c(53698),l=c(10071),m=c(67294),n=c(11698),o=c(20688),p=c(51501),q=c(3532),r=c(4831),s=c(65999),t=c(96205),u=c(11153),v=c(89369),w=c(87264),x=c(31891),y=c(43933),z=c(45261),A=c(25465),B=c(33594),C=c(87017),D=c(79030),E=c(80163),F=c(87708),G=function(a){var b=a.errorMessage,c=a.dataTestId;return(0,i.jsx)(B.yf,{"data-testid":c,children:(0,i.jsx)(l.Text,{styles:l.Text.Styles.Medium14,color:l.Text.Colors.TextSecondary,children:(0,i.jsx)(F.I,{error:b,children:b})})})},H=G,I=c(30778),J=c(1968),K=c(45481),L=c(7297),M=c(87379);function N(){var a=(0,L.Z)(["\n  padding-top: ","px;\n"]);return N=function(){return a},a}var O=M.default.div.withConfig({componentId:"sc-ec82ae74-0"})(N(),l.Spacing.Large),P=s.Z.orderCheckInModal,Q=function(a){var b=a.primaryAction,c=a.secondaryAction,d=a.storeName,e=a.orderCartId,f=function(){(0,q.ZP)("checkout_pickup_qsr_tap_cancel",{order_cart_id:e}),c()};return(0,i.jsx)(J.Modal,{title:P.title(d),subtitle:P.subtitle(d),size:J.Modal.Sizes.Medium,primaryAction:{text:P.primaryActionText(),onClick:function(){(0,q.ZP)("checkout_pickup_qsr_tap_confirm_place_order",{order_cart_id:e}),b()},buttonProps:{type:j.default.Types.PrimaryPill,state:j.default.States.Default}},secondaryAction:{text:P.secondaryActionText(),onClick:f,buttonProps:{type:j.default.Types.TertiaryPill}},onClose:f,isFullScreenOnMobile:!1,headerImage:(0,i.jsx)(O,{children:(0,i.jsx)("img",{src:(0,K.O1)("https://cdn.doordash.com/media/consumer/order_check_in.svg"),alt:P.title(d)})})})},R=c(79186),S=c(3810),T=c(73408),U=c(90937),V=c(82262),W=c(75317),X=c(62495),Y=c(8822),Z=c(38691),$=c(24401),_=c(70690),aa=c(48608),ab=c(282),ac=c(32145),ad=c(33016),ae=function(a){var b=a.errorMessage,c=a.dataTestId;return(0,i.jsx)(ad.ZP,{"data-testid":c,variant:ad.ZP.Variants.Warning,body:(0,i.jsx)(l.Text,{styles:l.Text.Styles.Medium14,color:l.Text.Colors.TextSecondary,children:b})})},af=function(a){var b=a.displayInfoMissingBanner,c=a.isDineIn,d=a.giftingError,e=a.cateringError,f=a.teamExpenseCodeRequiredError,g=a.groupCartParticipantUsingNonCreditCardError;return(0,i.jsxs)(m.Fragment,{children:[b&&(void 0!==c&&c?(0,i.jsx)(ae,{errorMessage:s.Z.orderCart.dineInContactInfoMissing()}):(0,i.jsx)(ae,{errorMessage:s.Z.orderCart.contactInfoMissing()})),d&&(0,i.jsx)(ae,{errorMessage:d}),e&&(0,i.jsx)(ae,{errorMessage:e}),f&&(0,i.jsx)(ae,{dataTestId:"teamExpenseCodeRequiredErrorBanner",errorMessage:s.Z.companyPayExpenseCodeBannerError()}),g&&(0,i.jsx)(ae,{dataTestId:"groupCartParticipantUsingNonCreditCardErrorBanner",errorMessage:s.Z.groupCartParticipantCheckoutWithNonCreditCardBannerError()})]})},ag=c(25925),ah=c(13411),ai=c(73791),aj=c(7444),ak=c(77836),al=c(24693),am=c(70573),an=c(47715),ao=c(82815),ap=c(63437),aq=c(69964),ar=c(2935),as=c(33574),at=c(23685),au=function(a){var b=a.submitBtntext,c=a.currencyCode,d=a.amountDue;return(0,i.jsxs)(l.InlineChildren,{justifyContent:l.InlineChildren.Justification.SpaceBetween,children:[(0,i.jsx)("div",{"data-testid":o.Pt.submitButtonContent,children:b}),(0,as.formatMoney)({unitAmount:d,currency:c,userLocale:at.default.getCurrentLocale()})]})},av=c(99286),aw=c(67977),ax=c(96653),ay=c(27287),az=c(5152),aA=c.n(az),aB=aA()(function(){return Promise.resolve().then(c.bind(c,96653))},{loadableGenerated:{webpack:function(){return[96653]}},ssr:!1}),aC=function(a){var b,c,g,F,G,J,K,L,M,N,O,P=a.amountDue,ad=a.consumerId,ae=a.addressId,as=a.creditsApplied,at=a.hasDefaultCard,az=a.orderCart,aA=a.payPalCountrySupported,aC=a.paymentMethodRequiredForCheckout,aD=a.submitContent,aE=a.requiresCheckIn,aF=a.isStorefront,aG=a.requiresUserProvidedContactInfo,aH=a.preSubmit,aI=a.renderSubmitButton,aJ=a.isExpressCheckout,aK=a.disableApplePay,aL=a.isFixedOverride,aM=a.isGuestUser,aN=a.groupCartCheckoutProps,aO=(0,n.ac)(),aP=aO.isMobile,aQ=aO.isMobileTablet,aR=(0,T.z)({captureProviderMissingEvent:!1}),aS=aR.mode,aT=(0,U.B)({captureProviderMissingEvent:!1}),aU=m.useContext(w.ZP),aV=aU.isPickupOrder,aW=aU.isApplePayAvailable,aX=aU.isApplePaySelected,aY=aU.isDineIn,aZ=aU.applePayLabel,a$=aU.setUseApplePay,a_=aU.payPalToken,a0=aU.venmoToken,a1=aU.isUsingPayPal,a2=aU.isUsingVenmo,a3=aU.tips,a4=aU.giftOptions,a5=aU.firstName,a6=aU.lastName,a7=aU.phoneNumber,a8=aU.email,a9=aU.workOrderOptions,ba=aU.defaultPaymentMethod,bb=aU.localScheduledTime,bc=m.useContext(S.Z).setSupplementalPaymentDetailsList,bd=aX&&!aK,be=m.useContext(x.ZP),bf=be.submitOrderCart,bg=be.submitOrderCartErrorMsg,bh=be.submittingOrderCart,bi=m.useContext(E.iB).isRefetching,bj=m.useContext(S.Z).setIsApplePaySelected,bk=(0,p.useIsPaypalEnabled)(),bl=(0,Z.OU)(),bm=(null==ba?void 0:ba.type)===aa.Oh.AFTERPAY,bn=(0,ab.pJ)(),bo=(0,ab.th)(),bp=(0,e.Z)(m.useState(!1),2),bq=bp[0],br=bp[1],bs=(0,e.Z)(m.useState(!1),2),bt=bs[0],bu=bs[1],bv=(0,e.Z)(m.useState(!1),2),bw=bv[0],bx=bv[1],by=(0,e.Z)(m.useState(!1),2),bz=by[0],bA=by[1],bB=(0,X.my)(ad,az),bC=a5&&a6&&a7&&a8&&(0,I._B)({firstName:a5,lastName:a6,phoneNumber:a7,email:a8}),bD=(!aJ||!bd)&&!bC&&aG,bE=bz&&bD||aW&&bd&&bD&&!aJ,bF=(O=(0,d.Z)(h().mark(function a(b){var c,d,e,f;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.applePayToken,d=b.bypassProfileUpdate,!aF||(bA(!0),!bD)){a.next=5;break}return a.abrupt("return");case 5:if(!(bB&&(null==aN?void 0:aN.showUnconfirmedPaymentModalByOverride))){a.next=9;break}return null==aN||null===(e=aN.showUnconfirmedPaymentModalByOverride)||void 0===e||e.call(aN),a.abrupt("return");case 9:if((0,u.tA)({amountDue:P,consumerId:ad,addressId:ae,creditsApplied:as,orderCart:az,tips:a3,giftOptions:a4}),!(aE&&aV&&!c)){a.next=14;break}br(!0),a.next=26;break;case 14:if(!(0,ao.sO)(az)){a.next=18;break}bu(!0),a.next=26;break;case 18:if(!aH){a.next=25;break}return bx(!0),a.next=22,aH();case 22:if(f=a.sent.shouldSubmitCart){a.next=25;break}return a.abrupt("return");case 25:bf({applePayToken:c,payPalToken:a_,venmoToken:a0,bypassProfileUpdate:d});case 26:case"end":return a.stop()}},a)})),function(a){return O.apply(this,arguments)}),bG=(0,R.A)(az,a4),bH=(0,Y.Z0)(az),bI=!(0,V.Uw)(az,null!==(M=null==a9?void 0:a9.expenseCode)&&void 0!==M?M:"")&&!(0,W.sx)(az),bJ=(0,I.Hn)(ba,{mode:aS}),bK=null!==(N=null==az?void 0:null===(b=az.creator)||void 0===b?void 0:null===(c=b.localizedNames)||void 0===c?void 0:c.formalNameAbbreviated)&&void 0!==N?N:"",bL=!!(null==a4?void 0:a4.shouldRecipientScheduleGift),bM=(0,Y.to)(az),bN=(0,$.ZP)($.P$.digitalWalletCheckoutButtonDisabled),bO=(0,_.Z)(),bP=m.useContext(al.s).isCheckoutBlocked,bQ=(0,am.useDVSBoolean)(an.PR.cxAddressBlockCheckoutFlag,!1),bR=(0,ay.Qy)(az),bS=(0,I.bk)({deliveryTime:bb,hasDefaultCard:at,isApplePaySelected:bd,isPickupOrder:aV,orderCart:az,payPalCountrySupported:aA,isUsingPayPal:a1,canUsePaypal:bk,isUsingVenmo:a2,venmoCountrySupported:bl,paymentMethodRequiredForCheckout:aC,giftingError:bG,workOrderOptions:a9,isGiftRecipientScheduling:bL,isCartInvalidForCateringReasons:bM,digitalWalletCheckoutButtonDisabledFeatureFlag:bN,isPaypalAlcoholPaySupported:bO,isUsingAfterpay:bm,isAfterpayCountrySupported:bn,isValidAfterpayPaymentAmount:bo,isGuestUser:void 0!==aM&&aM,defaultPaymentMethod:ba,isAddressNotDeliverableBlocking:bP&&bQ,isNativeGiftCardOrderCart:bR},{mode:aS}),bT=Boolean(bS.length)||bi,bU=(null==az?void 0:null===(g=az.restaurant)||void 0===g?void 0:g.id)||(null==az?void 0:null===(F=az.storeOrderCarts)||void 0===F?void 0:null===(G=F[0])||void 0===G?void 0:null===(J=G.store)||void 0===J?void 0:J.id)||"",bV=bS.join(", ");m.useEffect(function(){if(bV){var a;(0,q.ZP)("place_order_failure",{reasons:bV,is_merchant_shipping:null!==(a=az.isMerchantShipping)&&void 0!==a&&a,order_cart_id:az.id,is_group_cart:az.groupCart,is_catering:az.isCatering,store_id:bU}),(0,ah.r6)({storeId:bU})&&ai.s$.failure()}},[bV,az.isMerchantShipping,az.id,az.groupCart,az.isCatering,bU,]);var bW=function(){bf({payPalToken:a_,venmoToken:a0}),br(!1)},bX=function(){bd?(0,q.ZP)("click_use_another_payment_method",{storeId:bU}):(0,q.ZP)("click_use_apple_pay",{storeId:bU}),bj(!bd),a$(!bd)},bY=(0,e.Z)(m.useState(""),2),bZ=bY[0],b$=bY[1],b_=(0,k.Z)().isDoorDash,b0=null==az?void 0:null===(K=az.restaurant)||void 0===K?void 0:K.offersPackageReturns,b1=aT?t.Z.confirmPayment():aV&&!aY?s.Z.placePickupOrder():b0?s.Z.packageReturnsCheckoutButtonTitle():s.Z.placeOrder(),b2=(0,ak.Z)(az),b3=b2.paymentMethodUuid,b4=b2.snapMerchantId,b5=m.useCallback(function(a){return b$(a)},[]),b6=function(){return(0,i.jsx)(j.default,{"data-anchor-id":o.Pt.placeOrderButton,"data-testid":o.Pt.placeOrderButton,type:j.default.Types.Primary,state:bh||bw?j.default.States.Loading:j.default.States.Default,onClick:function(){return bF({applePayToken:void 0})},isDisabled:bT,children:null!=aD?aD:(0,i.jsx)(au,{submitBtntext:b1,amountDue:P,currencyCode:az.currencyCode?az.currencyCode:av.EJ})})},b7=(0,ac.Z)(),b8=b7.checkoutWithSignUpOrLogIn,b9=b7.redesignedMWebCheckout,ca=(0,ag.zV)(),cb=(0,aq.P6)(az),cc=(0,ar.ym)(az),cd=!aK&&aW&&aX;return(0,i.jsxs)(m.Fragment,{children:[(0,i.jsxs)(B.Fb,{isFixed:(b9?aP:aQ)&&!(void 0!==aL&&aL),redesignedMWebCheckout:b9,children:[b9&&(0,i.jsx)(ap.Z,{shouldOverrideContainerStyles:!0,dashpassUpsell:az.dashpassUpsell,discountBannerDetail:cb,backToMenuLink:cc,displayIfMinMet:!1}),ca||aP?b9?(0,i.jsx)(aw.Z,{deliveryTime:bb,isPickupOrder:aV,isGiftRecipientScheduling:bL,hasDefaultCard:at,isApplePaySelected:!aK&&aX&&aW,submitOrderCartErrorMsg:bg,checkoutMode:{mode:aS}}):(0,i.jsxs)(m.Fragment,{children:[(0,i.jsx)(A.Z,{orderCart:az,deliveryTime:bb,isPickupOrder:aV,isGiftRecipientScheduling:bL,checkoutMode:{mode:aS}}),(0,i.jsx)(z.Z,{orderCart:az,deliveryTime:bb,isPickupOrder:aV,isGiftRecipientScheduling:bL,checkoutMode:{mode:aS}}),(0,i.jsx)(C.Z,{hasDefaultCard:at,isApplePaySelected:!aK&&aX,paymentMethodRequiredForCheckout:aC,orderCart:az}),bg?(0,i.jsx)(D.Z,{errorMsg:bg}):null]}):null,cd&&(0,i.jsx)(v.Z,{disableApplePayButton:!aJ&&bD||bT,showOverlay:bh&&(b_||aF),submitOrderCartHandler:bF,currencyCode:az.currencyCode,countryCode:(0,r.Nn)((0,y.t8)(null===(L=az.restaurant)||void 0===L?void 0:L.address)),isExpressCheckout:aJ}),b8?(0,i.jsx)(af,{displayInfoMissingBanner:bE,isDineIn:aY,giftingError:bG,cateringError:bH,teamExpenseCodeRequiredError:bI,groupCartParticipantUsingNonCreditCardError:bJ}):(0,i.jsxs)(m.Fragment,{children:[bE&&(aY?(0,i.jsx)(H,{errorMessage:s.Z.orderCart.dineInContactInfoMissing()}):(0,i.jsx)(H,{errorMessage:s.Z.orderCart.contactInfoMissing()})),bG&&(0,i.jsx)(H,{errorMessage:bG}),bH&&(0,i.jsx)(H,{errorMessage:bH}),!!bZ&&(0,i.jsx)(H,{errorMessage:bZ}),bI&&(0,i.jsx)(H,{dataTestId:"teamExpenseCodeRequiredErrorBanner",errorMessage:s.Z.companyPayExpenseCodeBannerError()}),bJ&&(0,i.jsx)(H,{dataTestId:"groupCartParticipantUsingNonCreditCardErrorBanner",errorMessage:s.Z.groupCartParticipantCheckoutWithNonCreditCardBannerError()})]}),bR&&(0,i.jsx)(l.Stack,{children:(0,i.jsx)(aB,{type:ax.GiftCardDisclaimerType.Checkout})}),aI&&"function"==typeof aI&&!cd&&m.cloneElement(aI(b6(),bT)),!aI&&!cd&&b6(),!aK&&aW&&(0,i.jsx)(B.oU,{children:aJ?(0,i.jsx)(j.default,{type:j.default.Types.TertiaryPill,padding:j.default.Padding.Default,onClick:bX,children:bd?s.Z.userAnotherMethod():" ".concat(s.Z.use()," ").concat(aZ)}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Text,{children:s.Z.or()}),(0,i.jsx)(j.default,{type:j.default.Types.FlatPrimary,padding:j.default.Padding.None,onClick:bX,isInline:!0,children:bd?s.Z.payWithCard():" ".concat(s.Z.use()," ").concat(aZ)})]})}),aT&&(0,i.jsx)(l.Stack,{size:l.Stack.Sizes.XSmall,children:(0,i.jsx)(l.Text,{"data-testid":o.Pt.splitBillGroupCartApplyBudgetDisclaimer,color:l.Text.Colors.TextTertiary,styles:l.Text.Styles.Caption2,overflow:l.Text.Overflows.Wrap,children:t.Z.confirmPaymentDisclaimerBanner(bK)})}),bt&&!!b3&&!!b4&&(0,i.jsx)(aj.hC,{paymentMethodUuid:b3,snapMerchantId:b4,entryPoint:"checkout",onCancel:function(){return bu(!1)},onSuccess:function(a){bc(function(b){var c=(0,f.Z)(b),d=(0,e.Z)(c,1)[0];return null!=d&&(d.transactionId=a),c}),bf({payPalToken:a_,venmoToken:a0}),bu(!1)},onError:b5})]}),bq&&(0,i.jsx)(Q,{primaryAction:bW,secondaryAction:function(){return br(!1)},storeName:(0,I.Fk)(az),orderCartId:az.id})]})},aD=aC},20030:function(a,b,c){c.d(b,{Z:function(){return L}});var d=c(47568),e=c(10253),f=c(29815),g=c(34051),h=c.n(g),i=c(85893),j=c(24906),k=c(31280),l=c(10071),m=c(67294),n=c(1968),o=c(26042),p=c(53390),q=function(a){var b=a.charCodeAt(0);return b>=48&&b<=57},r=function(a,b,c){var d=!1;return a.split("").filter(function(a,e){return a===b?0===e:a===c?!d&&(d=!0,!0):q(a)}).join("")},s=function(a,b){var c=a.length,d=a.indexOf(b);return d>0&&d<c-3?a.substring(0,d+3):a},t=function(a){return a.split("").filter(q).join("")},u=function(a){var b=a.initialValue,c=a.currencySign,d=void 0===c?"$":c,f=a.decimalDelimiter,g=void 0===f?".":f,h=a.label,j=a.hint,k=a.error,l=a.onBlur,n=a.textFieldPropOverrides,q=(0,e.Z)(m.useState(void 0===b?"":b),2),u=q[0],v=q[1],w=m.useCallback(function(a){var b=a[0]!==d?d+a:a,c=r(b,d,g),e=s(c,g);v(e)},[d,g]),x=m.useCallback(function(){v(function(a){if(!a)return a;var b=a.length,c=a.indexOf(g),d=a+"".concat(g,"00").substring(c<0?0:b-c),e=t(d),f=parseInt(e,10);return setTimeout(function(){l(d,f)},10),d})},[g,l]);return(0,i.jsx)(p.TextField,(0,o.Z)({label:h,hint:j,error:k,value:u,onChange:w,onBlur:x,inputMode:"decimal"},void 0===n?{}:n))},v=c(48608),w=c(34177),x=function(a){var b,c,d=a.onSuccess,f=a.onCancel,g=a.onClickFetchNewBalance,h=a.currentBalance,o=a.maximumAppliableAmount,p=a.snapInitialAppliedAmount,q=m.useRef("$0.00"),r=m.useRef(0),s=(0,e.Z)(m.useState(""),2),x=s[0],y=s[1],z=m.useCallback(function(a,b){var c,d,e=null!==(c=null==o?void 0:o.unitAmount)&&void 0!==c?c:0;if(b>e){y(v.VD.snapEbt.eligibleMaxError());return}var f=null!==(d=null==h?void 0:h.unitAmount)&&void 0!==d?d:0;if(h&&b>f){y(v.VD.snapEbt.balanceMaxError());return}y(""),q.current=a,r.current=b},[o,h]);m.useEffect(function(){if(p){var a=t(p),b=parseInt(a,10);z(p,b)}},[p,z]);var A=m.useCallback(function(){q.current&&(r.current||0===r.current)&&d(q.current,r.current)},[d]);return(0,i.jsxs)(n.Modal,{title:v.VD.snapEbt.balanceModalTitle(),onClose:f,size:n.Modal.Sizes.Small,shouldRenderStickyHeader:!1,hasCloseButton:!0,shouldCloseOnOverlayClick:!1,actionsFillContainer:!0,useHairlineDividers:!0,primaryAction:{text:v.VD.snapEbt.applyAmount(),onClick:A,buttonProps:{state:x?j.default.States.Error:j.default.States.Default}},secondaryAction:{text:w.G9.cancel(),onClick:f},children:[h?(0,i.jsx)(k.ZP,{title:v.VD.snapEbt.snapBalance(),subtext:v.VD.snapEbt.availableBalance(null!==(b=h.displayString)&&void 0!==b?b:""),insetHorizontalSize:k.ZP.InsetSizes.None,size:k.ZP.Sizes.Small,iconStart:{isInteractive:!1,type:k.ZP.IconTypes.CardLine},iconEnd:{isInteractive:!0,type:k.ZP.IconTypes.LinkExternalLine,accessibilityLabel:v.VD.snapEbt.refreshPinBalance(),onClick:g}}):(0,i.jsx)(k.ZP,{title:v.VD.snapEbt.snapBalance(),subtext:v.VD.snapEbt.enterPinBalance(),insetHorizontalSize:k.ZP.InsetSizes.None,size:k.ZP.Sizes.Small,iconStart:{isInteractive:!1,type:k.ZP.IconTypes.CardLine},iconEnd:{isInteractive:!0,type:k.ZP.IconTypes.LinkExternalLine,accessibilityLabel:v.VD.snapEbt.enterPinBalance(),onClick:g}}),(0,i.jsx)(l.Stack,{}),(0,i.jsx)(u,{initialValue:p,label:w.G9.enterSnapAmount(),hint:v.VD.snapEbt.eligibleAmount(null!==(c=null==o?void 0:o.displayString)&&void 0!==c?c:""),error:x,onBlur:z,textFieldPropOverrides:{placeholder:"$0.00"}},"".concat(!!h)),(0,i.jsx)(l.Stack,{}),(0,i.jsx)(l.Text,{styles:l.Text.Styles.Caption1,children:v.VD.snapEbt.cardChargeNotice()})]})},y=c(82815),z=function(a){var b=a.errorType,c=a.errorMessage,d=a.size,e=a.onClose,f=a.primaryAction,g=a.secondaryAction;return(0,i.jsx)(n.Modal,{title:(0,y.Gi)(b),size:null!=d?d:n.ModalSize.Medium,onClose:e,primaryAction:f,secondaryAction:g,actionsFillContainer:!0,useHairlineDividers:!0,children:(0,i.jsx)(l.Text,{children:c})})},A=c(7444),B=c(49145),C=c(58605),D=c(23685),E=c(3810),F=c(24401),G=c(89261),H="snap-applied-amount",I=function(a,b){return"".concat(a,":").concat(b)},J=function(a,b){var c=(0,G.XR)(),d=(0,F.ZP)(F.P$.enableSnapEbt),e=m.useCallback(function(d,e,f,g){a&&b&&c.set(H,{id:I(a,b),displayString:d,unitAmount:e,paymentMethodId:f,transactionId:g})},[b,c,a]),f=m.useCallback(function(a,b){return!!a&&!!b&&(c.get(H)||{}).id===I(a,b)},[c]),g=m.useCallback(function(){if(f(a,b)){var d,e,g=c.get(H)||{};return g.unitAmount&&(d=g.displayString,e=g.unitAmount),{authorizedAmount:{displayString:d,unitAmount:e},type:1,paymentMethodId:g.paymentMethodId||void 0,transactionId:g.tranId||""}}return{}},[b,f,c,a]);return d?{getSnapAppliedAmount:g,setSnapAppliedAmount:e}:{}},K=c(77836),L=function(a){var b,c,g,n,o,p,q,r,s,t=a.orderCart,u=(0,e.Z)(m.useState(!1),2),v=u[0],w=u[1],y=(0,e.Z)(m.useState(!1),2),F=y[0],G=y[1],H=(0,e.Z)(m.useState(!1),2),I=H[0],L=H[1],M=(0,e.Z)(m.useState(),2),N=M[0],O=M[1],P=(0,e.Z)(m.useState(),2),Q=P[0],R=P[1],S=m.useContext(E.Z),T=S.supplementalPaymentDetailsList,U=S.setSupplementalPaymentDetailsList,V=(0,e.Z)(m.useState(""),2),W=V[0],X=V[1],Y=(0,K.Z)(t),Z=Y.amountList,$=Y.paymentMethodUuid,_=Y.snapMerchantId,aa=(0,B.lU)().getEbtSnapBalance,ab=J(null!==(o=null===(b=t.restaurant)||void 0===b?void 0:b.id)&&void 0!==o?o:"",t.id),ac=ab.getSnapAppliedAmount,ad=ab.setSnapAppliedAmount,ae=m.useCallback(function(a,b){return{authorizedAmount:{displayString:a,unitAmount:b},type:1,paymentMethodId:$,transactionId:W}},[$,W]),af=null==Z?void 0:Z.title,ag=null==Z?void 0:Z.description,ah=null==Z?void 0:null===(c=Z.amount)||void 0===c?void 0:c.eligibleAmount,ai=m.useCallback(function(a){var b,c,d,e=null!==(c=null==ah?void 0:ah.unitAmount)&&void 0!==c?c:0,f=null!==(d=null==a?void 0:null===(b=a.authorizedAmount)||void 0===b?void 0:b.unitAmount)&&void 0!==d?d:0;U([null!=a?a:{}]),(0,C.kK)({amountEligible:e,amountApplied:f})},[null==ah?void 0:ah.unitAmount,U]);return m.useEffect(function(){var a,b=null!==(a=null==ac?void 0:ac())&&void 0!==a?a:{};!(null==T?void 0:T.length)&&(null==b?void 0:b.authorizedAmount)&&(null==b?void 0:b.paymentMethodId)&&ai(b)},[ac,T,ai]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.ZP,{insetHorizontalSize:k.ZP.InsetSizes.None,insetSize:k.ZP.InsetSizes.XxxSmall,isSeparatorVisible:!1,iconStart:{type:l.Icon.Types.CardLine,size:j.IconButton.Sizes.Large,isInteractive:!1},title:(0,i.jsx)(l.Text,{children:af}),subtext:(0,i.jsx)(l.Text,{styles:l.Text.Styles.Medium14,color:l.Text.Colors.TextSecondary,children:ag}),iconEnd:{type:l.Icon.Types.ChevronRight,isInteractive:!1},onClick:function(){var a;(0,C.ZH)(null!==(a=null==ah?void 0:ah.unitAmount)&&void 0!==a?a:0),w(!0)}}),v&&!!ah&&!!$&&(0,i.jsx)(x,{onSuccess:function(a,b){ai(ae(a,b)),null==ad||ad(a,b,$,W),w(!1)},onClickFetchNewBalance:function(){(0,C.vE)(),G(!0)},onCancel:function(){return w(!1)},currentBalance:Q,maximumAppliableAmount:ah,snapInitialAppliedAmount:null!==(p=null==ac?void 0:null===(g=ac())||void 0===g?void 0:null===(n=g.authorizedAmount)||void 0===n?void 0:n.displayString)&&void 0!==p?p:""}),F&&!!$&&!!_&&(0,i.jsx)(A.hC,{paymentMethodUuid:$,snapMerchantId:_,entryPoint:"checkout",onCancel:function(){return G(!1)},onSuccess:(s=(0,d.Z)(h().mark(function a(b){var c,d,g,i,j,k,l,m,n,o,p,q,r;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return X(b),U(function(a){var c=(0,f.Z)(a),d=(0,e.Z)(c,1)[0];return null!=d&&(d.transactionId=b),c}),a.prev=2,a.next=5,aa($,_);case 5:d=null==(c=a.sent.data)?void 0:c.getEbtSnapBalance,G(!1),d&&R({displayString:null!==(g=d.displayString)&&void 0!==g?g:"",unitAmount:null!==(i=d.unitAmount)&&void 0!==i?i:null,sign:!1,decimalPlaces:null!==(j=d.decimalPlaces)&&void 0!==j?j:2,currency:null!==(k=d.currency)&&void 0!==k?k:"USD"}),a.next=17;break;case 11:a.prev=11,a.t0=a.catch(2),w(!1),(l=null===a.t0||void 0===a.t0?void 0:a.t0.graphQLErrors)&&l.length>0&&(q=null===(m=l[0])||void 0===m?void 0:null===(n=m.extensions)||void 0===n?void 0:null===(o=n.responseData)||void 0===o?void 0:o.error_code,r=null===(p=l[0])||void 0===p?void 0:p.message,O({code:q,message:r}),L(!0)),G(!1);case 17:case"end":return a.stop()}},a,null,[[2,11]])})),function(a){return s.apply(this,arguments)})}),I&&(0,i.jsx)(z,{errorType:null!==(q=null==N?void 0:N.code)&&void 0!==q?q:"",errorMessage:null!==(r=null==N?void 0:N.message)&&void 0!==r?r:D.default.t("paymentMethodStrings_snapebt_errors_defaultErrorMessage"),onClose:function(){return L(!1)},primaryAction:{text:D.default.t("paymentMethodStrings_snapebt_tryAgain"),onClick:function(){L(!1),w(!0)}},secondaryAction:{text:D.default.t("paymentMethodStrings_snapebt_returnToCart"),onClick:function(){L(!1)}}})]})}},49783:function(a,b,c){c.d(b,{K:function(){return e}});var d=c(24401),e=function(a,b){var c,e=(0,d.ZP)(d.P$.enableSnapEbt),f=null==a?void 0:a.find(function(a){return"EBT"===a.type}),g=null==(c=b)?void 0:c.find(function(a){var b,c,d;return(null==a?void 0:null===(b=a.amount)||void 0===b?void 0:b.type)===1&&!!(null==a?void 0:null===(c=a.amount)||void 0===c?void 0:null===(d=c.eligibleAmount)||void 0===d?void 0:d.unitAmount)});return e&&!!f&&!!g}},77836:function(a,b,c){var d=c(48608),e=function(a){var b,c,e,f=null===(b=(0,d.Ni)().data.paymentCards.find(function(a){return a.type===d.Oh.EBT}))||void 0===b?void 0:b.paymentMethodUuid,g=a&&(null==a?void 0:null===(c=a.supplementalPaymentEligibleAmountsList)||void 0===c?void 0:c[0]),h=null==a?void 0:null===(e=a.restaurant)||void 0===e?void 0:e.snapMerchantId;return{amountList:g,paymentMethodUuid:f,snapMerchantId:h}};b.Z=e},67977:function(a,b,c){c.d(b,{Z:function(){return Q}});var d=c(85893),e=c(67294),f=c(33016),g=c(10071),h=c(2886),i=c(11459),j=c(23685),k=c(3532),l=c(48974),m=c(65999),n=c(30778),o=c(97800),p=c(87620),q=c(26961),r=c(32145),s=c(93942),t=c(96303),u=c(9718),v=c(87708),w=c(31891),x=c(80163),y=c(85082),z=c(89728),A=c(67378),B=c(69964),C=function(a){var b,c,e,f,g,h=a.entrypoint,i=a.consumer,j=a.orderCart,k=a.consumerStripeKey,l=a.refetch,m=a.setShowPaymentModal,n=a.consumerPaymentCards,o=a.resetPaymentErrorMsg,p=void 0===o?function(){}:o,q=!!j.isDigitalWalletAllowed,r=(0,z.v)(q),s=(0,B.s7)(null!==(e=null==j?void 0:null===(b=j.restaurant)||void 0===b?void 0:b.address)&&void 0!==e?e:null),t=(0,B.Iu)({storeAddress:null!==(f=null==j?void 0:null===(c=j.restaurant)||void 0===c?void 0:c.address)&&void 0!==f?f:null,defaultAddress:null!==(g=null==i?void 0:i.defaultAddress)&&void 0!==g?g:null,paymentConfig:s}),u=(0,B.Ub)();return(0,d.jsx)(y.Z,{entryPoint:h,hasActiveSubscription:(0,A.xC)((0,A.wW)(i)),isSubscriptionPartnerPlan:(0,A.$c)((0,A.ex)(i)),paymentConfig:s,isPaypalCountrySupported:t,cardErrorMap:u,refetchQueries:["partnerPlanBenefitValidation"],consumerStripeKey:k,consumerPaymentCards:n,onClose:function(){p(),m(!1),l()},supportedAddablePaymentMethods:r})},D=c(87264),E=c(53259),F=c(70523),G=function(a){var b=a.hasDefaultCard,c=a.submitOrderCartErrorMsg,i=a.isApplePaySelected,j=(0,e.useContext)(D.ZP),l=j.total,o=j.totalWithTipBeforeCredits,y=j.tips,z=j.defaultPaymentMethod,A=j.isUsingPayPal,B=j.isUsingVenmo,G=(0,r.Z)().redesignedMWebCheckout,H=(0,e.useContext)(x.iB),I=H.orderCart,J=H.consumerStripeKey,K=H.consumerPaymentCards,L=H.refetch,M=(0,e.useContext)(h.Uu).consumer,N=(0,e.useContext)(w.ZP),O=N.resetPaymentErrorMsg,P=N.paymentErrorType,Q=(0,u.V)(),R=(0,e.useState)(!b&&G),S=R[0],T=R[1],U=(0,t.x7)({paymentMethod:z,isCheckout:!0}),V=new E.ZP(I),W=V.companyPayTotal(null==y?void 0:y.map(function(a){return a.value})),X=V.consumerCredits(),Y=(0,n.D2)({totalWithTipBeforeCredits:o,companyPay:W,accountCredits:X}),Z=Y&&0!==l?m.Z.orderCart.addPaymentCardToCoverTotalCallout():m.Z.orderCart.noPaymentCardsCallout(),$=e.useMemo(function(){return U?{entrypoint:s.CZ.CHECKOUTSIDEBAR_CX_GUIDED_RECOVERY,displayedErrorMessage:U,primaryAction:{onClick:function(){(0,k.ZP)("payment_method_unavailable_warning_click"),T(!0)},content:m.Z.change()}}:b?Q&&"declined"===P?{entrypoint:s.CZ.CHECKOUTSIDEBAR_PM_DECLINED,displayedErrorMessage:c,primaryAction:{onClick:function(){(0,k.ZP)("payment_method_unavailable_warning_click"),T(!0)},content:m.Z.change()}}:{displayedErrorMessage:c}:{entrypoint:s.CZ.CHECKOUTSIDEBAR_PM_MISSING,displayedErrorMessage:Z,primaryAction:{onClick:function(){(0,k.ZP)("payment_method_unavailable_warning_click"),T(!0)},content:q.h.add()}}},[U,b,Z,c,Q,P,T,]),_=$.entrypoint,aa=$.displayedErrorMessage,ab=$.primaryAction,ac=!c&&!_;return((0,p.F_)(function(){if(!ac){var a={consumerId:M.id,defaultPaymentMethod:z,isUsingPayPal:A,isUsingVenmo:B,isApplePaySelected:i};(0,F.ZP)("payment_card_banner_view",{message:Z},a)}},[ac,z,A,B,i,Z,]),ac)?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.ZP,{primaryAction:ab,body:(0,d.jsx)(v.I,{error:aa,children:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium14,color:g.Text.Colors.TextSecondary,children:aa})}),variant:f.ZP.Variants.Warning}),S&&(0,d.jsx)(C,{entrypoint:_,refetch:L,consumerPaymentCards:K,consumerStripeKey:J,consumer:M,orderCart:I,setShowPaymentModal:T,resetPaymentErrorMsg:G?void 0:O})]})},H=c(82976),I=c(99850),J=c(20290),K=c(63305),L=c(4831),M=c(21743),N=c(1785),O=c(41264),P=c(20306),Q=function(a){var b,c=a.deliveryTime,p=a.isPickupOrder,q=a.isGiftRecipientScheduling,r=void 0!==q&&q,s=a.hasDefaultCard,t=a.isApplePaySelected,u=a.submitOrderCartErrorMsg,v=a.checkoutMode,w=(0,e.useState)(!1),y=w[0],z=w[1],A=(0,o.ZP)(),B=A.setSelectedDeliveryOption,C=A.setDeliveryOptionInfo,D=(0,e.useContext)(h.Uu).consumer,E=(0,e.useState)(!1),F=E[0],Q=E[1],R=e.useContext(x.iB).orderCart,S=(0,P.Z)().isAddressLabelEnabled,T=p?m.Z.pickup():m.Z.delivery(),U=!(null==D?void 0:D.defaultAddress),V=null==D?void 0:D.isGuest,W=(0,O.ZP)("ASAP",R),X=(null===(b=W.availableDaysAndTimes)||void 0===b?void 0:b.length)===0;return(0,d.jsxs)(d.Fragment,{children:[function(){if((0,n.yB)({orderCart:R,deliveryTime:c,isPickup:p,isGiftRecipientScheduling:r,checkoutModeOptions:v})||!p&&R.isOutsideDeliveryRegion||X)return null;var a={onClick:function(){(0,k.ZP)("delivery_time_unavailable_warning_click"),z(!0)},content:j.default.t("checkoutStrings_change")};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.ZP,{body:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium14,color:g.Text.Colors.TextSecondary,children:m.Z.orderCart.timeAvailableCallout(T)}),variant:f.ZP.Variants.Warning,primaryAction:a}),y?(0,d.jsx)(l.Z,{onClose:function(){z(!1)},onTimeSelect:function(a){z(!1),B("ASAP"===a?i.n5.STANDARD:i.n5.SCHEDULE),C((0,N.x)(R,{contextDeliveryTime:a,contextSelectedDeliveryOption:i.n5.STANDARD}))},openModal:function(){z(!0)}}):null]})}(),function(){if(R.isMerchantShipping&&U)return V?null:(0,d.jsx)(J.Rv,{});var a,b,e,h,i=(0,n.F0)(R,c,p,r,v);if(i||!R.isOutsideDeliveryRegion||p)return null;var l={message:m.Z.orderCart.addressDeliveryArea(),is_within_delivery_region:i,is_pickup:p,asap_time_range_min:null!==(e=null===(a=(0,L.lb)(null==R?void 0:R.asapTimeRange))||void 0===a?void 0:a.minTime)&&void 0!==e?e:null,asap_time_range_max:null!==(h=null===(b=(0,L.lb)(null==R?void 0:R.asapTimeRange))||void 0===b?void 0:b.maxTime)&&void 0!==h?h:null,is_asap_available:(0,M.Yr)(R)};(0,K.Z)("delivery_unavailable_alert_view",l,void 0,R.id);var o={onClick:function(){(0,k.ZP)("delivery_unavailable_warning_click",l),Q(!0)},content:j.default.t("checkoutStrings_change")},q=function(){return Q(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.ZP,{body:(0,d.jsx)(g.Text,{styles:g.Text.Styles.Medium14,color:g.Text.Colors.TextSecondary,children:m.Z.orderCart.addressDeliveryArea()}),variant:f.ZP.Variants.Warning,primaryAction:o}),F&&(0,d.jsx)(H.Z,{addressEntryPoint:"CartWarningBanners/AddressModals",refetchQueries:["checkout"],isStaticPositionSuggestions:!0,onClose:q,onChange:q,renderFooterActions:function(){return(0,d.jsx)(I.Z,{footerButtonText:j.default.t("checkoutStrings_phonePanel_modal_continue"),onClick:q})},customizations:S?{renderAutocompleteSuggestionsInAnchoredLayer:!0,hideAutoCompleteLabel:!0}:void 0})]})}(),(0,d.jsx)(G,{hasDefaultCard:s,submitOrderCartErrorMsg:u,isApplePaySelected:t})]})}},15117:function(a,b,c){c.d(b,{x7:function(){return D},Ry:function(){return z},DW:function(){return E},qC:function(){return F},"a$":function(){return G}});var d,e,f=c(10253),g=c(85893),h=c(67294),i=c(33016),j=c(10071),k=c(5152),l=c.n(k),m=c(11459),n=c(89261),o=c(2886),p=c(3532);(e=d||(d={})).CHECKOUT_BANNER_SEEN="checkout_banner_seen",e.CHECKOUT_BANNER_TAPPED="checkout_banner_tapped",e.EDUCATION_MODAL_SHOWN="education_modal_shown";var q=function(a,b){(0,p.ZP)("w_risk_proof_of_delivery",{action_type:a,proof_type:b})},r=l()(function(){return Promise.all([c.e(33750),c.e(62770),c.e(44812),c.e(87224)]).then(c.t.bind(c,44812,23)).then(function(a){return a.SignatureRequiredEducationModal})},{loadableGenerated:{webpack:function(){return[44812]}},ssr:!1}),s=function(a){var b=a.proofOfDeliveryType,c=a.show,e=a.onClose,i=(0,n.XR)(),j=(0,f.Z)(h.useState(!1),2),k=j[0],l=j[1],p=h.useContext(o.Uu).consumer.id;h.useEffect(function(){var a,c,d=(a=b,c=null!=p?p:"","".concat(c,"_").concat(a,"_EDUCATION_MODAL"));i.get(d)||(l(!0),i.set(d,"true"))},[b,i,p]),h.useEffect(function(){(k||c)&&q(d.EDUCATION_MODAL_SHOWN,b)},[k,c,b]);var s=function(){l(!1),e()};return(c||k)&&b===m.VC.SIGNATURE?(0,g.jsx)(r,{onClose:s}):null},t=c(7297),u=c(87379);function v(){var a=(0,t.Z)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return v=function(){return a},a}var w=u.default.span.withConfig({componentId:"sc-dc7d8b16-0"})(v()),x=c(65999),y=x.Z.signatureRequiredBanner,z=function(a){var b=a.proofOfDeliveryType,c=(0,f.Z)(h.useState(!1),2),e=c[0],k=c[1];h.useEffect(function(){q(d.CHECKOUT_BANNER_SEEN,b)},[b]);var l=function(){k(!1)},m=function(){k(!0),q(d.CHECKOUT_BANNER_TAPPED,b)},n=(0,g.jsx)(j.InlineChildren,{children:(0,g.jsxs)(j.Text,{color:j.Text.Colors.BannerInformationalEmphasisForeground,styles:j.Text.Styles.BannerBody,children:[y.details(),"\xa0",(0,g.jsx)(w,{onClick:m,children:y.learnMore()})]})});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Stack,{size:j.Stack.Sizes.Small}),(0,g.jsx)(i.ZP,{body:n,type:i.ZP.Types.Emphasis,variant:i.ZP.Variants.Informational,iconType:j.Icon.Types.PersonUserFill}),(0,g.jsx)(s,{show:e,onClose:l,proofOfDeliveryType:b})]})};function A(){var a=(0,t.Z)(["\n  border-radius: ","px;\n  padding: ","px;\n  background: ",";\n"]);return A=function(){return a},a}var B=u.default.div.withConfig({componentId:"sc-64f67c5d-0"})(A(),j.Spacing.XxSmall,j.Spacing.Small,j.Colors.BannerHighlightBackground),C=x.Z.signatureRequiredDropOffAdvisoryBanner,D=function(){return(0,g.jsxs)(B,{children:[(0,g.jsx)(j.Text,{styles:j.Text.Styles.Body2Emphasis,color:j.Text.Colors.TextPrimary,children:C.title()}),(0,g.jsx)(j.Text,{color:j.Text.Colors.BannerHighlightForeground,styles:j.Text.Styles.Body2,children:C.details()})]})},E=function(a){if(!a||0===a.length)return m.VC.NONE;var b,c=a.find(function(a){return"1"===a.id});return null!==(b=null==c?void 0:c.proofOfDeliveryType)&&void 0!==b?b:m.VC.NONE},F=function(a){return a===m.VC.SIGNATURE},G=function(a,b){var c,d,e=E(a);if(!F(e))return!1;var f=null==b?void 0:null===(c=b.dropoffPreferences)||void 0===c?void 0:null===(d=c.allPreferences)||void 0===d?void 0:d.find(function(a){return a.isDefault});return(null==f?void 0:f.optionId)!=="1"}},18059:function(a,b,c){var d=c(85893);c(67294);var e=c(10071),f=c(5732),g=c(4831),h=c(4806),i=c(39534),j=function(a){var b=a.giftOptions,c=b.shouldDoordashTextRecipient||b.shouldDasherContactRecipient,j=!!b.recipientEmail;return(0,d.jsx)(h.g$,{"data-testid":i.n.giftOptionPanel.recipientInfo,children:(0,d.jsxs)(e.StackChildren,{size:e.StackChildren.Sizes.XxxSmall/2,children:[(0,d.jsx)(e.Text,{"data-testid":i.n.giftOptionPanel.name,weight:e.Text.Weights.Bold,overflow:e.Text.Overflows.Truncate,maxLines:2,children:(0,f.cj)(b)}),(0,d.jsx)(h.BG,{"data-testid":i.n.giftOptionPanel.phone,children:c&&b.recipientPhone&&(0,g.qQ)(b.recipientCountryCode,b.recipientPhone)}),j&&(0,d.jsx)(h.BG,{"data-testid":i.n.giftOptionPanel.email,children:b.recipientEmail})]})})};b.Z=j},4806:function(a,b,c){c.d(b,{BG:function(){return z},DA:function(){return v},DU:function(){return y},Lj:function(){return A},Nj:function(){return s},No:function(){return t},TC:function(){return w},"g$":function(){return u},ry:function(){return x}});var d=c(7297),e=c(87379),f=c(10071),g=c(31280),h=c(24906),i=c(73958);function j(){var a=(0,d.Z)(["\n  width: ","px;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)([""]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  align-self: center;\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)([""]);return m=function(){return a},a}function n(){var a=(0,d.Z)([""]);return n=function(){return a},a}function o(){var a=(0,d.Z)(["\n  width: fit-content;\n"]);return o=function(){return a},a}function p(){var a=(0,d.Z)(["\n  path {\n    transition: fill 0.15s ease-in-out;\n  }\n  &:hover path {\n    fill: currentColor;\n  }\n"]);return p=function(){return a},a}function q(){var a=(0,d.Z)([""]);return q=function(){return a},a}function r(){var a=(0,d.Z)([""]);return r=function(){return a},a}var s=e.default.img.withConfig({componentId:"sc-d71559d0-0"})(j(),2*f.Spacing.XxxLarge),t=(0,e.default)(f.Text).attrs(function(){return{color:f.Text.Colors.TextSecondary,maxLines:3,overflow:f.Text.Overflows.Truncate}}).withConfig({componentId:"sc-d71559d0-1"})(k()),u=e.default.div.withConfig({componentId:"sc-d71559d0-2"})(l()),v=(0,e.default)(g.ZP).attrs(function(){return{size:g.ZP.Sizes.Small,iconStart:{isInteractive:!1,type:g.ZP.IconTypes.GiftLine,size:h.IconButton.Sizes.Large}}}).withConfig({componentId:"sc-d71559d0-3"})(m()),w=(0,e.default)(h.default).attrs(function(){return{size:h.default.Sizes.Small,type:h.default.Types.Tertiary,isInline:!0}}).withConfig({componentId:"sc-d71559d0-4"})(n()),x=e.default.div.withConfig({componentId:"sc-d71559d0-5"})(o()),y=e.default.div.withConfig({componentId:"sc-d71559d0-6"})(p()),z=(0,e.default)(f.Text).attrs(function(){return{weight:f.Text.Weights.Medium,color:f.Text.Colors.TextSecondary}}).withConfig({componentId:"sc-d71559d0-7"})(q()),A=(0,f.withTheming)((0,e.default)(i.Z).attrs(function(){return{size:60,mobileSize:60}}).withConfig({componentId:"sc-d71559d0-8"})(r()))},54627:function(a,b,c){c.d(b,{Z:function(){return ah}});var d,e,f=c(26042),g=c(69396),h=c(10253),i=c(85893),j=c(67294),k=c(1968),l=c(10071),m=c(7297),n=c(87379);function o(){var a=(0,m.Z)(["\n  margin: 0 auto;\n  width: ","px;\n"]);return o=function(){return a},a}function p(){var a=(0,m.Z)(["\n  text-align: center;\n"]);return p=function(){return a},a}(q=d||(d={}))[q.NON_MOBILE=l.Breakpoints.Mobile/1.25]="NON_MOBILE",q[q.MOBILE=l.Breakpoints.Mobile/2]="MOBILE";var q,r,s=(0,n.default)(l.Text).attrs(function(){return{styles:l.Text.Styles.Medium18}}).withConfig({componentId:"sc-7955e57b-0"})(o(),function(a){return a.isMobile?d.MOBILE:d.NON_MOBILE}),t=n.default.div.withConfig({componentId:"sc-7955e57b-1"})(p()),u=c(45481),v=c(53698),w=c(16759),x=c(23685),y=c(24906),z=c(7730),A=z.l.walkThroughModal,B=function(a){var b=a.isDisabled,c=a.onClick;return(0,i.jsx)(y.IconButton,{type:y.IconButton.Types.TertiaryPill,iconType:y.IconButton.IconTypes.ChevronLeft,size:y.default.Sizes.Medium,onClick:c,isDisabled:b,accessibilityLabel:A.backButton()})},C=function(a){var b=a.isDisabled,c=a.onClick;return(0,i.jsx)(y.IconButton,{type:y.IconButton.Types.TertiaryPill,iconType:y.IconButton.IconTypes.ChevronRight,size:y.default.Sizes.Medium,onClick:c,isDisabled:b,accessibilityLabel:A.forwardButton()})},D=c(11698),E=c(88660),F=c(61628),G=function(a){var b=a.imageName,c=a.experience,d=a.assetLanguage,e=(0,F.Vh)({experience:c,assetLanguage:d,fileName:b}),f=document.createElement("img"),g=(0,u.O1)(e);return f.src=g,(0,i.jsx)(E.Z,{url:e,desktopCssWidth:25*l.Spacing.Large+"px",tabletCssWidth:8*l.Spacing.Large+"px",mobileCssWidth:4*l.Spacing.Large+"px"})},H=function(a){var b=a.text,c=a.image;return(0,i.jsxs)(l.StackChildren,{children:[(0,i.jsx)(D.ZP,{children:function(a,c){var d=c.isMobile;return(0,i.jsx)(s,{isMobile:d,children:b})}}),c]})},I=c(12414);(r=e||(e={})).CHANGE_ADDRESS="homepage.png",r.ADD_RECIPIENT_DETAILS="place_order.png",r.SHARE_LINK="share_gift.png";var J=z.l.walkThroughModal,K=function(a,b){var c={text:J.firstSlide.subtext(),image:G({experience:b,assetLanguage:a,imageName:e.CHANGE_ADDRESS})},d={text:J.secondSlide.subtext(),image:G({experience:b,assetLanguage:a,imageName:e.ADD_RECIPIENT_DETAILS})},f={text:J.thirdSlide.subtext(),image:G({experience:b,assetLanguage:a,imageName:e.SHARE_LINK})};return[c,d,f]},L=function(){var a=(0,v.Z)().experience,b=x.default.getCurrentLocale(),c=(0,h.Z)(j.useState(0),2),d=c[0],e=c[1],f=function(){return e(d-1)},g=function(){return e(d+1)},k=(0,I.xO)(b),m=K(k,a),n=m[d];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.InlineChildren,{alignItems:l.InlineChildren.Alignment.Center,justifyContent:l.InlineChildren.Justification.Center,children:[(0,i.jsx)(B,{isDisabled:0===d,onClick:f}),(0,i.jsx)(H,{text:n.text,image:n.image}),(0,i.jsx)(C,{isDisabled:d===m.length-1,onClick:g})]}),(0,i.jsx)(w.ZP,{onSelect:function(a){return e(a)},size:w.ZP.Sizes.Small,color:w.ZP.Colors.Red,selectedIndex:d,count:m.length,accessibilityLabel:J.paginationAccessibility(),indicatorAccessibilityLabelPrefix:J.paginationAccessibility()})]})},M=z.l.walkThroughModal,N=function(){return(0,i.jsx)("img",{src:(0,u.O1)("https://cdn.doordash.com/media/consumer/gifting/howto_gift_header.svg"),alt:M.headerAccessibility()})},O=function(a){var b=a.closeModal;return(0,i.jsx)(k.Modal,{headerAlignment:k.Modal.HeaderAlignment.Center,onClose:b,size:k.Modal.Sizes.XLarge,shouldCloseOnOverlayClick:!1,title:M.title(),headerImage:(0,i.jsx)(N,{}),children:(0,i.jsx)(t,{children:(0,i.jsx)(l.StackChildren,{size:l.StackChildren.Sizes.Medium,children:(0,i.jsx)(L,{})})})})},P=c(80163),Q=c(12390),R=c(31280),S=c(4806),T=function(a){var b=a.onClick;return(0,i.jsx)(S.ry,{role:"button",onClick:b,children:(0,i.jsx)(S.DU,{children:(0,i.jsxs)(l.InlineChildren,{size:l.InlineChildren.Sizes.XxxSmall,alignItems:l.InlineChildren.Alignment.Center,children:[(0,i.jsx)(l.Text,{styles:l.Text.Styles.Medium14,color:l.Text.Colors.TextSecondary,children:z.l.learnMore()}),(0,i.jsx)(l.Icon,{type:l.Icon.Types.InfoCircleLine,size:l.Icon.Sizes.Small})]})})})},U=c(11890),V=c(18059),W=c(51667),X=c(2886),Y=function(a){var b=a.giftOptions,c=(0,X.RN)().consumer.id,d=(0,W.C)({cardId:null==b?void 0:b.cardId,consumerId:c,shouldSkipQuery:!b||!c}),e=d.card,f=d.loading,g=null==e?void 0:e.assets.staticAssetUrl;return f?(0,i.jsx)(U.default,{}):(0,i.jsxs)(l.StackChildren,{size:l.StackChildren.Sizes.XSmall,children:[(0,i.jsxs)(l.InlineChildren,{align:l.InlineChildren.Alignment.FlexStart,children:[!!g&&(0,i.jsx)(S.Nj,{src:g}),!!b&&(0,i.jsx)(V.Z,{giftOptions:b})]}),(null==b?void 0:b.cardMessage)&&(0,i.jsx)(S.No,{children:b.cardMessage})]})},Z=function(a){var b=a.giftOptions,c=a.openMealGiftingWizard,d=a.showRemovalConfirmation,e=a.showWalkthroughModal,f=a.orderCart,g=a.isSeparatorVisible,h=void 0!==g&&g;return b?(0,i.jsx)(S.DA,{"data-testid":"giftListCell",title:(0,i.jsx)(Y,{giftOptions:b}),renderAfterContent:function(){return(0,i.jsxs)(l.InlineChildren,{size:l.InlineChildren.Sizes.XxSmall,children:[(0,i.jsx)(S.TC,{onClick:c,children:z.l.editGiftDetails()}),(0,i.jsx)(S.TC,{onClick:d,children:z.l.removeGiftDetails()})]})},isSeparatorVisible:h}):(0,i.jsx)(S.DA,{"data-testid":"giftListCell",iconEnd:{isInteractive:!1,type:R.ZP.IconTypes.ChevronRight,size:y.IconButton.Sizes.Large},title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:z.l.sendOrderAsGift()}),(0,i.jsx)(T,{onClick:function(a){a.stopPropagation(),e()}})]}),onClick:function(){c(),(0,Q.IV)(f,Q.ln.Checkout)},isSeparatorVisible:h})},$=c(14886),_=c(57457),aa=c(75815),ab=c(87264),ac=c(42485),ad=c(22453),ae=c(33031),af=c(44262),ag=c(12807),ah=function(){var a=j.useContext(ab.ZP),b=a.giftOptions,c=a.setGiftOptions,d=a.set,e=(0,h.Z)(j.useState({currentSlide:0}),2),l=e[0],m=e[1],n=(0,h.Z)(j.useState({selectedCardPage:0,lastViewedPage:0}),2),o=n[0],p=n[1],q=j.useContext(P.iB).orderCart,r=(0,I.qT)(),s=!!q.isMerchantShipping,t=(0,ae.E)(q),u=(0,ac.Z)((0,f.Z)({cartId:q.id,isMerchantShipping:s},s?{}:{refetchQueries:["checkout"]})),v=function(){c(null);var a,b=null===(a=q.domain)||void 0===a?void 0:a.giftInfo;b&&u().catch(function(a){return(0,ad.gs)({giftOptions:b,message:a,entryPoint:ad.JE.GIFT_OPTION_PANEL_V2})})},w=(0,h.Z)(j.useState(!1),2),x=w[0],y=w[1],A=function(){return y(!0)},B=function(){return y(!1)},C=(0,h.Z)(j.useState(!1),2),D=C[0],E=C[1],F=function(a){m({currentSlide:a}),E(!0)},G=function(){if(L){M();return}F(0)},H=function(){return E(!1)},J=(0,ag.I)(q,function(){return F(0)}),K=J.renderBlockGiftingModal,L=J.shouldShowBlockGiftingModal,M=J.showBlockGiftingModal,N=(0,h.Z)(j.useState(!1),2),R=N[0],S=N[1],T=function(){S(!0)},U=function(){S(!1)},V=(0,h.Z)(j.useState(!1),2),W=V[0],X=V[1],Y=function(){X(!1),E(!0)};if(j.useEffect(function(){x&&(0,Q.DP)(q)},[x,q]),!t)return null;var ah={closeWizard:H,carouselState:o,setCarouselState:p,wizardState:l,setWizardState:m},ai=q.id,aj=q.restaurant,ak=q.containsAlcohol,al=r||s?(0,i.jsx)(af.Z,(0,g.Z)((0,f.Z)({},ah),{orderCartInfo:{id:ai,restaurant:aj,isMerchantShipping:s,containsAlcohol:ak}})):(0,i.jsx)($.Z,(0,f.Z)({},ah)),am=function(a){return d("recipientShippingDetails",a)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{giftOptions:b,showRemovalConfirmation:A,openMealGiftingWizard:G,showWalkthroughModal:T,orderCart:q}),(0,i.jsxs)(aa.kH,{setGiftOptions:c,savedGiftOptions:b,isMerchantShipping:s,setRecipientShippingDetails:am,children:[D&&al,W&&(0,i.jsx)(_.Z,{closeModal:Y})]}),R&&(0,i.jsx)(O,{closeModal:U}),x&&(0,i.jsx)(k.Confirm,{dismissText:z.l.confirmationModal.goBack(),onDismiss:B,confirmText:z.l.confirmationModal.confirm(),onConfirm:function(){v(),B(),(0,Q.JR)(q,Q.ln.Checkout)},title:z.l.giftRemoval.confirm(),subtitle:z.l.giftRemoval.subtext()}),K()]})}},57457:function(a,b,c){c.d(b,{Z:function(){return A}});var d=c(85893);c(67294);var e=c(1968),f=c(10071),g=c(7730),h=c(24906),i=c(7297),j=c(87379);function k(){var a=(0,i.Z)(["\n  align-self: flex-end;\n"]);return k=function(){return a},a}function l(){var a=(0,i.Z)(["\n  height: auto;\n"]);return l=function(){return a},a}function m(){var a=(0,i.Z)(["\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n"]);return m=function(){return a},a}function n(){var a=(0,i.Z)(["\n  margin-bottom: ","px;\n"]);return n=function(){return a},a}function o(){var a=(0,i.Z)(["\n  background-color: ",";\n  border-radius: ","px;\n  max-width: 90%;\n  width: 300px;\n  padding: ","px ","px;\n  position: relative;\n  /*  depends on caret height */\n  margin-bottom: ","px;\n  &:before {\n    /* caret element */\n    content: '';\n    display: block;\n    position: absolute;\n    border: ","px solid transparent;\n    border-top: ","px solid ",";\n    border-bottom: 0;\n    border-top-width: ","px;\n    height: 0;\n    width: 0;\n    left: 20px;\n    bottom: -","px;\n    transform: rotate(90deg) skew(-25deg);\n  }\n"]);return o=function(){return a},a}var p=(0,j.default)(h.default).attrs(function(){return{size:h.default.Sizes.Medium,type:h.default.Types.PrimaryPill,isInline:!0}}).withConfig({componentId:"sc-c3504af8-0"})(k()),q=(0,j.default)(f.StackChildren).attrs(function(){return{size:f.StackChildren.Sizes.Medium}}).withConfig({componentId:"sc-c3504af8-1"})(l()),r=j.default.div.withConfig({componentId:"sc-c3504af8-2"})(m()),s=(0,j.default)(f.Text).attrs(function(){return{styles:f.Text.Styles.Bold16,color:f.Text.Colors.TextPrimary}}).withConfig({componentId:"sc-c3504af8-3"})(n(),f.Spacing.XxSmall),t=f.Colors.SystemBlue60,u=(0,j.default)(f.Text).attrs(function(){return{color:f.Text.Colors.TextPrimaryOnDark}}).withConfig({componentId:"sc-c3504af8-4"})(o(),t,f.BorderRadius.Large,f.Spacing.XxSmall,f.Spacing.Small,18.75,12.5,12.5,t,25,12.5),v=c(53698),w=c(75815),x=c(5732),y=g.l.textPreviewModal,z=function(a){var b=a.onClick;return(0,d.jsx)(h.IconButton,{size:h.IconButton.Sizes.Medium,accessibilityLabel:y.backButton(),iconType:f.Icon.Types.ArrowLeft,onClick:b})},A=function(a){var b=a.closeModal,c=(0,v.Z)().experience,g=(0,w.wD)().giftOptions,h=g.senderName,i=!!g.cardId,j=!!g.cardMessage;return(0,d.jsx)(e.Modal,{headerAlignment:e.Modal.HeaderAlignment.Left,onClose:b,size:e.Modal.Sizes.Medium,shouldCloseOnOverlayClick:!1,hasCloseButton:!1,actionsFillContainer:!1,title:y.title(),renderContentHeader:function(a){var c=a.title;return(0,d.jsxs)(f.Inset,{children:[(0,d.jsx)(z,{onClick:b}),(0,d.jsx)(f.Text,{styles:f.Text.Styles.Bold32,children:c})]})},renderFooterContent:function(){return(0,d.jsx)(f.InlineChildren,{justifyContent:f.InlineChildren.Justification.FlexEnd,children:(0,d.jsx)(p,{onClick:b,children:y.continueButton()})})},children:(0,d.jsxs)(q,{children:[(0,d.jsx)(f.Text,{styles:f.Text.Styles.Regular16,color:f.Text.Colors.TextTertiary,children:y.subtitle((0,x.cj)(g))}),(0,d.jsxs)(r,{children:[(0,d.jsx)(s,{children:y.textMessage()}),(0,d.jsx)(u,{children:y.content(null!=h?h:"",i,j,c)})]})]})})}},39534:function(a,b,c){c.d(b,{n:function(){return d}});var d={giftOptionPanel:{recipientInfo:"giftRecipientInfo",name:"giftRecipientInfo_name",phone:"giftRecipientInfo_phone",email:"giftRecipientInfo_email",launchModalBtn:"giftLaunchModalBtn"},entryPoint:{checkout:"giftEntryPointCheckout"}}},96205:function(a,b,c){var d=c(23685);b.Z={pageTitle:function(){return d.default.t("checkoutStrings_groupCartConfirmPaymentPageTitle")},pageDescription:function(){return d.default.t("checkoutStrings_groupCartConfirmPaymentPageDescription")},confirmPayment:function(){return d.default.t("checkoutStrings_groupCartConfirmPayment")},confirmPaymentDisclaimerBanner:function(a){return d.default.t("checkoutStrings_groupCart_confirmPaymentDisclaimerBanner",{cartCreatorName:a})},companyPaymentSection:{applyBudgetInfoBanner:{title:function(){return d.default.t("checkoutStrings_groupCart_confirmPayment_companyPaymentSection_applyBudgetInfoBanner_title")},body:function(){return d.default.t("checkoutStrings_groupCart_confirmPayment_companyPaymentSection_applyBudgetInfoBanner_body")}}}}},62495:function(a,b,c){c.d(b,{wQ:function(){return k},"_f":function(){return n},my:function(){return u},g4:function(){return t}});var d=c(26042),e=c(7297),f=c(93999),g=c(44119),h=c.n(g);function i(){var a=(0,e.Z)(["\n  mutation removeGroupCartParticipantsAndSendNotification($cartId: ID!) {\n    removeGroupCartParticipantsAndSendNotification(cartId: $cartId) {\n      cartId\n      success\n      notifiedCount\n    }\n  }\n"]);return i=function(){return a},a}var j=h()(i()),k=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.useMutation)(j,(0,d.Z)({awaitRefetchQueries:!0,refetchQueries:function(a){var b,c;return(null==a?void 0:null===(b=a.data)||void 0===b?void 0:null===(c=b.removeGroupCartParticipantsAndSendNotification)||void 0===c?void 0:c.success)===!0?["checkout"]:[]}},a))};function l(){var a=(0,e.Z)(["\n  mutation sendGroupCartParticipantReminderNotification($cartId: ID!) {\n    sendGroupCartParticipantReminderNotification(cartId: $cartId) {\n      cartId\n      success\n      notifiedCount\n    }\n  }\n"]);return l=function(){return a},a}var m=h()(l()),n=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.useMutation)(m,(0,d.Z)({},a))},o=c(10253),p=c(67294),q=c(29936),r=c(49724),s=c(93695),t=function(){var a=(0,o.Z)(p.useState(!1),2),b=a[0],c=a[1],d=function(){return c(!0)},e=function(){return c(!1)};return{isShowingUnconfirmedPaymentModalOverride:b,showUnconfirmedPaymentModalByOverride:d,hideUnconfirmedPaymentModalByOverride:e}},u=function(a,b){var c=(0,r.a)(b);return(0,q.eu)(b)&&(0,s.e)(b).length>0&&c&&(0,q.sn)(a||"",b)}},93695:function(a,b,c){c.d(b,{e:function(){return e}});var d=c(29936),e=function(a){if(!(0,d.eu)(a))return[];var b,c,e=null!==(c=null==a?void 0:null===(b=a.creator)||void 0===b?void 0:b.id)&&void 0!==c?c:"unknown creator id";return((null==a?void 0:a.orders)||[]).filter(Boolean).filter(function(a){var b;return(null==a?void 0:null===(b=a.consumer)||void 0===b?void 0:b.id)!==e}).filter(function(a){return!1===a.isSubCartFinalized}).map(function(a){var b,c;return null===(b=a.consumer)||void 0===b?void 0:null===(c=b.localizedNames)||void 0===c?void 0:c.formalNameAbbreviated}).filter(Boolean)}},33409:function(a,b,c){c.d(b,{p:function(){return k}});var d=c(85893),e=c(67294),f=c(10071),g=c(87708),h=c(87264),i=c(69964),j=function(a){var b=a.defaultPaymentMethodType,c=a.errorMap,e=a.insetSize,h=null==c?void 0:c[b];return h?e?(0,d.jsx)(f.Inset,{insetSize:e,children:(0,d.jsx)(g.B,{error:h})}):(0,d.jsx)(g.B,{error:h}):null},k=function(a){var b=a.insetSize,c=e.useContext(h.ZP).defaultPaymentMethod,f=(0,i.Ub)(i.he.Checkout);return(0,d.jsx)(j,{defaultPaymentMethodType:null==c?void 0:c.type,errorMap:f,insetSize:b})}},73814:function(a,b,c){var d=c(10253),e=c(85893),f=c(67294),g=c(24906),h=c(55895),i=c(31280),j=c(10071),k=c(48608),l=c(18452),m=c(16935),n=c(2886),o=c(99360),p=c(282),q=c(67378),r=c(69965),s=c(65999),t=c(87264),u=c(33409),v=c(87965),w=c(79395),x=c(76955),y=c(20030),z=c(49783),A=c(93942),B=function(a){var b=a.refetchQueries,c=a.showAddPromoCode,B=a.orderCart,C=a.isPaypalCountrySupported,D=a.consumerStripeKey,E=a.consumerPaymentCards,F=a.onEditPayment,G=a.showEditButton,H=void 0!==G&&G,I=a.isSquished,J=void 0!==I&&I,K=(0,d.Z)(f.useState(!1),2),L=K[0],M=K[1],N=(0,p.vX)(),O=(0,z.K)(E,B.supplementalPaymentEligibleAmountsList),P=f.useCallback(function(a){N&&(null==a?void 0:a.type)===m.Oh.AFTERPAY&&(null==a?void 0:a.cardBenefitMembershipLinkStatus)==="link_created"&&M(!0)},[N]);return(0,e.jsx)(n.Uu.Consumer,{children:function(a){var d=a.consumer,f=E.find(function(a){return a.isDefault}),n=(0,e.jsx)(l.Z,{entryPoint:A.CZ.CHECKOUTINFO_PAYMENTPANEL,refetchQueries:b,hasActiveSubscription:(0,q.xC)((0,q.wW)(d)),isPaypalCountrySupported:C,consumerStripeKey:D,paymentCards:E,supportedPaymentMethods:m.TM,onComplete:P});return(0,e.jsx)(t.Yy,{children:function(a){var b=a.isApplePaySelected,l=a.applePayLabel;return(0,e.jsxs)(j.StackChildren,{size:J?j.StackChildren.Sizes.XxSmall:j.StackChildren.Sizes.Small,children:[H&&(0,e.jsx)(j.Text,{styles:j.Text.Styles.Bold16,children:s.Z.paymentMethods()}),b?(0,e.jsx)(w.L,{children:(0,e.jsx)(w.R,{children:(0,e.jsx)(j.Text,{children:l})})}):f?H?(0,e.jsx)(i.ZP,{accessibilityRole:"listItem",insetSize:J?j.Inset.Sizes.None:j.Inset.Sizes.Small,onClick:F,iconEnd:{accessibilityLabel:s.Z.change(),type:i.ZP.IconTypes.ChevronRight,size:g.IconButton.Sizes.Large,isInteractive:!1},iconAlignment:i.ZP.Alignment.Center,title:(0,e.jsx)(w.L,{children:(0,e.jsx)(k.I_,{paymentCard:f})})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(w.L,{children:(0,e.jsx)(k.I_,{paymentCard:f,showSubLabel:!0})}),(0,e.jsx)(x.Vi,{})]}):D&&n,(0,e.jsx)(u.p,{}),L&&(0,e.jsx)(r.Z,{entryPoint:o.K.accountPayment,onClose:function(){return M(!1)}}),H?(0,e.jsx)(j.InlineChildren,{justifyContent:H?j.InlineChildren.Justification.FlexEnd:j.InlineChildren.Justification.FlexStart,children:c&&(0,e.jsx)(h.Z,{children:(0,e.jsx)(v.Z,{consumer:d,orderCart:B})})}):c&&(0,e.jsx)(h.Z,{children:(0,e.jsx)(v.Z,{consumer:d,orderCart:B})}),O&&(0,e.jsx)(y.Z,{orderCart:B})]})}})}})};b.Z=B},73271:function(a,b,c){var d=c(10253),e=c(85893),f=c(51139),g=c(10071),h=c(67294),i=c(65999),j=c(87264),k=c(69964),l=function(a){var b=a.menuOption,c=h.useContext(j.ZP),l=c.menuOptions,m=c.set,n=(0,k.Vt)(l,b.id),o=(0,d.Z)(h.useState(n||b.selection||!1),2),p=o[0],q=o[1],r=function(a){var c=JSON.stringify([{id:b.id,selection:a},]);m("menuOptions",c),q(a)};return(0,e.jsxs)(g.StackChildren,{children:[(0,e.jsx)(g.Text,{children:b.localizedTitle}),(0,e.jsx)(f.BJ,{accessibilityLabel:b.localizedTitle||"",selectedIndex:p?1:0,isInline:!0,onChange:function(a){return r(!!a)},options:[i.Z.no(),i.Z.yes()]})]})};b.Z=l},28051:function(a,b,c){c.d(b,{mD:function(){return g.Z},TV:function(){return i.TV},iB:function(){return e.iB},tX:function(){return j.Z},BG:function(){return i.BG},Yy:function(){return d.Yy},q3:function(){return d.ZP},"_9":function(){return u.Z},GX:function(){return v.GX},yA:function(){return x.Z},UD:function(){return m.Z},ly:function(){return t.ly},Ct:function(){return s.C},Kt:function(){return n.Z},lk:function(){return l.Z},Vw:function(){return A.Z},JY:function(){return q.JY},fB:function(){return i.fB},wF:function(){return o.Z},"$S":function(){return i.$S},mo:function(){return h.mo},xm:function(){return r.x},xS:function(){return w.x},Yr:function(){return h.Yr},lH:function(){return h.lH},u8:function(){return y.u8},ib:function(){return h.ib},tk:function(){return h.tk},co:function(){return h.co},dk:function(){return k.dk},UH:function(){return k.UH},W8:function(){return z.W},Gc:function(){return d.Gc},FL:function(){return y.ZP},s7:function(){return p.s7},Iu:function(){return p.Iu},Ub:function(){return p.Ub}});var d=c(87264),e=c(80163);c(3810);var f=c(11459);f.z5.ADDRESS_LINK_TYPE_UNSPECIFIED,f.z5.ADDRESS_LINK_TYPE_UNSPECIFIED,f.k3.GROUP_CART_TYPE_UNSPECIFIED,f.k3.GROUP_CART_TYPE_UNSPECIFIED;var g=c(32434),h=c(21743),i=c(97030),j=c(65999),k=c(11153),l=c(19705),m=c(73271),n=c(83311),o=c(80222),p=c(69964),q=c(62135),r=c(49957),s=c(35945),t=c(4738),u=c(18626),v=c(82279),w=c(1785),x=c(54627);c(7730);var y=c(97800),z=c(87742),A=c(73814)},3751:function(a,b,c){var d=c(26042),e=c(10253),f=c(85893),g=c(91152),h=c(10071),i=c(67294),j=c(3406),k=c(2886),l=c(61449),m=c(3532),n=c(95846),o=c(9633),p=c(52822),q=c(95505),r=c(53982),s=c(1100),t=function(a){var b,c,t=a.addressEntryPoint,u=a.autocompleteLabel,v=a.autocompletePlaceholder,w=a.hideAutoCompleteLabel,x=a.disableAddressValidation,y=a.refetchQueries,z=a.hideIdentityLink,A=a.hideAdjustPin,B=a.hideDropOffOptions,C=a.renderOnDarkBackground,D=a.onChange,E=a.onIdentityLinkClick,F="".concat(t,"/AddressInput"),G=(0,s.s)({addressEntryPoint:F,refetchQueries:y,onCompleted:D}),H=G.addConsumerAddress,I=G.res,J=i.useContext(k.Uu).consumer,K=(0,e.Z)(i.useState(),2),L=K[0],M=K[1],N=(0,e.Z)(i.useState(),2),O=N[0],P=N[1],Q=function(){M(void 0),P("")},R=function(){(0,q.zj)(),(0,l.Qh)(F)},S=function(a){R(),M(a)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g.default,{isVisible:I.loading,type:g.default.Types.Loading,children:(0,f.jsxs)(h.Inset,{isSquished:!0,children:[(0,f.jsx)(n.Z,{label:null!=u?u:"",isLabelHidden:w,initialInputValue:O,isStaticPositionSuggestions:!0,onSelect:function(a){var b;return x?(b=a,R(),H((0,d.Z)({},b)).then(function(){(0,m.ZP)(o.wd.AddressSelectionWithoutValidation,(0,d.Z)({},b)),Q()}).catch(function(){(0,m.ZP)(o.wd.SubmittedNewAddressError,(0,d.Z)({},b))})):S(a)},renderSuggestionsInAnchoredLayer:!0,placeholder:v,isRounded:!0}),!(void 0!==z&&z)&&(0,f.jsx)(j.Jk,{isGuest:J.isGuest,handleIdentityLinkClick:E,entry:j.KP.APP,isDarkBackground:void 0!==C&&C,isAddressLabelEnabled:!0})]})}),L&&!x&&(0,f.jsx)(r.Z,{addressEntryPoint:F,title:p.Z.changeAddressTitle(),address:L,dropoffOptions:J.dropoffOptions,dropoffPreferences:[],defaultAddressId:null!==(c=null===(b=J.defaultAddress)||void 0===b?void 0:b.id)&&void 0!==c?c:"",onClose:Q,customizations:{hideAdjustPin:void 0!==A&&A,hideDropOffOptions:void 0!==B&&B},refetchQueries:y})]})};b.Z=t},99850:function(a,b,c){c.d(b,{Z:function(){return n}});var d=c(85893);c(67294);var e=c(24906),f=c(10071),g=c(11698),h=c(20688),i=c(3532),j=c(7297),k=c(87379);function l(){var a=(0,j.Z)(["\n  margin: ","px;\n"]);return l=function(){return a},a}var m=(0,k.default)(f.InlineChildren).withConfig({componentId:"sc-483435f4-0"})(l(),f.Spacing.Small),n=function(a){var b=a.footerButtonText,c=a.onClick,j=a.dataAnchorId,k=void 0===j?h.ep.ContinueToStore:j,l=(0,g.ac)().isMobileTablet,n=function(){(0,i.ZP)("footer_btn_click_hide_address_modal"),c()};return(0,d.jsx)(m,{justifyContent:f.InlineChildren.Justification.FlexEnd,children:(0,d.jsx)(e.default,{"data-anchor-id":k,isInline:!l,onClick:n,children:b})})}},61090:function(a,b,c){c.d(b,{Z:function(){return p},w:function(){return o}});var d=c(85893),e=c(33078),f=c(67294),g=c(7297),h=c(10071),i=c(87379);function j(){var a=(0,g.Z)(["\n  from {\n    opacity: 0;\n    margin-left: -","px;\n  }\n  to {\n    opacity: 1;\n    margin-left: -","px;\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,g.Z)(["\n    "," ease-in 0.3s\n  "]);return k=function(){return a},a}function l(){var a=(0,g.Z)(["\n  animation: ",";\n  height: ","px;\n  width: ","px;\n  border-radius: 4px;\n  margin-left: ",";\n  overflow: hidden;\n"]);return l=function(){return a},a}var m=(0,i.keyframes)(j(),h.Spacing.XLarge,h.Spacing.Small),n=i.default.div.withConfig({componentId:"sc-588025d-0"})(l(),(0,i.css)(k(),m),60,60,function(a){return a.disableMarginLeft?"".concat(h.Spacing.XxxSmall,"px"):"-".concat(h.Spacing.Small,"px")}),o=function(a){var b,c;return{itemNameAlt:(null===(b=a.item)||void 0===b?void 0:b.name)||"",imageUrl:null===(c=a.item)||void 0===c?void 0:c.imageUrl}},p=function(a){var b=a.itemNameAlt,c=a.imageUrl,g=a.disableMarginLeft;return(0,d.jsx)(f.Fragment,{children:c&&(0,d.jsx)(n,{disableMarginLeft:g,children:(0,d.jsx)(e.Z,{baseURL:c,loading:"eager",quality:50,fixedWidths:{Mobile:60,Tablet:60,Desktop:60,WideScreen:60},height:{aspectWidth:1,aspectHeight:1},alt:b,objectFit:"cover"})})})}},54423:function(a,b,c){c.d(b,{n:function(){return n}});var d=c(7297),e=c(85893);c(67294);var f=c(10709),g=c(10071),h=c(87379),i=c(92281),j=c(846);function k(){var a=(0,d.Z)(["\n  margin-top: ","px;\n"]);return k=function(){return a},a}var l=h.default.div.withConfig({componentId:"sc-4dd57b9d-0"})(k(),g.Spacing.XxSmall),m=function(a){var b=a.badges,c=a.finalMoney;return(0,e.jsxs)("div",{children:[(0,e.jsx)(g.Text,{color:g.Text.Colors.TextHighlight,size:g.Text.Sizes.S14,weight:g.Text.Weights.Bold,"data-testid":j.D.ComplexDiscount.finalMoney,children:null==c?void 0:c.displayString}),null==b?void 0:b.map(function(a){return(0,e.jsx)(i.c2,{children:(0,e.jsx)(f.default,{text:(null==a?void 0:a.text)||"",type:Boolean(null==a?void 0:a.styleType)?null==a?void 0:a.styleType:void 0,"data-testid":j.D.ComplexDiscount.badgeText},"".concat(a.type,":").concat(null==a?void 0:a.text))},a.text)})]},a.id)},n=function(a){var b=a.discounts;return(null==b?void 0:b.length)?(0,e.jsx)(l,{children:null==b?void 0:b.map(function(a){return m(a)})}):null}},43712:function(a,b,c){var d=c(85893),e=c(67294),f=c(33016),g=c(10071),h=function(a){var b=e.useRef(null);return e.useEffect(function(){var a,c;(null===(a=b.current)||void 0===a?void 0:null===(c=a.parentElement)||void 0===c?void 0:c.style.gridColumnEnd)&&(b.current.parentElement.style.gridColumnStart="1",b.current.parentElement.style.gridColumnEnd="4")},[]),(0,d.jsx)("div",{ref:b,style:{marginTop:g.Spacing.Small},children:(0,d.jsx)(f.ZP,{variant:f.ZP.Variants.Warning,body:a.errorMessage})})};b.Z=h},41849:function(a,b,c){c.d(b,{Z:function(){return o}});var d=c(26042),e=c(10253),f=c(85893),g=c(67294),h=c(31280),i=c(10071),j=c(7297),k=c(87379);function l(){var a=(0,j.Z)(["\n  & > button {\n    background: "," !important;\n  }\n"]);return l=function(){return a},a}var m=(0,i.withTheming)(k.default.div.withConfig({componentId:"sc-d2059c2d-0"})(l(),function(a){return a.isActive?a.theme.Colors.ListCellContainerBackgroundPressed:""})),n=c(33398),o=function(a){var b=(0,e.Z)(g.useState(!1),2),c=b[0],j=b[1],k=g.useContext(i.ThemingContext);return(0,f.jsx)(n.Z,{overrides:{Colors:{ListCellContainerBackgroundPressed:k.Colors.ListCellContainerBackgroundHovered}},children:(0,f.jsx)(m,{isActive:c,onMouseDown:function(){return j(!0)},onMouseUp:function(){return j(!1)},onMouseLeave:function(){return j(!1)},children:(0,f.jsx)(h.ZP,(0,d.Z)({},a))})})}},22278:function(a,b,c){var d=c(24401),e=function(a){return(0,d.ZP)(d.P$.itemQuantityLimitStepper,{storeId:a})};b.Z=e},22279:function(a,b,c){c.d(b,{r:function(){return h}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  margin: 0 ","px ","px ","px;\n"]);return g=function(){return a},a}var h=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.ListRowSubtext,color:e.Text.Colors.TextSecondary,overflow:e.Text.Overflows.Truncate,maxLines:3}}).withConfig({componentId:"sc-5c4b8532-0"})(g(),e.Spacing.Small,e.Spacing.Small,e.Spacing.Small)},76777:function(a,b,c){c.d(b,{Z:function(){return q},u:function(){return p}});var d=c(85893),e=c(33078),f=c(67294),g=c(7297),h=c(10071),i=c(87379);function j(){var a=(0,g.Z)(["\n  from {\n    opacity: 0;\n    margin-left: -","px;\n  }\n  to {\n    opacity: 1;\n    margin-left: -","px;\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,g.Z)(["\n    "," ease-in 0.3s\n  "]);return k=function(){return a},a}function l(){var a=(0,g.Z)(["\n  animation: ",";\n  height: ","px;\n  width: ","px;\n  border-radius: ","px;\n  margin-left: ",";\n  overflow: hidden;\n"]);return l=function(){return a},a}var m=(0,i.keyframes)(j(),h.Spacing.XLarge,h.Spacing.Small),n=46/9*16,o=i.default.div.withConfig({componentId:"sc-2bcd594d-0"})(l(),(0,i.css)(k(),m),46,n,h.BorderRadius.Small,function(a){return a.disableMarginLeft?"".concat(h.Spacing.XxxSmall,"px"):"-".concat(h.Spacing.Small,"px")}),p=function(a){var b,c;return{itemNameAlt:(null===(b=a.item)||void 0===b?void 0:b.name)||"",imageUrl:null===(c=a.giftInfo)||void 0===c?void 0:c.imageUrl}},q=function(a){var b=a.itemNameAlt,c=a.imageUrl,g=a.disableMarginLeft;return(0,d.jsx)(f.Fragment,{children:c&&(0,d.jsx)(o,{disableMarginLeft:g,children:(0,d.jsx)(e.Z,{baseURL:c,loading:"eager",quality:50,fixedWidths:{Mobile:n,Tablet:n,Desktop:n,WideScreen:n},height:46,alt:b,objectFit:"contain"})})})}},99980:function(a,b,c){c.d(b,{E:function(){return r}});var d=c(85893);c(67294);var e=c(33574),f=c(99286),g=c(8461),h=c(7297),i=c(10071),j=c(87379);function k(){var a=(0,h.Z)([""]);return k=function(){return a},a}function l(){var a=(0,h.Z)([""]);return l=function(){return a},a}function m(){var a=(0,h.Z)(["\n  word-wrap: break-word;\n"]);return m=function(){return a},a}var n=(0,j.default)(i.Text).attrs(function(){return{styles:i.Text.Styles.ListRowSubtext,color:i.Text.Colors.TextPrimary,maxLines:1}}).withConfig({componentId:"sc-6f1fa75a-0"})(k()),o=(0,j.default)(i.Text).attrs(function(){return{styles:i.Text.Styles.Medium14,maxLines:2,overflow:i.Text.Overflows.Truncate}}).withConfig({componentId:"sc-6f1fa75a-1"})(l()),p=(0,j.default)(i.Text).attrs(function(){return{styles:i.Text.Styles.ListRowSubtext,color:i.Text.Colors.TextSecondary,overflow:i.Text.Overflows.Truncate,maxLines:2}}).withConfig({componentId:"sc-6f1fa75a-2"})(m()),q=c(16064),r=function(a){var b=a.orderCart,c=a.orderItem,h=c.giftInfo||{},i=h.recipientName,j=h.recipientPhone,k=h.recipientEmail;return(0,d.jsxs)(g.Sb,{children:[i&&(0,d.jsx)(n,{children:i}),(0,d.jsx)(o,{children:q.ZP.cartItemTitle((0,f.uO)({currency:b.currencyCode,priceOfTotalQuantity:c.priceOfTotalQuantity}))}),j&&(0,d.jsx)(p,{children:q.ZP.cartItemDelivery((0,e.formatPhoneNumberToInternational)(j))}),k&&(0,d.jsx)(p,{children:q.ZP.cartItemDelivery(k)})]})}},49724:function(a,b,c){c.d(b,{a:function(){return f}});var d=c(29936),e=c(24401),f=function(a){return!(0,e._k)(e.P$.ddfwWebSplitBillV2KillSwitch)&&(0,d.eu)(a)}},9135:function(a,b,c){var d=c(97449),e=c(11459),f=c(54307),g=function(a){var b,c,g=a.orderCart,h=a.orderItem,i=a.newQuantity,j=a.allowUpdateItem,k=!!g.isConvenienceCart,l=!!g.isBundle,m=h.purchaseType||e.Oz.PURCHASE_TYPE_UNSPECIFIED,n=(null==g?void 0:null===(b=g.restaurant)||void 0===b?void 0:b.id)||"",o=(0,d.cd)(h,n);return{updateCartItemApiParams:{cartId:g.id,cartItemId:h.id,itemId:(null===(c=h.item)||void 0===c?void 0:c.id)||"",quantity:(0,f.he)(m)&&i>0?1:i,storeId:o,purchaseTypeOptions:{purchaseType:m,continuousQuantity:(0,f.he)(m)?i:0,unit:h.unit}},fulfillmentContext:{shouldUpdateFulfillment:!1},returnCartFromOrderService:k||l||j}};b.Z=g},39755:function(a,b,c){c.d(b,{Aq:function(){return t},DM:function(){return s}});var d=c(47568),e=c(26042),f=c(69396),g=c(10253),h=c(7297),i=c(34051),j=c.n(i);c(85893);var k=c(93999),l=c(44119),m=c.n(l);c(67294),c(89261);var n=c(3532),o=c(2886);function p(){var a=(0,h.Z)(["\n  mutation setConsumerScheduledDeliveryTime($scheduledDeliveryTime: String!) {\n    setConsumerScheduledDeliveryTime(\n      scheduledDeliveryTime: $scheduledDeliveryTime\n    ) {\n      ...ConsumerFragment\n    }\n  }\n  ","\n"]);return p=function(){return a},a}var q=m()(p(),o.sy);function r(a,b,c){return(0,e.Z)({variables:{scheduledDeliveryTime:a},optimisticResponse:{setConsumerScheduledDeliveryTime:(0,f.Z)((0,e.Z)({},b),{scheduledDeliveryTime:a})}},c)}function s(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(null!==(b=null==a?void 0:a.indexOf("checkout"))&&void 0!==b?b:-1)>=0;(0,n.ZP)(d?"checkout_action_save_delivery_time":"scheduled_order_modal_save",c)}function t(){var a,b=(0,g.Z)((0,k.useMutation)(q),2),c=b[0],f=b[1],h=(0,o.RN)().consumer;return(0,e.Z)({setScheduledTime:(a=(0,d.Z)(j().mark(function a(b,d){return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",c(r(b,h,d)));case 1:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)})},f)}},60955:function(a,b,c){var d=c(47568),e=c(26042),f=c(69396),g=c(34051),h=c.n(g),i=c(85893),j=c(91152);c(67294);var k=c(39755),l=c(20598),m=c(41264),n=function(a){var b,c,g,n=a.cart,o=a.handlePickerClose,p=a.refetchQueries,q=void 0===p?[]:p,r=a.onTimeSelectSuccess,s=a.shouldSetConsumerTime,t=void 0!==s&&s,u=a.currentScheduledTime,v=(0,k.Aq)(),w=v.setScheduledTime,x=v.loading,y=null!==(g=null==n?void 0:null===(b=n.beExperimentFlags)||void 0===b?void 0:b.enableNewScheduleAheadUi)&&void 0!==g&&g,z=(0,m.ZP)(void 0===u?"ASAP":u,n);if((null===(c=z.availableDaysAndTimes)||void 0===c?void 0:c.length)===0)return null;var A,B=(A=(0,d.Z)(h().mark(function a(b){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=3;break}return a.next=3,w(b,{refetchQueries:q});case 3:null==r||r(b),null==o||o(),(0,k.DM)(q);case 6:case"end":return a.stop()}},a)})),function(a){return A.apply(this,arguments)});return(0,i.jsx)(j.default,{isVisible:x,type:j.default.Types.Loading,children:(0,i.jsx)(l.Z,(0,f.Z)((0,e.Z)({},z),{onTimeSelect:B,useNewTimePickerUi:y}))})};b.Z=n},20598:function(a,b,c){c.d(b,{Z:function(){return Z}});var d=c(10253),e=c(85893),f=c(67294),g=c(2963),h=c(10071),i=c(24906),j=c(51139),k=c(20688),l=c(633),m=l.Z.timePicker,n=function(a){var b=a.isScheduledSelected,c=a.onSelectAsap,d=a.onSelectScheduled;return(0,e.jsxs)(j.BJ,{accessibilityLabel:m.toggleASAP(),onChange:function(a){return 0===a?c():d()},selectedIndex:b?1:0,children:[(0,e.jsx)(i.default,{"data-anchor-id":k.Pt.scheduleToggleAsap,children:m.asSoonAsPossible()}),(0,e.jsx)(i.default,{"data-anchor-id":k.Pt.scheduleToggleLater,children:m.scheduleForLater()})]})},o=c(7297),p=c(87379);function q(){var a=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  > button {\n    width: calc(50% - ","px);\n    margin-bottom: ","px;\n  }\n"]);return q=function(){return a},a}var r=p.default.div.withConfig({componentId:"sc-24d9f42f-0"})(q(),h.Spacing.XxxxSmall,h.Spacing.XxSmall),s=c(82039),t=function(a){var b=a.scheduledTime,c=a.availableTimes,d=a.onTimeSelect;return(0,e.jsx)(r,{"aria-label":l.Z.timePicker.scheduleForLater(),role:"radiogroup",children:c.map(function(a,c){return(0,e.jsx)(i.default,{"data-anchor-id":"".concat(k.Pt.scheduleLaterTimePick,"-").concat(c),accessibilityRole:"radio",isToggleable:!0,isToggled:(0,s.bE)(a,b),onClick:function(){return d(a.timestamp)},size:i.default.Sizes.Small,type:i.default.Types.Secondary,children:a.display},a.timestamp)})})};function u(){var a=(0,o.Z)([""]);return u=function(){return a},a}function v(){var a=(0,o.Z)([""]);return v=function(){return a},a}var w=(0,p.default)(h.Text).attrs(function(){return{styles:h.Text.Styles.Medium14,color:h.Text.Colors.CurrentColor}}).withConfig({componentId:"sc-3419b8f1-0"})(u()),x=(0,p.default)(h.Text).attrs(function(){return{styles:h.Text.Styles.NavBarTitle,color:h.Text.Colors.CurrentColor}}).withConfig({componentId:"sc-3419b8f1-1"})(v()),y=l.Z.timePicker,z=function(a){var b=a.selectedDateId,c=a.availableDays,d=a.onDaySelect;return(0,e.jsx)(h.Stack,{size:h.Stack.Sizes.Large,children:(0,e.jsx)(j.BJ,{accessibilityLabel:y.dayPickerLabel(),onChange:function(a){null!==a&&d(c[a].id)},selectedIndex:c.map(function(a){return a.id}).indexOf(b),children:c.map(function(a,b){return(0,e.jsx)(i.default,{"data-anchor-id":"".concat(k.Pt.scheduleDayPicker,"-").concat(b),children:(0,e.jsxs)(h.Inset,{size:h.Inset.Sizes.XxxSmall,children:[(0,e.jsx)(w,{children:a.labelDisplay}),(0,e.jsx)(x,{children:a.numberDisplay})]})},a.id)})})})},A={timePickerMessage:"timePickerMessage",DayPickerContainer:"DayPickerContainer",TimePickerContainer:"TimePickerContainer",TimePickerDisplay:"TimePickerDisplay",TimePickerDisplayString:"TimePickerDisplayString",TimePickerModalHeader:"TimePickerModalHeader",TimePickerModalTitle:"TimePickerModalTitle",TimePickerModalSubtitle:"TimePickerModalSubtitle",TimePickerModalConfirmBtn:"TimePickerModalConfirmBtn"};function B(){var a=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  background: ",";\n  border-radius: ","px;\n  margin-bottom: ","px;\n"]);return B=function(){return a},a}function C(){var a=(0,o.Z)(["\n  padding-right: ","px;\n"]);return C=function(){return a},a}var D=(0,p.default)(h.Inset).attrs(function(){return{size:h.StackChildren.Sizes.XSmall}}).withConfig({componentId:"sc-fa0d30b5-0"})(B(),h.Colors.SystemTeal5,h.BorderRadius.Small,h.Spacing.XSmall),E=p.default.div.withConfig({componentId:"sc-fa0d30b5-1"})(C(),h.Spacing.Small),F=function(a){var b=a.text;return(0,e.jsxs)(D,{children:[(0,e.jsx)(E,{children:(0,e.jsx)(h.Icon,{type:h.Icon.Types.TimeLine,color:h.Colors.SystemTeal70})}),(0,e.jsx)("div",{children:(0,e.jsx)(h.Text,{"data-testid":A.timePickerMessage,styles:h.Text.Styles.Medium16,color:h.Text.Colors.TextPrimary,children:b})})]})};function G(){var a=(0,o.Z)(["\n  margin: ","px ","px 0 0;\n"]);return G=function(){return a},a}var H=(0,p.default)(h.Text).attrs(function(){return{styles:h.Text.Styles.SectionSubtext}}).withConfig({componentId:"sc-ac61d253-0"})(G(),h.Spacing.XxxxSmall,h.Spacing.XxSmall),I=function(a){var b=a.selectDateDescription,c=a.selectDateHeading,d=a.selectedDateId,g=a.availableDaysAndTimes,i=a.selectTimeHeading,j=a.selectTimeSubheading,k=a.isScheduledSelected,l=a.selectAsapTime,m=a.scheduledTime,o=a.selectedDayTimes,p=a.selectScheduledTime,q=a.setIsScheduledSelected,r=a.setSelectedDateId,s=a.todayDateId,u=a.showAsapToggle,v=d===s,w=u&&v;return(0,e.jsx)(f.Fragment,{children:(0,e.jsxs)(h.StackChildren,{size:h.StackChildren.Sizes.Small,children:[b&&(0,e.jsx)(F,{text:b}),(0,e.jsx)(h.InlineChildren,{size:h.InlineChildren.Sizes.XxSmall,alignItems:h.InlineChildren.Alignment.Center,children:(0,e.jsx)(h.Text,{styles:h.Text.Styles.NavBarTitle,children:c})}),(0,e.jsxs)(f.Fragment,{children:[(0,e.jsx)(z,{selectedDateId:d,availableDays:g,onDaySelect:function(a){return r(a)}}),!(!u&&v)&&(0,e.jsxs)(h.InlineChildren,{justifyContent:h.InlineChildren.Justification.SpaceBetween,alignItems:h.InlineChildren.Alignment.Center,children:[(0,e.jsx)(h.Text,{styles:h.Text.Styles.NavBarTitle,children:i}),(0,e.jsx)(H,{children:j})]}),w&&(0,e.jsx)(n,{isScheduledSelected:k,onSelectAsap:l,onSelectScheduled:function(){return q(!0)}}),!(w&&!k)&&(0,e.jsx)(t,{scheduledTime:m,availableTimes:o,onTimeSelect:p})]})]})})},J=c(31280),K=c(19843),L=c(37839),M=c(23685);function N(){var a=(0,o.Z)([""]);return N=function(){return a},a}function O(){var a=(0,o.Z)(["\n  position: -webkit-sticky;\n  position: sticky;\n  bottom: 0%;\n  width: 100%;\n  background-color: ",";\n"]);return O=function(){return a},a}function P(){var a=(0,o.Z)(["\n  max-width: 100%;\n  overflow-x: auto;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: row;\n  & > * {\n    margin: ","px;\n  }\n"]);return P=function(){return a},a}function Q(){var a=(0,o.Z)(["\n  min-height: ",'px;\n  & > button:focus {\n    // ListCell button on focus will cover up the confirm btn; effectively negating "position: sticky"\n    // so setting the z-index to 0\n    z-index: 0;\n  }\n']);return Q=function(){return a},a}function R(){var a=(0,o.Z)([""]);return R=function(){return a},a}var S=p.default.div.withConfig({componentId:"sc-d7b44efb-0"})(N());S.displayName="TimePickerV2Container";var T=(0,h.withTheming)(p.default.div.withConfig({componentId:"sc-d7b44efb-1"})(O(),function(a){return a.theme.Colors.ModalBackground}));T.displayName="TimePickerV2ButtonContainer";var U=p.default.div.withConfig({componentId:"sc-d7b44efb-2"})(P(),h.Spacing.XxxSmall);U.displayName="DayPickerContainer";var V=p.default.div.withConfig({componentId:"sc-d7b44efb-3"})(Q(),4*h.Spacing.XxxxLarge);V.displayName="TimePickerContainer";var W=p.default.div.withConfig({componentId:"sc-d7b44efb-4"})(R());W.displayName="TitleContentContainer";var X=function(a){var b=a.availableDaysAndTimes,c=a.selectedDateId,g=a.setSelectedDateId,i=a.selectedDayTimes,j=a.selectScheduledTime,l=a.selectDateDescription,m=a.scheduledTime,n=(0,d.Z)(f.useState(m),2),o=n[0],p=n[1];f.useEffect(function(){var a,d=null==b?void 0:null===(a=b[0])||void 0===a?void 0:a.id;!c&&d&&g(d)},[]),f.useEffect(function(){var a=i&&i[0]&&i[0].timestamp;a&&p(a)},[i]);var q=function(){j(o)};return(0,e.jsxs)(S,{children:[(0,e.jsxs)(W,{"data-testid":A.TimePickerModalHeader,children:[(0,e.jsx)(h.Text,{color:h.Text.Colors.TextPrimary,styles:h.Text.Styles.PageTitle2,"data-testid":A.TimePickerModalTitle,children:M.default.t("layoutStrings_timePicker_title")}),(0,e.jsx)(h.Text,{color:h.Text.Colors.TextPrimary,styles:h.Text.Styles.Label2,"data-testid":A.TimePickerModalSubtitle,children:M.default.t("layoutStrings_timePicker_subtitle")})]}),l&&(0,e.jsx)(F,{text:l}),(0,e.jsx)(U,{"data-testid":A.DayPickerContainer,children:b.map(function(a,b){return(0,e.jsx)(L.Z,{dataAnchorId:"".concat(k.Pt.scheduleDayPicker,"-").concat(b),title:a.labelDisplay,bottomText:a.shortDay,isSelected:c===a.id,onClick:function(){g(a.id)}},"".concat(a.id,"-").concat(b))})}),(0,e.jsx)(V,{"data-testid":A.TimePickerContainer,children:i.map(function(a,b){var c=a.timestamp===o;return(0,e.jsx)(J.ZP,{accessibilityRole:"radio",isToggleable:!0,isToggled:a.timestamp===m,toggledColor:J.zr.TextPrimary,title:(0,e.jsx)(h.Text,{"data-testid":A.TimePickerDisplay,color:h.Text.Colors.TextPrimary,styles:h.Text.Styles.Label1Emphasis,children:a.display}),iconStart:{isInteractive:!1,type:c?J.p0.CheckCircleFill:J.p0.RadioOffCircleLine,accessibilityLabel:c?M.default.t("layoutStrings_timePicker_scheduleTime_selected"):M.default.t("layoutStrings_timePicker_scheduleTime_scheduleTimeAvailable")},secondaryTitleEnd:a.displayString?(0,e.jsx)(h.Text,{"data-testid":A.TimePickerDisplayString,color:h.Text.Colors.TextPositive,children:a.displayString}):void 0,isSeparatorVisible:b!==i.length-1,onClick:function(){return p(a.timestamp)},"aria-checked":c,"data-anchor-id":"".concat(k.Pt.scheduleLaterTimePick,"-").concat(b)},a.timestamp)})}),(0,e.jsx)(T,{children:(0,e.jsx)(K.ZP,{insetSize:K.QA.XxSmall,primaryAction:{content:M.default.t("layoutStrings_timePicker_confirm"),onClick:q,buttonProps:{accessibilityLabel:M.default.t("layoutStrings_timePicker_confirm_label"),tagProps:{"data-testid":A.TimePickerModalConfirmBtn}}}})})]})},Y="ASAP",Z=function(a){var b=a.selectDateHeading,c=a.selectDateDescription,h=a.selectTimeHeading,i=a.selectTimeSubheading,j=a.showAsapToggle,k=a.onTimeSelect,l=a.scheduledTime,m=a.scheduledTimeDateId,n=a.todayDateId,o=a.availableDaysAndTimes,p=a.useNewTimePickerUi,q=l===Y,r=(0,d.Z)(f.useState(q?n:m),2),s=r[0],t=r[1],u=(0,d.Z)(f.useState(!j||!q),2),v=u[0],w=u[1],x=(0,g.F)(o,s),y=function(){w(!1),k(Y)},z=function(a){w(!0),k(a)};return p?(0,e.jsx)(X,{availableDaysAndTimes:o,scheduledTime:l,selectedDateId:s,setSelectedDateId:t,selectScheduledTime:z,selectedDayTimes:x}):(0,e.jsx)(I,{selectTimeHeading:h,selectDateDescription:c,selectDateHeading:b,selectedDateId:s,availableDaysAndTimes:o,setSelectedDateId:t,selectTimeSubheading:i,isScheduledSelected:v,selectAsapTime:y,setIsScheduledSelected:w,scheduledTime:l,selectedDayTimes:x,selectScheduledTime:z,todayDateId:n,showAsapToggle:j})}},39230:function(a,b,c){var d=c(26042),e=c(69396),f=c(23778),g=c(22453),h=c(12414),i=function(a){var b,c,i,j=a.cartId,k=a.isOutsideDeliveryRegion,l=a.savedGiftOptions,m=a.setGiftOptions,n=a.entryPoint,o=(0,h.Uw)(),p=n===g.JE.CHECKOUT_INFO||n===g.JE.CHECKOUT_INFO_V2,q=(0,f.Z)(),r=!!(null==l?void 0:l.shouldRecipientScheduleGift),s=function(){if(l&&r){var a=(0,e.Z)((0,d.Z)({},l),{shouldRecipientScheduleGift:!1});m(a),q((0,d.Z)({cartId:j,giftOptions:a},p?{}:{refetchQueries:["checkout"]})).catch(function(a){m(l),(0,g.gs)({giftOptions:l,message:a,entryPoint:n})})}},t=!!((null==l?void 0:null===(b=l.recipientName)||void 0===b?void 0:b.length)||(null==l?void 0:null===(c=l.recipientGivenName)||void 0===c?void 0:c.length)||(null==l?void 0:null===(i=l.recipientFamilyName)||void 0===i?void 0:i.length));return{hasGiftThatCanBeScheduled:t&&o&&!k,isGiftRecipientScheduling:r,removeShouldRecipientScheduleGift:s}};b.Z=i},14886:function(a,b,c){c.d(b,{Z:function(){return a_}});var d,e,f=c(26042),g=c(69396),h=c(10253),i=c(85893),j=c(67294),k=c(12390),l=c(10071),m=c(2886),n=c(66809),o=c(68329),p=c(85861),q=c(7730),r=c(75815),s=c(2564),t=c(32945),u=c(41178),v=c(12414),w=q.l.wizard.personalizeSlide,x=t.n.mealGiftingWizard.v1.personalizeSlide,y=function(a){var b,c,d=a.errorFields,e=a.setErrorFields,h=a.carouselState,j=a.setCarouselState,q=(0,r.wD)(),t=q.giftOptions,y=q.dispatch,z=(0,v.Uw)(),A=function(a){d.recipientFamilyName&&e((0,g.Z)((0,f.Z)({},d),{recipientFamilyName:""})),y({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{recipientFamilyName:a.trim()}})},B=function(a){d.recipientGivenName&&e((0,g.Z)((0,f.Z)({},d),{recipientGivenName:""})),y({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{recipientGivenName:a.trim()}})},C=function(a){y({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{cardMessage:a}})},D=function(a){y({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{shouldRecipientScheduleGift:a}}),a?(0,k.cI)():(0,k.cg)()},E=(0,m.RN)(),F=E.consumer;return(0,i.jsxs)(l.StackChildren,{"data-testid":x.root,size:l.StackChildren.Sizes.Medium,children:[(0,i.jsx)(l.Text,{tag:"h2",styles:l.Text.Styles.Bold32,children:w.title()}),(0,i.jsx)(u.p,{title:w.recipientDetails(),children:(0,i.jsxs)(l.StackChildren,{size:l.StackChildren.Sizes.XxSmall,children:[(0,i.jsx)(l.Text,{styles:l.Text.Styles.Bold16,children:w.recipientLabel()}),(0,i.jsx)(l.InlineChildren,{children:(0,i.jsx)(s.Z,{givenName:{name:null!==(b=null==t?void 0:t.recipientGivenName)&&void 0!==b?b:"",nameError:d.recipientGivenName,nameLabel:w.recipientGivenNameLabel(),namePlaceholder:w.recipientGivenNamePlaceholder(),nameUpdate:B},familyName:{name:null!==(c=null==t?void 0:t.recipientFamilyName)&&void 0!==c?c:"",nameError:d.recipientFamilyName,nameLabel:w.recipientFamilyNameLabel(),namePlaceholder:w.recipientFamilyNamePlaceholder(),nameUpdate:A}})})]})}),F.id&&(0,i.jsx)(n.ZP,{header:(0,i.jsx)(n.LL,{}),consumerId:F.id,carouselState:h,setCarouselState:j,selectMode:n.W7.OVERLAY}),(0,i.jsx)(o.v,{giftMessage:t.cardMessage||"",onChangeGiftMessage:C}),z&&(0,i.jsx)(p.Z,{isSelected:t.shouldRecipientScheduleGift||!1,onChangeScheduleGiftToggle:D})]})},z=c(34545),A=c(59985),B=c(97073),C=c(7297),D=c(87379),E=c(24906);function F(){var a=(0,C.Z)(["\n  width: ","px;\n  margin-left: ","px;\n"]);return F=function(){return a},a}function G(){var a=(0,C.Z)(["\n  margin-top: ","px;\n  margin-left: ","px;\n"]);return G=function(){return a},a}function H(){var a=(0,C.Z)([""]);return H=function(){return a},a}function I(){var a=(0,C.Z)(["\n  display: flex;\n"]);return I=function(){return a},a}function J(){var a=(0,C.Z)([""]);return J=function(){return a},a}function K(){var a=(0,C.Z)(["\n  margin: 0 ","px;\n"]);return K=function(){return a},a}function L(){var a=(0,C.Z)([""]);return L=function(){return a},a}var M=D.default.div.withConfig({componentId:"sc-951e2be8-0"})(F(),5*l.Spacing.XxxLarge+l.Spacing.XSmall,l.Spacing.XLarge);D.default.div.withConfig({componentId:"sc-951e2be8-1"})(G(),l.Spacing.XLarge,l.Spacing.Small),(0,D.default)(E.default).attrs(function(){return{size:E.default.Sizes.Small,type:E.default.Types.TertiaryPill,isInline:!0}}).withConfig({componentId:"sc-951e2be8-2"})(H()),D.default.div.withConfig({componentId:"sc-951e2be8-3"})(I()),(0,D.default)(l.Text).attrs(function(){return{styles:l.Text.Styles.SectionSubtext}}).withConfig({componentId:"sc-951e2be8-4"})(J()),D.default.div.withConfig({componentId:"sc-951e2be8-5"})(K(),l.Spacing.XLarge),(0,D.default)(E.default).attrs(function(){return{type:E.default.Types.FlatPrimary,padding:E.default.Padding.None,size:E.default.Sizes.Small,isInline:!0}}).withConfig({componentId:"sc-951e2be8-6"})(L());var N=q.l.wizard.contactSlide,O=function(a){var b=a.shouldDasherContactRecipient,c=a.setShouldDasherContactRecipient,d=a.phoneNumberField,e=a.shouldShowPhoneNumberField;return(0,i.jsxs)(u.p,{title:N.fieldsetTitle(),children:[(0,i.jsx)(B.ZP,{"data-testid":"contact_recipient",label:N.contactRecipient(),isSelected:Boolean(b),type:B.ZP.Types.Radio,onChange:function(){return c(!0)}}),e&&(0,i.jsxs)(j.Fragment,{children:[(0,i.jsx)(M,{children:d}),(0,i.jsx)(l.Stack,{size:l.Stack.Sizes.Large})]}),(0,i.jsx)(B.ZP,{"data-testid":"contact_me",label:N.contactMe(),isSelected:!b,type:B.ZP.Types.Radio,onChange:function(){return c(!1)}})]})},P=q.l.wizard.contactSlide,Q=function(a){var b=a.shouldDasherContactRecipient,c=a.phoneNumberField,d=a.setShouldDasherContactRecipient,e=a.isPurchasingAlcohol;return(0,i.jsxs)(l.StackChildren,{children:[(0,i.jsx)(l.Text,{styles:l.Text.Styles.Bold18,children:P.dasherContactQuestion()}),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Text,{styles:l.Text.Styles.SectionSubtext,children:P.alcoholDisclaimer()}),c]}):(0,i.jsx)(O,{shouldDasherContactRecipient:b,phoneNumberField:c,setShouldDasherContactRecipient:d,shouldShowPhoneNumberField:!!b})]})},R=t.n.mealGiftingWizard.v1.contactSlide,S=function(a){var b=a.isPurchasingAlcohol,c=a.phoneNumberField,d=(0,r.wD)(),e=d.dispatch,f=d.giftOptions.shouldDasherContactRecipient,g=function(a){e({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{shouldDasherContactRecipient:a}})};return j.useEffect(function(){b&&e({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{shouldDasherContactRecipient:!0}})},[b,e]),(0,i.jsxs)(l.StackChildren,{"data-testid":R.root,size:l.StackChildren.Sizes.Medium,children:[(0,i.jsx)(l.Text,{tag:"h2",styles:l.Text.Styles.Bold32,children:q.l.wizard.contactSlide.title()}),(0,i.jsx)(Q,{shouldDasherContactRecipient:f,setShouldDasherContactRecipient:g,phoneNumberField:c,isPurchasingAlcohol:b})]})};function T(){var a=(0,C.Z)(["\n  text-align: center;\n  background: url(",") no-repeat;\n  background-size: contain;\n  background-position: center;\n  margin: 0 auto;\n  height: ","px;\n  width: auto;\n\n  @media screen and (min-width: ","px) {\n    height: ","px;\n    width: 100%;\n  }\n"]);return T=function(){return a},a}function U(){var a=(0,C.Z)(["\n  height: 100%;\n  width: ","px;\n  margin: 0 auto;\n  padding-top: ","px;\n\n  @media screen and (min-width: ","px) {\n    width: ","px;\n    margin: 0 0 0 ","px;\n    padding: 0 0 0 ","px;\n  }\n"]);return U=function(){return a},a}function V(){var a=(0,C.Z)(["\n  margin-top: ","px;\n  display: ",";\n"]);return V=function(){return a},a}function W(){var a=(0,C.Z)(["\n  position: relative;\n  top: -","px;\n  width: ","px;\n  margin: 0 auto;\n"]);return W=function(){return a},a}function X(){var a=(0,C.Z)(["\n  @media screen and (min-width: ","px) {\n    top: ","px;\n    position: relative;\n  }\n"]);return X=function(){return a},a}var Y=4*l.Spacing.XxxLarge+l.Spacing.XxLarge,Z=D.default.div.withConfig({componentId:"sc-cb6bcc9c-0"})(T(),function(a){return a.src},10*l.Spacing.XxxLarge,l.Breakpoints.Desktop,Y),$=4*l.Spacing.XxxLarge+l.Spacing.XLarge+l.Spacing.XxxSmall,_=D.default.div.withConfig({componentId:"sc-cb6bcc9c-1"})(U(),$,l.Spacing.XxLarge,l.Breakpoints.Desktop,4*l.Spacing.XxxLarge,l.Spacing.Medium,l.Spacing.Medium),aa=(0,D.default)(l.Text).attrs(function(){return{styles:l.Text.Styles.Bold16}}).withConfig({componentId:"sc-cb6bcc9c-2"})(V(),l.Spacing.XxLarge,function(a){return a.display||"inline-block"}),ab=3*l.Spacing.XxxLarge+l.Spacing.XSmall,ac=D.default.div.withConfig({componentId:"sc-cb6bcc9c-3"})(W(),l.Spacing.XxLarge,ab),ad=D.default.div.withConfig({componentId:"sc-cb6bcc9c-4"})(X(),l.Breakpoints.Desktop,2*l.Spacing.XxLarge),ae=c(53698),af=c(14924),ag=c(57433),ah=c(11890),ai=c(61628),aj=c(51570),ak=c(53e3),al=c(1889);function am(){var a=(0,C.Z)(["\n  box-shadow: ",";\n  border-radius: ","px;\n  background: ",";\n  width: ","px;\n  margin: 0 auto;\n  margin-top: ","px;\n  overflow-wrap: anywhere;\n  text-align: left;\n"]);return am=function(){return a},a}function an(){var a=(0,C.Z)(["\n  flex: 0 0 auto;\n"]);return an=function(){return a},a}function ao(){var a=(0,C.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return ao=function(){return a},a}function ap(){var a=(0,C.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return ap=function(){return a},a}var aq="\n  0px ".concat(l.Spacing.XxxxSmall,"px ").concat(l.Spacing.XxSmall,"px rgba(0, 0, 0, 0.2)"),ar=(0,l.withTheming)((0,D.default)(l.Inset).withConfig({componentId:"sc-ecaac14f-0"})(am(),aq,l.BorderRadius.Small,function(a){return a.theme.Colors.BackgroundPrimary},4*l.Spacing.XxLarge,l.Spacing.Small)),as=D.default.div.withConfig({componentId:"sc-ecaac14f-1"})(an());(0,D.default)(l.StackChildren).withConfig({componentId:"sc-ecaac14f-2"})(ao());var at=(0,D.default)(l.StackChildren).withConfig({componentId:"sc-ecaac14f-3"})(ap()),au=function(a){var b=a.message,c={size:l.Text.Sizes.S14,family:l.Text.Families.Serif,color:l.Text.Colors.TextSecondary,weight:l.Text.Weights.Medium,lineHeight:l.Text.LineHeights.S24},d={size:l.Text.Sizes.S18,weight:l.Text.Weights.Bold,lineHeight:l.Text.LineHeights.S18};return(0,i.jsx)(l.Text,{styles:c,tabletStyles:d,children:b})},av=au,aw=function(a){var b=a.experience,c=a.message,d=c?c.split("\n"):[];return c?(0,i.jsx)(ar,{size:l.Inset.Sizes.Small,children:(0,i.jsxs)(l.InlineChildren,{justifyContent:l.InlineChildren.Justification.FlexStart,alignItems:l.InlineChildren.Alignment.FlexStart,size:l.InlineChildren.Sizes.XSmall,children:[(0,i.jsx)(as,{children:(0,i.jsx)(al.Z,{size:al.r.Small,mobileSize:al.r.Tiny,experience:b})}),(0,i.jsx)(at,{size:l.StackChildren.Sizes.None,children:d.map(function(a,b){return(0,i.jsx)(av,{message:a},"".concat(b,"-").concat(a))})})]})}):null},ax=aw,ay=c(73958),az=q.l.wizard.giftPreviewSlide.messageTitle(),aA=t.n.mealGiftingWizard.v1.giftPreviewSlide,aB=aA.fallbackPreviewWithMessage,aC=aA.fallbackPreview,aD=function(a){var b=a.cardMessage,c=a.experience;return b?(0,i.jsx)(ad,{"data-testid":aB,children:(0,i.jsxs)(l.StackChildren,{children:[(0,i.jsx)(aa,{children:az}),(0,i.jsx)(ax,{message:b,experience:c})]})}):(0,i.jsx)(ad,{"data-testid":aC,children:(0,i.jsxs)(l.StackChildren,{children:[(0,i.jsx)(aa,{display:l.Text.DisplayModes.Block,children:az}),(0,i.jsx)(ay.Z,{mobileSize:ay.c.Small,size:ay.c.Small})]})})},aE=aD,aF=c(22453),aG=q.l.wizard.giftPreviewSlide,aH=(d={},(0,af.Z)(d,ak.a.DoorDash,ai._Z+"/common/gift_message_lottie.json"),(0,af.Z)(d,ak.a.Caviar,ai.x5+"/animated/message/caviar.json"),d),aI=(e={},(0,af.Z)(e,ak.a.DoorDash,190),(0,af.Z)(e,ak.a.Caviar,94),e),aJ=aG.messageTitle(),aK=function(a){var b,c,d=a.animationAssetUrl,e=a.experience,f=a.giftOptions,g=(0,h.Z)(j.useState(),2),k=g[0],m=g[1],n=(0,h.Z)(j.useState(!1),2),o=n[0],p=n[1],q=(0,h.Z)(j.useState(!1),2),r=q[0],s=q[1],t=f.cardMessage,u=!f.cardMessage&&!f.cardId,v=e===ak.a.DoorDash?aH.doordash:aH.caviar,w=d||v;j.useEffect(function(){!u&&fetch(w).then(function(a){return a.json()}).then(function(a){t&&(0,aj.VE)(a,t,e),m(a)}).catch(function(a){s(!!a),(0,aF.gs)({giftOptions:f,entryPoint:aF.JE.MESSAGE_PREVIEW,message:"Unable to render Lottie [".concat(w,"]: ").concat(a)})})},[]);var x=(b=!!t,c=e,b?null:c===ak.a.DoorDash?aI.doordash:aI.caviar),y=function(a){x&&a>=x&&p(!0)};return u||r?(0,i.jsx)(aE,{cardMessage:t,experience:e}):k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aa,{children:aJ}),(0,i.jsx)(ac,{children:(0,i.jsx)(ag.Z,{animationData:k,loop:!1,autoPlay:!0,isPaused:o,speed:1,height:-1,width:-1,onEnterFrame:x?y:void 0})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aa,{children:aJ}),(0,i.jsx)(l.Stack,{size:l.Stack.Sizes.XxxLarge}),(0,i.jsx)(ah.default,{})]})},aL=function(a){var b=a.previewBackgroundUrl,c=a.animationAssetUrl,d=a.giftOptions,e=(0,ae.Z)().experience;return(0,i.jsx)(Z,{src:b,children:(0,i.jsx)(_,{children:(0,i.jsx)(aK,{giftOptions:d,experience:e,animationAssetUrl:c})})})},aM=c(51667),aN=q.l.wizard.giftPreviewSlide,aO=t.n.mealGiftingWizard.v1.giftPreviewSlide,aP=function(a){var b=a.title,c=a.previewBackgroundUrl,d=a.orderCartTrackingParams,e=(0,r.wD)().giftOptions,f=(0,m.RN)(),g=f.consumer,h=g.id,n=(0,aM.C)({cardId:null==e?void 0:e.cardId,consumerId:h,shouldSkipQuery:!e||!h}),o=n.card,p=null==o?void 0:o.assets.animationAssetUrl;return j.useEffect(function(){(0,k.$j)(d)},[]),(0,i.jsxs)("div",{"data-testid":aO.root,children:[(0,i.jsx)(l.Text,{tag:"h2",styles:l.Text.Styles.Bold32,children:b}),(0,i.jsx)(l.Stack,{size:l.StackChildren.Sizes.XxSmall}),(0,i.jsx)(l.Text,{"data-testid":aO.description,styles:l.Text.Styles.ContentBody,children:aN.subtitle()}),(0,i.jsx)(l.Stack,{size:l.StackChildren.Sizes.Medium}),(0,i.jsx)(aL,{giftOptions:e,previewBackgroundUrl:c,animationAssetUrl:p},null!=p?p:"")]})},aQ=c(23685),aR=c(98886),aS=c(23778),aT=c(80163),aU=c(26961),aV=c(11698),aW=c(33600),aX=function(a){var b=a.canIncrementSlide,c=a.onIncrementSlide,d=a.onComplete,e=a.incrementSlide,f=a.decrementSlide,g=a.onDecrementSlide,h=a.isLastSlide,j=(0,aV.ac)().isMobile,k=function(){(void 0===b||b())&&(h?void 0!==d&&d():e(),void 0!==c&&c())},m=function(){f(),void 0!==g&&g()},n=h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.default,{type:E.default.Types.TertiaryPill,onClick:m,isInline:!j,children:q.l.editGiftDetails()}),(0,i.jsx)(aW.aW,{onClick:k,isInline:!j,label:aU.h.wizard.save()})]}):(0,i.jsx)(aW.aW,{onClick:k,isInline:!j,label:aU.h.wizard.next()});return j?n:(0,i.jsx)(l.InlineChildren,{justifyContent:l.InlineChildren.Justification.FlexEnd,children:n})},aY=c(70780),aZ=function(a){var b=a.titleNode;return(0,i.jsx)(aY.qf,{children:b})},a$=c(10677),a_=function(a){var b=a.closeWizard,c=a.carouselState,d=a.setCarouselState,e=a.wizardState,l=a.setWizardState,m=(0,h.Z)(j.useState({recipientName:"",phoneNumber:""}),2),n=m[0],o=m[1],p=j.useContext(aT.iB).orderCart,s=(0,r.wD)(),t=s.giftOptions,u=s.dispatch,w=s.saveGiftOptionsToCache,x=t.recipientPhone,B=t.recipientCountryCode,C=t.shouldDoordashTextRecipient,D=t.shouldDasherContactRecipient,E=t.shouldRecipientScheduleGift,F=(0,aS.Z)();j.useEffect(function(){(0,k.YU)(p)},[]);var G=(0,v.Cu)(),H=function(a){return(0,i.jsx)(aZ,(0,f.Z)({},a))},I=function(a){return(0,i.jsx)(aX,(0,f.Z)({},a))},J=function(a){a.shouldResetGiftOptions&&u({type:r.Vh.RESET_GIFT_OPTIONS}),b()},K=function(){J({shouldResetGiftOptions:!0}),(0,k.Um)(p)},L=function(){w(),F((0,f.Z)({cartId:p.id,giftOptions:t},s.isMerchantShipping?{}:{refetchQueries:["checkout"]})).catch(function(a){var b,c;b=a,c=t,(0,aF.gs)({entryPoint:aF.JE.WIZARD,message:b,giftOptions:c})}),J({shouldResetGiftOptions:!1}),(0,k.M$)(t,p,k.ln.Checkout)},M=function(a){o(a),(a.recipientName||a.phoneNumber)&&(0,k.Ou)(p)},N=function(a){n.phoneNumber&&o((0,g.Z)((0,f.Z)({},n),{phoneNumber:""})),u({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{recipientPhone:a}})},O=function(a){u({type:r.Vh.UPDATE_GIFT_OPTIONS,payload:{recipientCountryCode:a}})},P=aQ.default.getCurrentLocale(),Q=(0,ae.Z)().experience,R=(0,a$._D)(E),T=(0,v.xO)(P),U=(0,ai.Vh)({experience:Q,assetLanguage:T,fileName:R}),V=(0,ai.Gq)(U),W=function(){var a=(0,z.ZL)({value:t.recipientGivenName,fieldName:z.Tj.GIVEN}),b=(0,z.ZL)({value:t.recipientFamilyName,fieldName:z.Tj.FAMILY});return M((0,g.Z)((0,f.Z)({},n),{recipientFamilyName:b,recipientGivenName:a})),!a&&!b},X={hideCancelButton:!G,onIncrementSlide:function(){return(0,k.hs)(t,p)},canIncrementSlide:W,onCancelWizard:function(){return(0,k.Nc)(p)},render:function(){return(0,i.jsx)(y,{setErrorFields:o,errorFields:n,carouselState:c,setCarouselState:d})}},Y={hideCancelButton:!0,nextButtonLabel:q.l.wizard.giftPreviewSlide.continue(),onIncrementSlide:function(){return(0,k.SJ)(p)},onDecrementSlide:function(){return(0,k.XG)(p)},render:function(){return(0,i.jsx)(aP,{title:q.l.wizard.giftPreviewSlide.titleV1(),previewBackgroundUrl:(null==V?void 0:V.optimizedUrl)||"",orderCartTrackingParams:p})}},Z=!!p.containsAlcohol,$=function(){var a=(0,z.eE)({shouldDasherContactRecipient:D,shouldDoordashTextRecipient:C,phoneNumber:x});return M((0,g.Z)((0,f.Z)({},n),{phoneNumber:a})),!a},_=(0,i.jsx)(aR.Z,{phoneNumber:x,countryCode:B,onChangeNumber:N,onChangePhoneCountry:O,error:n.phoneNumber,isRequired:!0});return(0,i.jsx)(A.Z,{header:G?void 0:H,footer:G?void 0:I,hasCloseButton:!G,wizardState:e,setWizardState:l,closeWizard:K,onComplete:L,Context:{Provider:r.ZP.Provider,value:s},slides:G?[X,Y,{onIncrementSlide:function(){return(0,k.Do)(t,p)},onDecrementSlide:function(){return(0,k.jy)(t,p)},canIncrementSlide:function(){return $()},render:function(){return(0,i.jsx)(S,{isPurchasingAlcohol:Z,phoneNumberField:_})}}]:[X,Y]})}},33031:function(a,b,c){c.d(b,{E:function(){return g}});var d=c(75317),e=c(12414),f=c(79186),g=function(a){var b,c=(0,e.ke)(),g=null==a?void 0:null===(b=a.restaurant)||void 0===b?void 0:b.offersPackageReturns;return!!c&&!g&&(0,f.l)({canUseCompanyBudget:(0,d.II)(a),isPickup:!!a.isConsumerPickup,fulfillsOwnDeliveries:!!a.fulfillsOwnDeliveries,isCateringCart:!!a.isCatering,isGroupCart:!!a.groupCart})}},46190:function(a,b,c){var d=c(85893);c(67294);var e=c(10071),f=c(52603),g=function(a){var b=a.title,c=a.middleText,g=a.bottomText,h=a.onClick,i=a.isSelected,j=a.maxWidth,k=a.minWidth,l=a.isDisabled,m=a.overridePadding,n=a.width,o=a.dataTestId,p=a.dataAnchorId;return(0,d.jsx)(f.jX,{tabIndex:0,role:"radio","aria-checked":i,isSelected:i,onClick:function(){l||h(!i)},maxWidth:j||f.yA,minWidth:k||f.Fe,isDisabled:l||!1,overridePadding:m,width:n,"data-testid":o,"data-anchor-id":p,children:(0,d.jsxs)(f.OO,{children:[(0,d.jsxs)(e.InlineChildren,{justifyContent:e.InlineChildren.Justification.SpaceBetween,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Text,{styles:e.Text.Styles.Label2Emphasis,overflow:e.Text.Overflows.Truncate,children:b}),(0,d.jsx)(e.Icon,{type:i?e.Icon.Types.CheckCircleFill:e.Icon.Types.RadioOffCircleLine,size:e.Icon.Sizes.Small,shouldAdjustSmallSizesWhitespace:!0,color:i?e.Icon.Colors.TextPrimary:e.Icon.Colors.BorderPrimary})]}),c&&(0,d.jsx)(e.Text,{styles:e.Text.Styles.Caption1,color:e.Text.Colors.TextTertiary,children:c}),g&&(0,d.jsx)(e.Text,{styles:e.Text.Styles.Caption1,color:e.Text.Colors.TextSecondary,children:g})]})})};b.Z=g},52603:function(a,b,c){c.d(b,{FG:function(){return l},Fe:function(){return m},OO:function(){return p},jX:function(){return o},yA:function(){return n}});var d=c(7297),e=c(87379),f=c(10071);function g(){var a=(0,d.Z)(["2px ",""]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["1px ",""]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n      opacity: ",";\n      cursor: ",";\n    "]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  background: none;\n  border: none;\n  user-select: none;\n  box-shadow: inset 0 0 0\n    ",";\n  border-radius: ","px;\n  min-width: ","px;\n  max-width: ",";\n  padding-left: ","px;\n  transition: opacity 200ms;\n  ",";\n  padding: ","px;\n  padding-left: ","px;\n  display: inline-flex;\n  align-items: stretch;\n  width: ",";\n\n  &:focus {\n    ","\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n"]);return k=function(){return a},a}var l=100,m=149,n=324,o=e.default.button.withConfig({componentId:"sc-af699a9b-0"})(j(),function(a){return a.isSelected?(0,e.css)(g(),f.Colors.ButtonPrimaryToggleBorderOn):(0,e.css)(h(),f.Colors.ButtonPrimaryToggleBorderOff)},f.BorderRadius.Medium,function(a){return a.minWidth},function(a){var b=a.width,c=a.maxWidth;return b||"".concat(c,"px")},f.Spacing.XxxSmall,function(a){var b=a.isDisabled;return(0,e.css)(i(),b?"0.5":"1",b?"not-allowed":"pointer")},function(a){return a.overridePadding?f.Spacing.XxSmall:f.Spacing.XSmall},function(a){return a.overridePadding?f.Spacing.Small:f.Spacing.XSmall},function(a){return a.width||"max-content"},(0,f.getFocusStyles)()),p=(0,e.default)(f.StackChildren).attrs(function(){return{size:f.StackChildren.Sizes.XxxxSmall}}).withConfig({componentId:"sc-af699a9b-1"})(k())},37839:function(a,b,c){c.d(b,{Z:function(){return d.Z}});var d=c(46190)},66935:function(a,b,c){c.d(b,{t:function(){return o},G:function(){return n}});var d,e=c(85893);c(67294);var f=c(10071),g=c(11459),h=c(23685),i=c(7297),j=c(87379);function k(){var a=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: ","px;\n"]);return k=function(){return a},a}var l,m=j.default.div.withConfig({componentId:"sc-b0ca1ce3-0"})(k(),f.Spacing.Large);(l=d||(d={})).MeasurementItemQuantityLabel="MeasurementItemQuantityLabel",l.ItemQuantityLabel="ItemQuantityLabel";var n=function(a){return{purchaseType:a.purchaseType,quantity:a.quantity,continuousQuantity:a.continuousQuantity,unit:a.unit}},o=function(a){var b=a.purchaseType,c=a.quantity,i=a.continuousQuantity,j=a.unit;return b===g.Oz.PURCHASE_TYPE_MEASUREMENT?(0,e.jsxs)(m,{"data-testid":d.MeasurementItemQuantityLabel,children:[(0,e.jsx)(f.Text,{styles:f.Text.Styles.Medium16,children:"".concat(i)}),(0,e.jsx)(f.Text,{styles:f.Text.Styles.Medium16,children:"".concat(j)})]}):(0,e.jsx)(m,{"data-testid":d.ItemQuantityLabel,children:(0,e.jsxs)(f.InlineChildren,{size:f.InlineChildren.Sizes.XxxxSmall,children:[(0,e.jsx)(f.Text,{styles:f.Text.Styles.Medium16,children:"".concat(c)}),(0,e.jsx)(f.Text,{styles:f.Text.Styles.Medium16,children:h.default.t("cartStrings_quantityMultiplier")})]})})}},7444:function(a,b,c){c.d(b,{hC:function(){return D}});var d=c(47568),e=c(10253),f=c(34051),g=c.n(f),h=c(85893),i=c(67294),j=c(1968),k=c(11890),l=c(11698),m=c(7297),n=c(87379);function o(){var a=(0,m.Z)(["\n  display: none;\n"]);return o=function(){return a},a}function p(){var a=(0,m.Z)(["\n  box-sizing: border-box;\n"]);return p=function(){return a},a}function q(){var a=(0,m.Z)(["\n  display: inline-block;\n"]);return q=function(){return a},a}function r(){var a=(0,m.Z)(["\n  width: 100%;\n  height: ","px;\n  border: 0;\n  transition: opacity 0.5s;\n  margin-bottom: -","px;\n"]);return r=function(){return a},a}function s(){var a=(0,m.Z)(["\n  width: 100%;\n  height: ","px;\n  border: 0;\n  transition: opacity 0.5s;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  box-sizing: border-box;\n  pointer-events: none;\n"]);return s=function(){return a},a}var t=n.default.form.withConfig({componentId:"sc-909123fb-0"})(o()),u=n.default.div.withConfig({componentId:"sc-909123fb-1"})(p());n.default.div.withConfig({componentId:"sc-909123fb-2"})(q());var v=n.default.iframe.withConfig({componentId:"sc-909123fb-3"})(r(),700,700),w=n.default.div.withConfig({componentId:"sc-909123fb-4"})(s(),700),x=c(48608),y=c(58605),z=function(a,b,c){i.useEffect(function(){var d=function(d){if((null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.name)==="confirm-snap-exit"){var e,f,g=null==d?void 0:null===(f=d.data)||void 0===f?void 0:f.formData,h=g.AccuResponseCode,i=g.AccuResponseMsg;switch(h){case"ACCU000":a();return;case"ACCU200":b("iframe");return;default:c(h,i)}}};return window.addEventListener("message",d),function(){window.removeEventListener("message",d)}},[a,b,c])},A=c(34177),B=c(49145),C=c(72934),D=function(a){var b=a.paymentMethodUuid,c=a.title,f=a.onCancel,m=a.onSuccess,n=a.onError,o=a.snapMerchantId,p=(0,l.ac)().isMobile,q=(0,e.Z)(i.useState(!0),2),r=q[0],s=q[1],D=(0,e.Z)(i.useState(),2),E=D[0],F=D[1],G=i.useRef(null),H=i.useRef(null),I=(0,B.Rf)(),J=(0,C.xe)(),K=i.useRef(""),L=i.useCallback((0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:(0,y.gQ)(),m(K.current);case 2:case"end":return a.stop()}},a)})),[m]),M=i.useCallback(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"modal";(0,y.in)(a),null==f||f()},[f]),N=i.useCallback(function(a,b){(0,y.W5)(a,b),null==n||n(x.VD.snapEbt.pinError()),F(b)},[n]);z(L,M,N);var O=i.useCallback(function(){return s(!1)},[]),P=i.useCallback((0,d.Z)(g().mark(function a(){var c,d,e,f,h,i,j,k,l,m;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(0,y.rd)(),s(!0),F(void 0),a.prev=3,a.next=7,I(b,o);case 7:(null==(e=null===(c=(d=a.sent).data)||void 0===c?void 0:c.initiateEbtPinSession)?void 0:e.tranId)&&(K.current=e.tranId),H.current&&(null==e?void 0:e.accuId)&&(H.current.value=e.accuId,null===(f=G.current)||void 0===f||f.submit()),a.next=19;break;case 13:a.prev=13,a.t0=a.catch(3),N(null!=(l=null===(i=null===a.t0||void 0===a.t0?void 0:null===(h=a.t0.graphQLErrors)||void 0===h?void 0:h.find(function(a){var b,c;return!!(null==a?void 0:null===(b=a.extensions)||void 0===b?void 0:null===(c=b.responseData)||void 0===c?void 0:c.error_code)}))||void 0===i?void 0:null===(j=i.extensions)||void 0===j?void 0:null===(k=j.responseData)||void 0===k?void 0:k.error_code)?l:"initiate_pin_error",null!==(m=null===a.t0||void 0===a.t0?void 0:a.t0.message)&&void 0!==m?m:"Error Initializing Pin");case 19:case"end":return a.stop()}},a,null,[[3,13]])})),[I,b,o,N]);return i.useEffect(function(){P()},[P]),(0,h.jsx)(j.Modal,{title:c,onClose:function(){return M()},shouldRenderStickyHeader:!1,hasCloseButton:!!E||r||p,children:(0,h.jsxs)(u,{children:[(0,h.jsxs)(t,{ref:G,name:"fiserv-pin-form",action:J,method:"POST",target:"snap_ebt_frame",children:[(0,h.jsx)("input",{type:"hidden",name:"AccuLanguage",value:"en-US"}),(0,h.jsx)("input",{type:"hidden",name:"AccuReturnURL",value:"".concat(location.origin).concat("/payments-redirect/snap/confirm/?platform=web")}),(0,h.jsx)("input",{type:"hidden","data-testid":"accu-id-input",name:"AccuId",ref:H})]}),(0,h.jsx)(v,{style:{opacity:r?0:1},onLoad:O,title:x.VD.snapEbt.modalTitle(),name:"snap_ebt_frame"}),(0,h.jsx)(w,{style:{opacity:r?1:0},title:A.RD.loading(),children:(0,h.jsx)(k.default,{})})]})})}},36823:function(a,b,c){c.d(b,{Z:function(){return d.default}});var d=c(35414)},85082:function(a,b,c){c.d(b,{Z:function(){return d.default}});var d=c(4835)},49145:function(a,b,c){c.d(b,{Rf:function(){return m},lU:function(){return o}});var d=c(10253),e=c(7297),f=c(67294),g=c(93999),h=c(44119),i=c.n(h);function j(){var a=(0,e.Z)(["\n  mutation initiateEbtPinSession(\n    $paymentMethodId: ID!\n    $snapMerchantId: String!\n  ) {\n    initiateEbtPinSession(\n      paymentMethodId: $paymentMethodId\n      snapMerchantId: $snapMerchantId\n    ) {\n      accuId\n      tranId\n    }\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,e.Z)(["\n  mutation getEbtSnapBalance($paymentMethodId: ID!, $snapMerchantId: String!) {\n    getEbtSnapBalance(\n      paymentMethodId: $paymentMethodId\n      snapMerchantId: $snapMerchantId\n    ) {\n      currency\n      displayString\n      decimalPlaces\n      unitAmount\n      sign\n    }\n  }\n"]);return k=function(){return a},a}var l=i()(j()),m=function(){var a=(0,d.Z)((0,g.useMutation)(l),1)[0];return f.useCallback(function(b,c){return a({variables:{paymentMethodId:b,snapMerchantId:c}})},[a])},n=i()(k()),o=function(){var a=(0,d.Z)((0,g.useMutation)(n),2),b=a[0],c=a[1],e=f.useCallback(function(a,c){return b({variables:{paymentMethodId:a,snapMerchantId:c}})},[b]);return f.useMemo(function(){return{getEbtSnapBalance:e,result:c}},[e,c])}},89728:function(a,b,c){c.d(b,{v:function(){return g}});var d=c(67294),e=c(24401),f=c(16935),g=function(a){var b=(0,e._k)(e.P$.hideAddDigitalWallet);return d.useMemo(function(){return b?a?f.TM:f.hL:f.TM},[b,a])}},31205:function(a,b,c){c.d(b,{l:function(){return n}});var d=c(26042),e=c(69396),f=c(7297),g=c(67294),h=c(93999),i=c(44119),j=c.n(i),k=c(65999);function l(){var a=(0,f.Z)(["\n  query dropoffOptions($cartId: ID, $addressId: ID) {\n    dropoffOptions(cartId: $cartId, addressId: $addressId) {\n      id\n      displayString\n      isDefault\n      isEnabled\n      placeholderText\n      disabledMessage\n    }\n  }\n"]);return l=function(){return a},a}var m=j()(l()),n=function(a,b,c,f){var i,j,l,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=(0,h.useQuery)(m,{variables:{cartId:a,addressId:b.addressId||""}});(0,g.useEffect)(function(){o.refetch()},[b.id,b.addressId,c,f,]);var p=null!==(l=null===(i=o.data)||void 0===i?void 0:null===(j=i.dropoffOptions)||void 0===j?void 0:j.filter(function(a){return null!=a}))&&void 0!==l?l:[];return n&&(p[0]=(0,e.Z)((0,d.Z)({},null==p?void 0:p[0]),{displayString:k.Z.packageReturnsDropOffOptions.handItToTheDasher.title,isDefault:!0,isEnabled:!0,placeholderText:k.Z.packageReturnsDropOffOptions.handItToTheDasher.placeholder,disabledMessage:null}),p[1]=(0,e.Z)((0,d.Z)({},null==p?void 0:p[1]),{displayString:k.Z.packageReturnsDropOffOptions.pickupOutsideMyDoor.title,isDefault:!1,isEnabled:!0,placeholderText:k.Z.packageReturnsDropOffOptions.pickupOutsideMyDoor.placeholder,disabledMessage:null})),(0,e.Z)((0,d.Z)({},o),{dropoffOptions:p})}},13646:function(a,b,c){c.d(b,{Z:function(){return j},J:function(){return o}});var d,e=c(47568),f=c(34051),g=c.n(f),h=function(a){return new Promise(function(b){return setTimeout(b,a)})},i=(d=(0,e.Z)(g().mark(function a(b,c,d,e,f,i){var j,k;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:j=new Date().getTime();case 2:var g,l;if(g=j,l=e,new Date().getTime()>g+l){a.next=12;break}return a.next=5,b.query({query:c,fetchPolicy:"network-only",variables:d});case 5:if(!i(k=a.sent)){a.next=8;break}return a.abrupt("break",12);case 8:return a.next=10,h(f);case 10:a.next=2;break;case 12:return a.abrupt("return",i(k));case 13:case"end":return a.stop()}},a)})),function(a,b,c,e,f,g){return d.apply(this,arguments)}),j=i,k=c(10253),l=c(67294),m=c(93999),n=function(a){var b=a.skip,c=void 0!==b&&b,d=a.query,e=a.fetchPolicy,f=a.errorPolicy,g=a.variables,h=a.pollInterval,i=a.timeout,j=void 0===i?0:i,n=a.isSuccess,o=a.onSuccess,p=a.onFailure,q=a.onTimeout,r=a.onResponse,s=(0,k.Z)(l.useState(0),2),t=s[0],u=s[1],v=(0,m.useQuery)(d,{notifyOnNetworkStatusChange:!0,skip:c,fetchPolicy:void 0===e?"no-cache":e,errorPolicy:void 0===f?"all":f,variables:g,onCompleted:function(a){var b=new Date().getTime();n(a)?(w(),null==o||o(a)):j>0&&b>t+j?(w(),null==q||q()):null==r||r(a)},onError:function(){w(),p()}}),w=v.stopPolling,x=v.startPolling,y=!c&&!t;l.useEffect(function(){y&&(u(new Date().getTime()),x(h))},[y,u,x,h])},o=n},94287:function(a,b,c){var d=c(10253),e=c(85893),f=c(67294),g=c(10071),h=c(1968),i=c(75521),j=c(56517),k=c(2564),l=c(3611),m=function(a){var b=a.initialName,c=a.onClose,m=a.onSubmit,n=(0,d.Z)(f.useState(b.givenName),2),o=n[0],p=n[1],q=(0,d.Z)(f.useState(b.familyName),2),r=q[0],s=q[1],t=(0,d.Z)(f.useState(""),2),u=t[0],v=t[1],w=(0,d.Z)(f.useState(""),2),x=w[0],y=w[1],z=j.e.requiredField(),A=!o||!r,B=function(a){var b=a.field,c=a.value;switch(b){case"givenName":p(c),v("");return;case"familyName":s(c),y("");return;default:return}},C=function(){o||v(z),r||y(z),!A&&(m("recipientShippingDetails",{recipientGivenName:o,recipientFamilyName:r}),c())};return(0,e.jsx)(h.Modal,{"data-testid":l.Z.changeRecipientNameModal,title:j.e.shippingChangeRecipientNameModalTitle(),isFullScreenOnMobile:!0,hasCloseButton:!0,onClose:c,primaryAction:{text:j.e.shippingChangeRecipientNameModalContinue(),onClick:C},secondaryAction:{text:j.e.shippingChangeRecipientNameModalClose(),onClick:c},children:(0,e.jsx)(g.InlineChildren,{children:(0,e.jsx)(k.Z,{givenName:{name:o,nameLabel:i.Z.firstName(),nameUpdate:function(a){return B({field:"givenName",value:a})},nameError:u},familyName:{name:r,nameLabel:i.Z.lastName(),nameUpdate:function(a){return B({field:"familyName",value:a})},nameError:x}})})})};b.Z=m},1846:function(a,b,c){c.d(b,{Z:function(){return O}});var d,e=c(10253),f=c(85893),g=c(67294),h=c(24906),i=c(34521),j=c(97073),k=c(10071),l=c(7297),m=c(87379);function n(){var a=(0,l.Z)(["\n  padding: 0 ","px ","px 0;\n  display: flex;\n  flex-direction: column;\n"]);return n=function(){return a},a}function o(){var a=(0,l.Z)(["\n  align-items: center;\n  display: flex;\n"]);return o=function(){return a},a}function p(){var a=(0,l.Z)([""]);return p=function(){return a},a}var q,r=(0,m.default)(k.StackChildren).withConfig({componentId:"sc-c9e21436-0"})(n(),k.Spacing.XxSmall,k.Spacing.XxSmall),s=m.default.div.withConfig({componentId:"sc-c9e21436-1"})(o()),t=(0,m.default)(k.Text).attrs(function(a){var b=a.isDisabled,c=a.color;return{styles:k.Text.Styles.Medium16,color:b?k.Text.Colors.ButtonDefaultToggleForegroundDisabled:c}}).withConfig({componentId:"sc-c9e21436-2"})(p()),u=c(42962),v=c(47568),w=c(34051),x=c.n(w),y=c(1968),z=c(39755),A=c(14924),B=c(26042),C=c(13819),D=c(43947),E={feature:"ship_anywhere"};(q=d||(d={})).DATE_PICKER_MODAL="ShipAnywhereDatePickerModal";var F=function(a){var b={component:a.entryPoint},c={level:C.z.Info,message:a.message,contexts:(0,A.Z)({},"Ship Anywhere Context",(0,B.Z)({},b)),tags:E};return D.eN(c)},G=c(56517),H=c(79864),I=c(6701),J=c(28051),K=function(a){var b,c=a.onClose,i=a.onSaveDate,j=a.datePickerOptions,k=a.onError,l=j.initialDate,m=(0,e.Z)(g.useState(l),2),n=m[0],o=m[1],p=(0,e.Z)(g.useState(!1),2),q=p[0],r=p[1],s=g.useContext(J.q3).setLocalScheduledTime,t=["checkout"];(0,g.useEffect)(function(){(0,H.GJ)({isMerchantShipping:!0})},[]);var w=(b=(0,v.Z)(x().mark(function a(){var b;return x().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r(!0);try{b=(null==n?void 0:n.toISOString())||u.Kj,s(b),(0,z.DM)(t,{delivery_time:b}),i?i(b):c()}catch(e){k(),r(!1),F({message:null==e?void 0:e.message,entryPoint:d.DATE_PICKER_MODAL}),c()}case 2:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)}),A=function(){(0,H.fN)({isMerchantShipping:!0}),c()};return(0,f.jsx)(y.Modal,{title:G.e.shippingDatePickerModalTitle(),subtitle:G.e.shippingDatePickerModalSubtitle(),actionsFillContainer:!0,isFullScreenOnMobile:!0,hasCloseButton:!0,onClose:A,size:y.Modal.Sizes.Custom,customSize:{maxWidth:340},primaryAction:{text:G.e.shippingDatePickerModalPrimaryActionText(),onClick:w,buttonProps:{state:q?h.default.States.Loading:h.default.States.Default}},children:(0,f.jsx)(I.Z,{datePickerOptions:j,onSelectedDate:o,onError:k})})},L=c(11459),M=c(20688),N=c(3611),O=function(){var a=(0,u.ZP)(),b=a.timeOptions,c=a.selectedDeliveryOption,d=a.giftSchedulingInfo,l=a.datePickerOptions,m=a.setSelectedDeliveryOption,n=a.orderCart,o=a.setDeliveryOptionInfo,p=a.setSelectedTimeOption,q=a.merchantShippingDetails,v=(0,i.pm)().displayToast,w=d.isGiftRecipientScheduling,x=(0,e.Z)(g.useState(!1),2),y=x[0],z=x[1],A=function(a){z(!1);var b=a?L.n5.SCHEDULE:L.n5.STANDARD;m(b),o((0,J.xS)(n,{contextDeliveryTime:a||"ASAP",contextSelectedDeliveryOption:b}))},B=function(){v({text:G.e.shippingCheckoutScheduleError(),duration:i.VW.Durations.Medium})};return(0,f.jsxs)(r,{"data-testid":N.Z.deliveryDatePanel,"aria-labelledby":J.mo,role:"radiogroup",children:[b.map(function(a){var b=(0,J.tk)(c,a,w),d=(0,J.ib)(a),e=(0,J.co)(a,d,b,y),g=!!a.optionSubtitle,i=null==q?void 0:q.shortDeliveryNote;return(0,f.jsxs)(s,{children:[(0,f.jsx)(J.BG,{children:(0,f.jsx)(j.ZP,{"data-anchor-id":"".concat(M.Pt.orderTimePickerToggle,"-").concat(a.deliveryOptionType),type:j.ZP.Types.Radio,isSelected:b,isDisabled:d,label:a.optionTitle||"",onChange:function(){p(a,function(){z(!0)})},renderLabel:function(b){var c=b.htmlFor;return(0,f.jsx)("label",{htmlFor:c,children:(0,f.jsxs)(k.Stack,{size:k.Stack.Sizes.None,children:[(0,f.jsxs)(t,{isDisabled:d,color:k.Text.Colors.TextPrimary,children:[a.optionTitle,g&&" \xb7 ".concat(a.optionSubtitle),a.optionQuoteMessage&&" \xb7 ".concat(a.optionQuoteMessage)]}),i&&a.deliveryOptionType===L.n5.STANDARD&&(0,f.jsx)(t,{isDisabled:d,color:k.Text.Colors.TextSecondary,children:i})]})})}})}),e&&(0,f.jsx)(h.IconButton,{accessibilityLabel:J.tX.scheduleForLaterLabel(),iconType:k.Icon.Types.EditLine,onClick:function(){return z(!0)}})]},a.deliveryOptionType)}),y&&(0,f.jsx)(K,{onClose:function(){z(!1)},onSaveDate:A,datePickerOptions:l,onError:B})]})}},20290:function(a,b,c){c.d(b,{At:function(){return y.Z},qE:function(){return w},Rv:function(){return k},hK:function(){return x.Z},rY:function(){return B}});var d=c(10253),e=c(85893),f=c(67294),g=c(33016),h=c(10071),i=c(28051),j=c(56517),k=function(a){var b=a.addressEntryPoint,c=(0,d.Z)(f.useState(!1),2),k=c[0],l=c[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.ZP,{body:(0,e.jsx)(h.Text,{styles:h.Text.Styles.Medium14,color:h.Text.Colors.TextSecondary,children:j.e.shippingAddressWarning()}),variant:g.ZP.Variants.Warning,primaryAction:{onClick:function(){l(!0)},content:j.e.addAddress()}}),k&&(0,e.jsx)(i.mD,{addressEntryPoint:void 0===b?"Common/ShipAnywhere/CheckoutCommon/ShippingAddressWarning":b,onClose:function(){return l(!1)},customizations:{hideAdjustPin:!0},title:j.e.enterShippingAddress()})]})},l=c(3751),m=c(98571),n=c(70179),o=c(20306),p=c(25314),q=c(2886),r=c(7297),s=c(87379);function t(){var a=(0,r.Z)(["\n  margin: -","px -","px -","px;\n"]);return t=function(){return a},a}var u=s.default.div.withConfig({componentId:"sc-adc5d19f-0"})(t(),h.Spacing.XxSmall,h.Spacing.Small,h.Spacing.Small),v="Common/ShipAnywhere/CheckoutCommon/ShipAnywhereAddressInput",w=function(a){var b=a.label,c=void 0===b?j.e.enterShippingAddressAutoCompleteLabel():b,d=a.isLabelHidden,g=void 0!==d&&d,h=f.useContext(q.Uu).consumer,i=(0,o.Z)().isAddressLabelEnabled,k=(0,n.Z)(),r=k.showSignInSignUpModal,s=k.setShowSignInSignUpModal,t=k.onIdentityLinkClick;return r?(0,e.jsx)(m.Z,{setShowSignInSignUpModal:s,onClose:function(){return s(!1)}}):(0,e.jsx)(u,{children:i?(0,e.jsx)(l.Z,{addressEntryPoint:v,autocompleteLabel:c,hideAutoCompleteLabel:g,refetchQueries:["checkout"],hideAdjustPin:!0,disableAddressValidation:!1,onIdentityLinkClick:t}):(0,e.jsx)(p.AddressPickerConnected,{addressAutocompleteLabel:c,addressEntryPoint:v,consumer:h,customizations:{hideAdjustPin:!0,renderAddressEditFormInModal:!0,renderAutocompleteSuggestionsInAnchoredLayer:!0,hideAutoCompleteLabel:g},hideAddressList:!0,refetchQueries:["checkout"],handleIdentityLinkClick:t})})},x=c(1846),y=c(94287),z=c(33574),A=c(23685),B=function(){var a=(0,d.Z)(f.useState(!1),2),b=a[0],c=a[1],e=(0,i.Gc)(),g=e.recipientShippingDetails,h=g.recipientFamilyName,j=g.recipientGivenName,k=e.set,l=j||"",m=h||"",n=A.default.getCurrentLocale(),o=(0,z.getLocalizedNames)({familyName:m,givenName:l},n).formalName;return{givenName:l,familyName:m,recipientName:o,showChangeRecipientNameModal:b,setFormContextValue:k,setShowChangeRecipientNameModal:c}}},42962:function(a,b,c){c.d(b,{Kj:function(){return y},ZP:function(){return C}});var d=c(47568),e=c(26042),f=c(69396),g=c(10253),h=c(29815),i=c(34051),j=c.n(i),k=c(28051),l=c(67294),m=c(11459),n=c(2886),o=c(33574),p=c(26528),q=c(52281),r=c(80008),s=c.n(r),t=c(41264),u=c(56517),v=function(a){var b,c,d=null==a?void 0:null===(b=a.times)||void 0===b?void 0:null===(c=b[0])||void 0===c?void 0:c.timestamp;return new Date(d)},w=function(a,b){return s()(a.toISOString()).tz(b).format("YYYY-MM-DD")},x=function(a,b){var c=v(a);return w(c,b)},y="ASAP",z=function(a,b){if(a===y)return{isScheduledDateAvailableForOrder:!1};var c,d=(0,t.EP)(null==b?void 0:b.timezone),e=w(new Date(a),d),f=(null==b?void 0:b.days)&&(null==b?void 0:b.days.find(function(a){return x(a,d)===e})),g=null==f?void 0:null===(c=f.times)||void 0===c?void 0:c[0];return{isScheduledDateAvailableForOrder:Boolean(!!f&&g),orderTime:g}},A=function(a){var b=a.isScheduledDateAvailableForOrder,c=a.orderTime,d=a.timeZone;if(b&&c){var f=d||s().tz.guess(),g=new Date(null==c?void 0:c.timestamp),h=c.display,i=(0,p.zA)(g,{timeZone:f,month:o.IntlDateFormatOptions.NUMERIC,day:o.IntlDateFormatOptions.NUMERIC}),j=(0,p.zA)(g,(0,e.Z)({timeZone:f},o.DefaultDateTimeFormat.DAY_OF_WEEK_MONTH_DATE_SHORT.value));return{etaMinutesRange:i,optionSubtitle:j,optionQuoteMessage:h}}return{etaMinutesRange:void 0,optionSubtitle:void 0,optionQuoteMessage:void 0}},B=function(a){if(a){var b=(0,g.Z)(a.split("\xb7").map(function(a){return a.trim()}),2),c=b[0],d=b[1];return{optionSubtitle:c,optionQuoteMessage:d}}return{optionSubtitle:void 0,optionQuoteMessage:a}},C=function(){var a,b=l.useContext(k.iB).orderCart,c=l.useContext(n.Uu).consumer,g=l.useContext(k.q3),i=g.localScheduledTime,o=g.setLocalScheduledTime,p=(0,k.FL)(),r=(0,k.Yr)(b),s=(0,k.lH)(b),t=p.selectedDeliveryOption,v=p.setSelectedDeliveryOption,w=p.setDeliveryOptionInfo,x=p.checkoutQueryScheduledTime,C=b.orderTimeAvailability,D=u.e.shippingCheckoutScheduleSubtitleDefault(),E=z(i,C),F=E.isScheduledDateAvailableForOrder,G=E.orderTime;if(t===m.n5.SCHEDULE&&i!==y){var H,I,J,K,L,M,N,O=A({isScheduledDateAvailableForOrder:F,orderTime:G,timeZone:null==C?void 0:C.timezone});J=null!==(L=O.etaMinutesRange)&&void 0!==L?L:void 0,D=null!==(M=O.optionSubtitle)&&void 0!==M?M:u.e.shippingCheckoutScheduleSubtitleDefault(),K=null!==(N=O.optionQuoteMessage)&&void 0!==N?N:void 0}l.useEffect(function(){F||t!==m.n5.SCHEDULE||(v(m.n5.STANDARD),w((0,k.xS)(b,{contextDeliveryTime:x,contextSelectedDeliveryOption:m.n5.STANDARD})))},[F,b,x,t,w,v,]);var P=B(b.asapDeliveryOverrideSubtitle),Q=[{deliveryOptionType:m.n5.STANDARD,optionTitle:b.asapDeliveryOverrideTitle,optionSubtitle:P.optionSubtitle,isScheduleDelivery:!0,isAvailable:r,etaMinutesRange:b.merchantShippingDayRangeString,optionQuoteMessage:P.optionQuoteMessage},{deliveryOptionType:m.n5.SCHEDULE,optionTitle:k.tX.scheduleForLater(),isScheduleDelivery:!0,isAvailable:s,optionSubtitle:D,etaMinutesRange:J,optionQuoteMessage:K},],R=(0,k.u8)(b);(H=Q).splice.apply(H,[1,0].concat((0,h.Z)(R)));var S,T=null!==(a=null===(I=Q.find(function(a){return a.deliveryOptionType===t}))||void 0===I?void 0:I.etaMinutesRange)&&void 0!==a?a:"",U=i===y?void 0:new Date(i),V=(0,q.Z)({orderTimeAvailability:C,initialDate:U}),W=p.giftSchedulingInfo,X=W.isGiftRecipientScheduling,Y=W.removeShouldRecipientScheduleGift,Z=p.orderCartId,$=(S=(0,d.Z)(j().mark(function a(b,d){var e,f,g,h,i,l;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=b.deliveryOptionType,a.t0=e,a.next=a.t0===m.n5.SCHEDULE?4:a.t0===m.n5.STANDARD?6:10;break;case 4:return d(),a.abrupt("break",16);case 6:return o(y),v(e),X&&Y(),a.abrupt("break",16);case 10:return v(e),X&&Y(),(0,k.W8)({store_id:null!==(g=p.restaurantId)&&void 0!==g?g:"",order_cart_id:Z,consumer_id:null!==(h=c.id)&&void 0!==h?h:"",address_id:null!==(i=null===(f=c.defaultAddress)||void 0===f?void 0:f.id)&&void 0!==i?i:"",delivery_option:e,ETA:null!==(l=b.etaMinutesRange)&&void 0!==l?l:""}),a.abrupt("break",16);case 16:(0,k.UH)({optionName:e,isMerchantShipping:!0,orderCartId:Z});case 17:case"end":return a.stop()}},a)})),function(a,b){return S.apply(this,arguments)});return(0,f.Z)((0,e.Z)({},p),{timeOptions:Q,timeCellTimeRange:T,setSelectedTimeOption:$,merchantShippingDayRangeString:b.merchantShippingDayRangeString,merchantShippingDetails:b.merchantShippingDetails,datePickerOptions:V})}},3611:function(a,b){b.Z={infoBannerButton:"shipAnywhereInfoBanner_infoButton",infoBannerPopup:"shipAnywhereInfoBanner_popupModal",shipAnywhereCheckoutV1:"shipAnywhereCheckout_v1",shippingToPanel:"shipAnywhereCheckout_shippingToPanel",addEditChangeRecipientBtn:"shipAnywhereCheckout_addEditChangeRecipientBtn",addEditAddressBtn:"shipAnywhereCheckout_addEditAddressBtn",deliveryDatePanel:"shipAnywhereCheckout_deliveryDatePanel",changeRecipientNameModal:"shipAnywhereCheckout_changeRecipientNameModal",checkoutFulfillmentDetails:"shipAnywhereCheckout_fulfillmentDetails",checkoutFulfillmentDetailsNameCell:"shipAnywhereCheckout_fulfillmentDetailsNameCell",checkoutFulfillmentDetailsAddressCell:"shipAnywhereCheckout_fulfillmentDetailsAddressCell",checkoutFulfillmentDetailsDeliveryCell:"shipAnywhereCheckout_fulfillmentDetailsDeliveryCell",itemPageModalV2:{itemBody:"shipAnywhereItemPageModalV2_itemBody",itemDetails:"shipAnywhereItemPageModalV2_itemDetails",imageCarouselButton:"shipAnywhereItemPageModalV2_imageCarouselBtn"},addressValidationBanner:"shipAnywhereCheckout_addressValidationBanner"}},72934:function(a,b,c){c.d(b,{GR:function(){return m},"_$":function(){return n},xe:function(){return o}});var d=c(70573),e=c(10395),f=c(47715),g=c(93942),h=c(90824),i=c(24401),j=c(67294),k=c(80163),l=function(){var a,b,c=j.useContext(k.iB).orderCart;return null!==(b=null==c?void 0:null===(a=c.orders)||void 0===a?void 0:a.some(function(a){var b;return null==a?void 0:null===(b=a.orderItems)||void 0===b?void 0:b.some(function(a){var b,c;return null==a?void 0:null===(b=a.item)||void 0===b?void 0:null===(c=b.itemTagsList)||void 0===c?void 0:c.some(function(a){return(null==a?void 0:a.tagType)===1})})}))&&void 0!==b&&b},m=function(){var a,b=(0,i.ZP)(e.P$.enableSnapEbt),c=(0,h.e)(),d=!!(null==c?void 0:null===(a=c.v2)||void 0===a?void 0:a.ebtConfig);return b&&d},n=function(a){var b=l();return!!m()&&(g.Uj.has(a)?b:a===g.CZ.ACCOUNT_PAYMENT)},o=function(){return(0,d.useDVSString)(f.PR.snapEbtFiservPinPadUrl,"https://pinpad.paysecure.acculynk.net/")}},56751:function(a,b,c){c.d(b,{R:function(){return d}});var d=function(a){var b,c;return"bundleStore"in a&&(null===(b=a.bundleStore)||void 0===b?void 0:b.isPrimary)===!1&&!!(null===(c=a.bundleStore)||void 0===c?void 0:c.name)}},30915:function(a,b){var c=function(a,b){a.forEach(function(a){var d,e,f;null!=(d=a).options?(b.push(a.itemExtraOption.name),c(a.options,b)):((null===(e=a.itemExtraOption)||void 0===e?void 0:null===(f=e.name)||void 0===f?void 0:f.value)&&b.push(a.itemExtraOption.name.value),a.optionsList&&c(a.optionsList,b))})},d=function(a){return a.flatMap(function(a){var b,d=(null==a?void 0:a.name)?[a.name]:[],e=JSON.parse(null!==(b=null==a?void 0:a.nestedOptions)&&void 0!==b?b:"[]");return c(e,d),d}).join(", ")};b.Z=d},11595:function(a,b,c){c.d(b,{E:function(){return f}});var d=c(85893);c(67294);var e=c(10071),f=function(){return(0,d.jsx)(e.Text,{styles:e.Text.Styles.SectionSubtext,children:"•"})}},61867:function(a,b,c){var d=c(85893),e=c(67294),f=c(24906),g=c(20688),h=c(67378),i=c(65999),j=c(47715),k=c(70573),l=function(a){var b=a.dashpassUpsell,c=a.showModal,l=a.paymentDisabled,m=a.stickyUpsell,n=void 0!==m&&m,o=(0,k.useDVSBoolean)(j.PR.cxWebDashPassUpsellCheckboxInteraction,!1);return e.useEffect(function(){o&&n&&(0,h.oq)(b)&&c()},[b,o,c,n,]),(0,d.jsx)(f.default,{"data-anchor-id":g.Pt.dashpassCheckoutUpsellButton,"data-testid":g.Pt.dashpassCheckoutUpsellButton,type:f.default.Types.PrimaryPill,isDisabled:l,onClick:c,children:(0,h.Wb)(b)?i.Z.placeOrderAndResumeDashPass():i.Z.placeOrder()})};b.Z=l},19823:function(a,b,c){var d=c(14924),e=c(85893),f=c(10071);c(67294);var g=c(23685),h=c(7634),i=c(78479),j=c(81339),k=c(33574),l=function(a){var b,c=(b={},(0,d.Z)(b,g.SUPPORTED_LOCALES.en_us.code,"en_US"),(0,d.Z)(b,g.SUPPORTED_LOCALES.en_au.code,"en_AU"),(0,d.Z)(b,g.SUPPORTED_LOCALES.en_ca.code,"en_CA"),(0,d.Z)(b,g.SUPPORTED_LOCALES.es_us.code,"es_US"),(0,d.Z)(b,g.SUPPORTED_LOCALES.fr_ca.code,"fr_CA"),(0,d.Z)(b,"default","en_US"),b);return c[a]||c.default},m=function(a){var b=a.termsAndConditions,c=a.leftAlign,d=a.isPlansTopSectionWithImage;return(0,e.jsx)(i.yp,{styles:f.Text.Styles.ListRowSubtext,color:d?f.Text.Colors.SystemWhite:f.Text.Colors.TextTertiary,children:b.map(function(a,b){var d=g.default.getCurrentLocale();switch(a.type){case"string":if(d!==k.Locale.JA_JP&&d!==k.Locale.EN){var i=" ";return i.concat(a.value).concat(i)}return a.value;case"hyperlink":var m,n=null===(m=a.url)||void 0===m?void 0:m.replace("doordash://","https://doordash.com/"),o="?language=".concat(l(d)),p=(0,j.M)(n||"",d);return(0,e.jsx)(h.Co,{to:(null==p?void 0:p.concat(o))||"",openInNewTab:!0,children:(0,e.jsx)(f.Text,{textAlign:c?f.Text.TextAlignments.Left:f.Text.TextAlignments.Center,styles:f.Text.Styles.Caption2,display:f.Text.DisplayModes.Inline,size:f.Text.Sizes.S12,weight:f.Text.Weights.Medium,children:a.value})},b);default:return null}})})};b.Z=m},99375:function(a,b,c){c.d(b,{G:function(){return e}});var d=c(23685),e={noPaymentError:{title:function(){return d.default.t("dashPassStrings_nopayment_title")},desc:function(){return d.default.t("dashPassStrings_nopayment_desc")}},subscribeError:{title:function(){return d.default.t("dashPassStrings_subscribe_error_title")},desc:function(){return d.default.t("dashPassStrings_subscribe_error_desc")}},addPayment:{title:function(){return d.default.t("paymentPage_payment_methods_add_payment")}},ineligibleSubmarketError:{title:function(){return d.default.t("dashPassStrings_ineligible_submarket_error_title")},desc:function(){return d.default.t("dashPassStrings_ineligible_submarket_error_desc")}}}},41272:function(a,b,c){c.d(b,{Z:function(){return l}});var d=c(85893);c(67294);var e=c(10071),f=c(25650),g=c(7297),h=c(87379);function i(){var a=(0,g.Z)(["\n  width: 100%;\n  padding: ","px;\n  padding-left: ","px;\n  padding-right: ","px;\n  cursor: pointer;\n  border-top: solid thin ",";\n  border-bottom: solid thin ",";\n  background-color: ",";\n  margin-bottom: ","px;\n  cursor: ",";\n"]);return i=function(){return a},a}var j=h.default.div.withConfig({componentId:"sc-83de8f6-0"})(i(),e.Spacing.XSmall,e.Spacing.XxxSmall,e.Spacing.XxxSmall,e.Colors.SystemGrey5,e.Colors.SystemGrey5,e.Colors.SystemWhite,e.Spacing.Small,function(a){return a.readOnly?"text":"grab"}),k=c(99375),l=function(a){var b,c,g,h,i,l=a.paymentMethod,m=a.subscriptionPaymentMethod,n=a.billingInfo,o=a.onClickPaymentTile,p=a.readOnly,q=null!==(c=null!==(b=null==l?void 0:l.type)&&void 0!==b?b:null==m?void 0:m.type)&&void 0!==c?c:null,r=null!==(h=null!==(g=null==l?void 0:l.last4)&&void 0!==g?g:null==m?void 0:m.last4)&&void 0!==h?h:null,s=q&&r?"".concat((i=q).charAt(0).toUpperCase()+i.slice(1)," ... ").concat(r):k.G.addPayment.title();return p?(0,d.jsx)(j,{"data-testid":"payment-card-wrapper",readOnly:!0,children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(f.A,{iconKey:null!=l?l:m}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium16,children:s})]})}):(0,d.jsx)(j,{"data-testid":"payment-card-wrapper",onClick:o,children:(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XSmall,alignItems:e.InlineChildren.Alignment.Center,justifyContent:e.InlineChildren.Justification.SpaceBetween,children:[(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(f.A,{iconKey:null!=l?l:m}),(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium16,children:s})]}),(0,d.jsxs)(e.InlineChildren,{size:e.InlineChildren.Sizes.XxSmall,alignItems:e.InlineChildren.Alignment.Center,children:[(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium14,children:null!=n?n:""}),(0,d.jsx)(e.Icon,{type:e.Icon.Types.ChevronRight,color:e.Colors.SystemBlack,size:e.Icon.Sizes.Medium})]})]})})}},75435:function(a,b,c){c.d(b,{S:function(){return d}});var d,e,f=c(10253),g=c(85893),h=c(67294),i=c(85082),j=c(36823),k=c(16935);(e=d||(d={})).ADD_PAYMENT="addPayment",e.CHANGE_PAYMENT="changePayment";var l=function(a){var b=a.entryPoint,c=a.defaultPayment,e=a.paymentCards,l=a.paymentConfig,m=a.consumerStripeKey,n=a.currentPaymentModal,o=a.onClickClosePaymentModal,p=a.showPartnerPlanModal,q=(0,f.Z)(h.useState(!1),2),r=q[0],s=q[1];return h.useEffect(function(){(function(a,b){if(a){var c=a.find(function(a){return a.isDefault});if(c&&"link_created"===c.cardBenefitMembershipLinkStatus&&b)return p&&p(!0),s(!1),!0}s(!1)})(e,r),s(!1)},[e,r,p]),function(){switch(n){case d.CHANGE_PAYMENT:return c&&l?(0,g.jsx)(i.Z,{entryPoint:b,consumerStripeKey:null!=m?m:"",consumerPaymentCards:e||[],paymentConfig:l,onClose:function(){s(!0),o()},onBack:function(){s(!0),o()},supportedAddablePaymentMethods:k.uN,onAddCardSuccess:function(){s(!0)}}):null;case d.ADD_PAYMENT:return l?(0,g.jsx)(j.Z,{entryPoint:b,consumerStripeKey:null!=m?m:"",paymentConfig:l,onCancel:o,onClose:o}):null;default:return null}}()};b.Z=l},20639:function(a,b,c){c.d(b,{X:function(){return i}});var d=c(10253),e=c(85893),f=c(67294),g=c(24401),h=f.createContext({}),i=function(a){var b=a.orderCart,c=a.children,i=(0,d.Z)(f.useState(!1),2),j=i[0],k=i[1],l=(0,d.Z)(f.useState(!1),2),m=l[0],n=l[1],o=(0,d.Z)(f.useState(!0),2),p=o[0],q=o[1],r=(0,d.Z)(f.useState(!1),2),s=r[0],t=r[1],u=(0,d.Z)(f.useState(!1),2),v=u[0],w=u[1],x=(0,g.ZP)(g.P$.cxWebPadSuperSave);return f.useEffect(function(){x&&(null==b?void 0:b.supersaveUpsell)&&(t(!0),q(!1))},[x,null==b?void 0:b.supersaveUpsell,q,t,]),(0,e.jsx)(h.Provider,{value:{userResumed:j,setUserResumed:k,defaultUpsellToggle:m,setDefaultUpsellToggle:n,isDashPassUpsellVisible:p,setIsDashPassUpsellVisible:q,isSuperSaveUpsellVisible:s,setIsSuperSaveUpsellVisible:t,isSuperSaveUpsellOn:v,setIsSuperSaveUpsellOn:w,isWebPadSuperSaveEnabled:x},children:c})};b.Z=h},66930:function(a,b,c){c.d(b,{z1:function(){return m}});var d=c(7297),e=c(85893),f=c(70774),g=c(44119),h=c.n(g),i=c(67294),j=c(48608),k=c(92718);function l(){var a=(0,d.Z)(["\n  query dashPass($isAnnualPlanExperimentActive: Boolean) {\n    consumerSubscriptionPlansExtended(\n      allowAnnualPlans: $isAnnualPlanExperimentActive\n    ) {\n      id\n      isSubscriptionTrialEligible\n      isCorporatePlan\n      isAnnualPlan\n      trialInfo {\n        trialId\n        trialIntervalType\n        trialIntervalUnits\n        trialConsentText\n      }\n      marketingInfoOverride {\n        title\n        subtitle\n      }\n      marketingInfo {\n        title\n        subtitle\n        subscriptionSignupTitle\n        subscriptionSignupCta\n        description\n        features {\n          title\n          subtitle\n          imageUrl\n          popularStoreList {\n            imageUrl\n          }\n        }\n      }\n      billingDetails {\n        title\n        description\n      }\n      termsAndConditions {\n        type\n        value\n        url\n      }\n      numEligibleStores\n      incentive {\n        minimumSubtotal {\n          displayString\n          unitAmount\n        }\n        serviceRate\n      }\n      tileData {\n        header\n        title\n        subtitle\n        billingPeriod\n        discountInfo {\n          billingText\n        }\n        creditInfo\n      }\n      fee {\n        displayString\n        unitAmount\n      }\n    }\n  }\n"]);return l=function(){return a},a}var m=h()(l()),n=i.createContext({consumerStripeKey:"",consumerPaymentCards:[],consumerPaymentConfig:null,consumerSubscriptionPlansExtended:[],loading:!1,error:void 0,refetch:function(){}}),o=function(a){var b=a.children,c=a.isAnnualPlanExperimentActive,d=(0,j.Ni)().data;return(0,e.jsx)(f.AE,{query:k.z1,fetchPolicy:"cache-first",variables:{isAnnualPlanExperimentActive:c},children:function(a){var c,f,g,h,i={consumerStripeKey:null!==(f=null==d?void 0:d.consumerStripeKey)&&void 0!==f?f:"",consumerPaymentCards:null!==(g=null==d?void 0:d.paymentCards)&&void 0!==g?g:[],consumerPaymentConfig:null==d?void 0:d.paymentConfig,consumerSubscriptionPlansExtended:null!==(h=null===(c=a.data)||void 0===c?void 0:c.consumerSubscriptionPlansExtended)&&void 0!==h?h:[],loading:a.loading,error:a.error,refetch:a.refetch};return(0,e.jsx)(n.Provider,{value:i,children:b(i)})}})};b.ZP=o},92718:function(a,b,c){c.d(b,{DM:function(){return l},z1:function(){return j}});var d=c(26042),e=c(7297),f=c(93999),g=c(44119),h=c.n(g);function i(){var a=(0,e.Z)(["\n  query dashPassV2(\n    $isAnnualPlanExperimentActive: Boolean\n    $entryPoint: String\n  ) {\n    consumerSubscriptionPlansExtended(\n      allowPartnerPlans: true\n      allowAnnualPlans: $isAnnualPlanExperimentActive\n      entryPoint: $entryPoint\n    ) {\n      id\n      isSubscriptionTrialEligible\n      isCorporatePlan\n      isAnnualPlan\n      isPartnerPlan\n      calloutInfo {\n        locationOnApp\n        imageUrl\n        description\n        title\n      }\n      marketingInfoOverride {\n        title\n        subtitle\n      }\n      partnerCard {\n        stripeId\n        displayName\n        partnerName\n        last4\n      }\n      trialInfo {\n        trialId\n        trialIntervalType\n        trialIntervalUnits\n        trialConsentText\n      }\n      marketingInfo {\n        title\n        subtitle\n        subscriptionSignupTitle\n        subscriptionSignupCta\n        description\n        features {\n          title\n          subtitle\n          imageUrl\n          popularStoreList {\n            imageUrl\n          }\n        }\n      }\n      billingDetails {\n        title\n        description\n      }\n      termsAndConditions {\n        type\n        value\n        url\n      }\n      numEligibleStores\n      incentive {\n        minimumSubtotal {\n          displayString\n          unitAmount\n        }\n        serviceRate\n      }\n      tileData {\n        header\n        title\n        subtitle\n        billingPeriod\n        discountInfo {\n          billingText\n        }\n        creditInfo\n      }\n      calloutActionsList {\n        label\n        type\n        actionDisplayType\n        actionParametersList {\n          value\n          key\n        }\n        screen {\n          screenDisplayType\n          screenIdentifier\n          sectionsList {\n            type\n            contentList\n            action {\n              label\n              type\n              actionDisplayType\n              actionParametersList {\n                key\n                value\n              }\n            }\n          }\n          actionsList {\n            label\n            type\n            actionDisplayType\n            actionParametersList {\n              key\n              value\n            }\n          }\n        }\n      }\n      upsellDetails {\n        checkboxTitle\n        checkboxSubtitle\n        checkboxTermsAndConditions {\n          type\n          value\n          url\n        }\n        upsellType\n        upsellLocation\n        upsellConfirmation {\n          title\n          headerBadge\n          termsAndConditions {\n            type\n            value\n            url\n          }\n          descriptionList {\n            type\n            text\n            badgeUrl\n          }\n          actionsList {\n            label\n            type\n            parametersList {\n              value\n              key\n            }\n          }\n          billingInfo\n          accessoryType\n          paymentStyleType\n        }\n      }\n      fee {\n        displayString\n        unitAmount\n      }\n    }\n  }\n"]);return i=function(){return a},a}var j=h()(i()),k=function(a){return(0,f.useQuery)(j,(0,d.Z)({fetchPolicy:"cache-first"},a))},l=function(a){return(0,f.useLazyQuery)(j,(0,d.Z)({fetchPolicy:"cache-and-network"},a))};b.ZP=k},18107:function(a,b,c){c.d(b,{C:function(){return e.Z},e:function(){return d.ZP}});var d=c(66930),e=c(84583)},3903:function(a,b,c){c.d(b,{Z:function(){return ad},p:function(){return ac}});var d=c(47568),e=c(14924),f=c(26042),g=c(69396),h=c(99534),i=c(10253),j=c(34051),k=c.n(j),l=c(85893),m=c(24906),n=c(1968),o=c(10071),p=c(67294),q=c(86660),r=c(48608),s=c(93193),t=c(19823),u=c(45937),v=c(18107),w=c(92718),x=c(7634),y=c(7297),z=c(87379);function A(){var a=(0,y.Z)(["\n  margin-top: 16px;\n"]);return A=function(){return a},a}function B(){var a=(0,y.Z)(["\n  padding-bottom: ","px;\n  ",";\n  ","\n  ","\n  ","\n"]);return B=function(){return a},a}function C(){var a=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n"]);return C=function(){return a},a}function D(){var a=(0,y.Z)(["\n  margin-top: ","px !important;\n"]);return D=function(){return a},a}function E(){var a=(0,y.Z)(["\n  margin-top: ","px;\n"]);return E=function(){return a},a}var F=(0,z.default)(m.default).withConfig({componentId:"sc-dd4b77cb-0"})(A()),G=(0,z.default)(o.Text).attrs(function(){return{styles:o.Text.Styles.Body1}}).withConfig({componentId:"sc-dd4b77cb-1"})(B(),o.Spacing.Small,function(a){return!a.isMobileTablet&&"border-bottom: solid thin ".concat(o.Colors.SystemGrey5)},function(a){return a.isMobileTablet&&"display: flex;"},function(a){return a.isMobileTablet&&"flex-direction: column;"},function(a){return a.isMobileTablet&&"margin: 0 auto;"}),H=z.default.div.withConfig({componentId:"sc-dd4b77cb-2"})(C()),I=(0,z.default)(o.InlineChildren).attrs(function(){return{justifyContent:o.InlineChildren.Justification.FlexEnd}}).withConfig({componentId:"sc-dd4b77cb-3"})(D(),o.Spacing.Small),J=z.default.div.withConfig({componentId:"sc-dd4b77cb-4"})(E(),o.Spacing.XxSmall),K=c(41272),L=c(75435),M=c(16123),N=c(70114),O=c(64173),P=c(13646),Q=c(93999),R=c(20639),S=c(11698),T=c(2886),U=c(11153),V=c(69965),W=c(70131),X=function(a){var b=a.isMobileTablet,c=a.onlyBackActionExists,d=a.onClick,e=a.label,f=a.setModalCustomSize,g=(0,W.YD)({threshold:.9,trackVisibility:!0,delay:500}),h=g.ref,i=g.inView;return p.useEffect(function(){var a=setTimeout(function(){i||f(680)},250);return function(){return clearTimeout(a)}},[i,f]),(0,l.jsx)(m.default,{isInline:!b,type:c?m.default.Types.PrimaryPill:m.default.Types.FlatSecondary,onClick:d,children:(0,l.jsx)("div",{style:{paddingLeft:10,paddingRight:10},ref:h,children:e})})},Y=c(16225),Z=c(47642),$=c(74422),_=c(99266),aa=c(12691),ab=c(93942),ac=function(a,b){if(a)switch(a.type){case O.qR.PLAIN_TEXT:return(0,l.jsxs)(o.Text,{styles:o.Text.Styles.Medium16,color:o.Text.Colors.TextPrimary,children:[a.text,a.descriptionList&&a.descriptionList.map(function(b){return ac(b,Boolean(a.text))})]});case O.qR.UPSELL_PLAIN_TEXT:return(0,l.jsxs)(o.Text,{styles:o.Text.Styles.Medium16,color:o.Text.Colors.TextPrimary,children:[a.text,a.descriptionList&&a.descriptionList.map(function(b){return ac(b,Boolean(a.text))})]});case O.qR.LIST_ITEM:return(0,l.jsx)(o.Text,{styles:o.Text.Styles.Medium16,color:o.Text.Colors.TextPrimary,children:s.Z.listItem(a.text)})}},ad=function(a){var b=a.onClose,c=a.uncheckUpsell,j=a.consumerPaymentCards,y=a.refetch,z=a.setResumedDashPass,A=a.setIsNewDashPassTrial,B=a.setIsNewDashPassPlan,C=a.setIsNewAnnualPlan,D=a.setDashPassModalError,E=a.setDashPassSuccessMessage,W=a.setIsDashPassUpsellVisible,ad=a.refundAmount,ae=a.dashpassUpsell,af=a.upsellBannerActionDetails,ag=a.backToMenuLink,ah=a.defaultPayment,ai=a.paymentConfig,aj=a.consumerStripeKey,ak=a.children,al=a.orderCartUpsellDetails,am=a.discountDetails,an=(0,Q.useApolloClient)(),ao=(0,aa.tv)().push,ap=p.useContext(R.Z).setUserResumed,aq=(0,T.RN)().consumer,ar=(0,w.ZP)({variables:{isAnnualPlanExperimentActive:!0}}).data,as=(0,S.ac)().isMobileTablet,at=(0,i.Z)(p.useState(!1),2),au=at[0],av=at[1],aw=(0,i.Z)(p.useState(""),2),ax=aw[0],ay=aw[1],az=(0,i.Z)(p.useState(!1),2),aA=az[0],aB=az[1],aC=(0,i.Z)(p.useState(!1),2),aD=aC[0],aE=aC[1],aF=(0,_.bD)().isPartnerPlanActive,aG=(0,_.uV)(ae,al,af),aH=aG.subscriptionPaymentMethod,aI=aG.upsellDetails,aJ=aG.upsellConfirmation,aK=aG.upsellType,aL=aG.billingInfo,aM=aG.accessoryType,aN=aG.termsAndConditions,aO=aG.descriptionList,aP=(0,_.$U)({isPartnerPlanActive:aF,upsellType:aK}).isPartnerPlanExperimentEnabled,aQ=(0,i.Z)(p.useState(aP?660:560),2),aR=aQ[0],aS=aQ[1],aT=aP?r.Oh.CARD:(0,O.wr)(ah),aU=aP?null==aH?void 0:aH.stripeId:null==j?void 0:j[0].stripeId,aV=null==aq?void 0:null===(aY=aq.activeSubscription)||void 0===aY?void 0:aY.id,aW=function(){aB(!0),ay(ah?L.S.CHANGE_PAYMENT:L.S.ADD_PAYMENT)},aX=function(){ay(""),aB(!1)};if(ae||al){var aY,aZ,a$,a_,a0,a1=(0,$.ll)(null==aJ?void 0:aJ.actionsList),a2=a1.trialAction,a3=a1.resumeAndContinueAction,a4=a1.resumeAction,a5=a1.backAction,a6=a1.onlyBackActionExists,a7=a1.addItemsAction,a8=a1.findDpStoresAction,a9=a1.annualAction,ba=a1.dtpAction,bb=a1.transitionAction,bc=a1.learnMoreAction,bd=a1.learnMoreLink,be=a1.successMessage,bf=a1.trialId,bg=null==ar?void 0:ar.consumerSubscriptionPlansExtended[0],bh=bf?null===(a$=null==ar?void 0:null===(aZ=ar.consumerSubscriptionPlansExtended)||void 0===aZ?void 0:aZ.find(function(a){var b;return(null==a?void 0:null===(b=a.trialInfo)||void 0===b?void 0:b.trialId)===bf}))||void 0===a$?void 0:a$.id:null==bg?void 0:bg.id,bi=parseInt(null!=bh?bh:"-1",10),bj=function(){return(0,l.jsx)(x.ZP,{isInline:!as,type:m.default.Types.TertiaryPill,href:bd,onClick:function(){(0,u.pU)({eventName:O.W1.SUBCRIPTION_UPSELL_LEARN_MORE_CLICK,messageType:O.UX.ORDER_CART,upsellType:aK,upsellLocation:null==aI?void 0:aI.upsellLocation,email:aq.email||""})},children:null==bc?void 0:bc.label})},bk=function(){!au&&(b(),c&&c(),(a4||a3)&&y&&y(),(0,U.F9)(am)&&(0,U.r9)(aI,am))},bl=null==aO?void 0:aO.map(function(a){var b=ac(a);return(0,l.jsx)(p.Fragment,{children:b})}),bm=function(a,d){a?(W&&W(!1),b&&b()):(y&&y(),c&&c(),W&&W(!1),E&&E(be),d&&d(),b&&b())},bn=function(a){y&&y(),c&&c(),W&&W(!1),z&&z(a),D&&D(!0),b&&b()},bo=function(){if(a2||ba)return(0,l.jsx)(v.C,{stripeId:aU,planId:bi,trialId:bf,savingsValue:ad,messageType:O.UX.ORDER_CART,onSuccess:function(){return bm(!1,function(){a2&&A&&A(!0),ba&&B&&B(!0)})},isNewLandingPage:!1,onFailure:function(){return bn(!1)},upsellType:aK||"",paymentMethod:aT,children:function(a,b){var c;return av(b),(0,l.jsxs)(m.default,{"data-anchor-id":Y.F2.CheckoutModalSubscribe,isInline:!0,type:m.default.Types.PrimaryPill,size:as?m.default.Sizes.Large:m.default.Sizes.Medium,onClick:function(){(0,u.pU)({savingsValue:ad||"",eventName:O.W1.SUBSCRIPTION_PAGE_ACTION_PURCHASE,messageType:O.UX.ORDER_CART,upsellType:aK||"",upsellLocation:null==aI?void 0:aI.upsellLocation,email:aq.email||"",hasPaymentMethod:!!ah,paymentMethod:aT}),a()},state:b?m.default.States.Loading:m.default.States.Default,children:[a2&&(null!==(c=null==a2?void 0:a2.label)&&void 0!==c?c:s.Z.dashPassUpsellModal.confirm()),ba&&(null==ba?void 0:ba.label)]})}});if(a3)return(0,l.jsx)(q.Z,{isPausing:!1,onSuccess:function(){return bm(!0)},onFailure:function(){return bn(!0)},children:function(a,b,c){return av(b),p.cloneElement(ak,{submitContent:a3.label,preSubmit:(0,d.Z)(k().mark(function b(){var d;return k().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(0,u.gs)({planId:bh,email:aq.email||""}),a(),b.next=4,(0,P.Z)(an,q.A,{},15e3,2500,c);case 4:return ap(d=b.sent),(0,u.n4)({consumerId:aq.id,subscriptionId:aV,planId:bh,isSuccess:d,isResumeAndSubmitOrderFlow:!0}),b.abrupt("return",{shouldSubmitCart:d});case 8:case"end":return b.stop()}},b)})),isFixedOverride:as})}});if(a4)return(0,l.jsx)(q.Z,{isPausing:!1,onSuccess:function(){return bm(!1,function(){(0,u.n4)({consumerId:aq.id,subscriptionId:aV,planId:bh,isSuccess:!0,isResumeAndSubmitOrderFlow:!1}),z&&z(!0)})},onFailure:function(){(0,u.n4)({consumerId:aq.id,subscriptionId:aV,planId:bh,isSuccess:!1,isResumeAndSubmitOrderFlow:!1}),bn(!1)},children:function(a,b){return av(b),(0,l.jsx)(m.default,{isInline:!0,type:m.default.Types.PrimaryPill,onClick:function(){return a()},state:b?m.default.States.Loading:m.default.States.Default,children:null==a4?void 0:a4.label})}});if(a9)return(0,l.jsx)(v.C,{stripeId:aU,planId:bi,annualUpsell:!0,messageType:O.UX.ANNUAL_PLAN,onSuccess:function(){return bm(!1,function(){return C&&C(!0)})},isNewLandingPage:!1,onFailure:function(){},upsellType:aK||"",paymentMethod:aT,children:function(a,b){return av(b),(0,l.jsx)(m.default,{isInline:!0,type:m.default.Types.PrimaryPill,onClick:function(){(0,u.pU)({eventName:O.W1.SUBSCRIPTION_PAGE_ACTION_PURCHASE,messageType:O.UX.ORDER_CART,planId:bh,upsellType:aK||"",upsellLocation:null==aI?void 0:aI.upsellLocation,email:aq.email||"",paymentMethod:aT}),a()},state:b?m.default.States.Loading:m.default.States.Default,children:null==a9?void 0:a9.label})}});var a,b=function(a){var b=a.href,c=(0,h.Z)(a,["href"]);return(0,l.jsx)(x.Co,(0,g.Z)((0,f.Z)({},c),{to:null!=b?b:""}))};return a7?ag&&(0,l.jsx)(F,{isInline:!0,type:m.default.Types.PrimaryPill,size:m.default.Sizes.Small,tag:b,href:ag,onClick:function(){(0,U.U9)(aI,am)},children:a7.label}):a8?(0,l.jsx)(F,{isInline:!0,type:m.default.Types.PrimaryPill,size:m.default.Sizes.Small,onClick:function(){ao((0,N.LT)(M._j.home,void 0,(0,e.Z)({},"filterQuery-dashpass_eligible",!0)))},children:a8.label}):bb?(0,l.jsx)(Z.ri,{transitionPlanId:bb.parametersList&&(null===(a=bb.parametersList.find(function(a){return(null==a?void 0:a.key)===O.Sz.PLAN_ID}))||void 0===a?void 0:a.value),label:bb.label,onComplete:function(){return bm(!1,function(){return C&&C(!0)})}}):null};return(0,l.jsxs)(l.Fragment,{children:[!aA&&!aD&&(0,l.jsx)(n.Modal,{title:null!==(a_=null==aJ?void 0:aJ.title)&&void 0!==a_?a_:void 0,headerAlignment:n.Modal.HeaderAlignment.Left,actionsFillContainer:!0,shouldStackButtons:!0,hasCloseButton:!0,onClose:bk,size:n.Modal.Sizes.Custom,customSize:{maxWidth:aR},children:(0,l.jsxs)(o.StackChildren,{size:o.StackChildren.Sizes.Large,children:[bl,aM===O.rZ.PAYMENT_SELECTION&&(0,l.jsx)(K.Z,{paymentMethod:ah,billingInfo:aL,onClickPaymentTile:aW}),aP&&(0,l.jsx)(K.Z,{subscriptionPaymentMethod:aH,readOnly:!0}),aN&&(0,l.jsx)(t.Z,{termsAndConditions:aN}),(0,l.jsxs)(H,{children:[aM===O.rZ.ADDITIONAL_BILLING_INFO&&aL&&(0,l.jsx)(G,{isMobileTablet:as,children:aL}),as&&(0,l.jsxs)(l.Fragment,{children:[bo(),bc&&(0,l.jsx)(J,{children:bj()})]})]}),(0,l.jsxs)(I,{children:[(0,l.jsx)(X,{isMobileTablet:as,onlyBackActionExists:null!=a6&&a6,onClick:bk,label:null!==(a0=null==a5?void 0:a5.label)&&void 0!==a0?a0:s.Z.dashPassUpsellModal.dismissal(),setModalCustomSize:aS}),!as&&(0,l.jsxs)(l.Fragment,{children:[bc&&bj(),bo()]})]})]})}),ax&&(0,l.jsx)(L.Z,{entryPoint:ab.wp.DASHPASS_ANNUAL_PLAN_UPSELL,defaultPayment:ah,paymentCards:null!=j?j:[],paymentConfig:ai,consumerStripeKey:aj,currentPaymentModal:ax,onClickClosePaymentModal:aX,showPartnerPlanModal:aE}),aD&&(0,l.jsx)(V.Z,{entryPoint:"order_cart_upsell",onClose:function(){bm(!1,function(){return aE(!1)})}})]})}return null}},99266:function(a,b,c){c.d(b,{ve:function(){return t},bD:function(){return h},CB:function(){return k},"$U":function(){return j},uV:function(){return l}});var d=c(67294),e=c(70573),f=c(47715),g=c(24401),h=function(){var a=(0,d.useContext)(e.DVSClientContext),b=a.state,c=a.client,h=(0,g.ZP)(g.P$.cxWebDashpassPause),i=(0,g.ZP)(g.P$.cxWebDashPassDTPUpsell),j=(0,g.ZP)(g.P$.cxWebDashPassMembershipSharingV1),k=(0,e.useDVSBoolean)(f.PR.cxWebDashPassPartnerPlanUpsell,!1),l=(0,e.useDVSBoolean)(f.PR.cxWebDPEasyUnpauseUpsell,!1),m=(0,e.useDVSBoolean)(f.PR.cxWebSODP2022,!1),n=(0,e.useDVSBoolean)(f.PR.cxWebASDP2022,!1);return{dvState:b,dvClient:c,isPauseActive:h,isDTPActive:i,isPartnerPlanActive:k,isEasyUnPauseActive:l,isSODP:m,isASDP:n,isMembershipSharingEnabled:j}},i=c(64173),j=function(a){var b=a.isPauseActive,c=a.isResume,d=a.isDTPActive,e=a.isPartnerPlanActive,f=a.upsellType,g={resume:void 0!==b&&b&&void 0!==c&&c,annual:f===i.ky.ANNUAL,trial_to_annual:f===i.ky.TRIAL_TO_ANNUAL,trial_backend:f===i.ky.TRIAL,trial_client:f===i.ky.UNSPECIFIED,resurrected:f===i.ky.RESURRECTED_TRIAL,dtp:void 0!==d&&d&&f===i.ky.DTP,partner_plan:void 0!==e&&e&&f===i.ky.PARTNER_PLAN},h=g.resume||g.annual||g.trial_backend||g.resurrected||g.dtp||g.trial_to_annual||g.partner_plan,j=g.partner_plan;return{dashpassUpsellExperimentMap:g,isDashPassUpsellActive:h,isPartnerPlanExperimentEnabled:j}},k=function(a){var b,c,d,e,f,g,k,l=h(),m=l.isPauseActive,n=l.isDTPActive,o=l.isPartnerPlanActive,p=l.isEasyUnPauseActive,q=a.id,r=a.dashpassUpsell,s=a.eligibleSubscription,t=null==s?void 0:s.eligibleSubscriptionSavingDetails,u=null==r?void 0:null===(b=r.eligibleSubscriptionSavingDetails)||void 0===b?void 0:b.planDetails,v=null==t?void 0:null===(c=t.refundAmount)||void 0===c?void 0:c.displayString,w=null==t?void 0:t.recurrenceIntervalUnits,x=null==t?void 0:t.recurrenceIntervalType,y=null==t?void 0:null===(d=t.minimumSubtotal)||void 0===d?void 0:d.displayString,z=null===(e=a.eligibleSubscription)||void 0===e?void 0:e.shouldShowDashpass,A=null==t?void 0:null===(f=t.fee)||void 0===f?void 0:f.displayString,B=(null==t?void 0:null===(g=t.refundAmount)||void 0===g?void 0:g.unitAmount)||0,C=null==u?void 0:u.upsellDetails,D=null==C?void 0:C.upsellType,E=m&&(p&&D===i.ky.RESUME||D===i.ky.RESUME_AND_CONTINUE),F=null==C?void 0:null===(k=C.upsellConfirmation)||void 0===k?void 0:k.actionsList,G=null==F?void 0:F.find(function(a){return(null==a?void 0:a.type)===i.KW.TRANSITION_SUBSCRIPTION}),H=null==C?void 0:C.upsellLocation,I=null==C?void 0:C.upsellConfirmation,J=j({isPauseActive:m,isResume:E,isDTPActive:n,isPartnerPlanActive:o,upsellType:D}),K=J.dashpassUpsellExperimentMap,L=J.isDashPassUpsellActive;return{id:q,dashpassUpsell:r,refundAmountValue:v,recurrenceIntervalUnits:w,recurrenceIntervalType:x,minimumSubtotalValue:y,isEnabled:z,isResume:E,feeValue:A,refundUnitAmountValue:B,upsellType:D,transitionAction:G,upsellLocation:H,upsellConfirmation:I,dashpassUpsellExperimentMap:K,isDashPassUpsellActive:L,dynamicValues:{isPauseActive:m,isDTPActive:n,isPartnerPlanActive:o}}},l=function(a,b,c){var e=null==a?void 0:a.eligibleSubscriptionSavingDetails,f=(0,d.useMemo)(function(){var d,f,g=null!==(f=null==e?void 0:null===(d=e.planDetails)||void 0===d?void 0:d.upsellDetails)&&void 0!==f?f:b;return a&&(null==g?void 0:g.upsellType)===i.ky.UNSPECIFIED?c:g},[a,e,b,c,]),g=null==f?void 0:f.upsellType,h=null==f?void 0:f.upsellConfirmation,j=null==h?void 0:h.descriptionList,k=null==h?void 0:h.subscriptionPaymentMethod,l=null==h?void 0:h.billingInfo,m=null==h?void 0:h.accessoryType,n=null==h?void 0:h.termsAndConditions;return{eligibleSubscriptionSavingDetails:e,subscriptionPaymentMethod:k,upsellDetails:f,upsellConfirmation:h,upsellType:g,billingInfo:l,accessoryType:m,termsAndConditions:n,descriptionList:j}},m=c(26042),n=c(11459),o=c(16225),p=c(3532),q=c(26880),r=c(45937),s=c(74422),t=function(a){var b=a.router,c=a.landingPageType,d=a.trackingParams,e=c===n.vf.AMAZON_PRIME,f=(0,q.W4)({redirectBackAfterLogIn:!0,additionalParams:(0,m.Z)({},e&&{hidePromoBanner:!0})}),g=function(){b.replace(f)},h=function(){var a=o.gT.AMAZON_PRIME_SUCCESS_REDIRECT_URL;(0,p.ZP)(r.Ou.redirectToAmazon,(0,r.af)((0,m.Z)({destination:a},d))),b.replace(a)},i=function(){var a=o.gW.ClientServiceFailure,c=(0,s.TQ)({errorcode:a});(0,p.ZP)(r.Ou.redirectToAmazon,(0,r.af)((0,m.Z)({errorCode:a,destination:c},d))),b.replace(c)};return{loginUrl:f,isAmazonPrimeLandingPage:e,redirectToLoginPage:g,redirectToAmazonSuccessPage:h,redirectToAmazonErrorPage:i}}},12807:function(a,b,c){c.d(b,{I:function(){return s}});var d=c(10253),e=c(85893),f=c(67294),g=c(97449),h=c(24906),i=c(1968),j=c(10071),k=c(56745),l=function(a){var b=a.bundleStoreName,c=a.isLoading,d=a.onConfirm,f=a.onClose;return(0,e.jsxs)(i.Modal,{title:k.Z.blockGiftingTitle(b),onClose:f,primaryAction:{text:k.Z.blockGiftingConfirm(),buttonProps:{state:c?h.default.States.Loading:h.default.States.Default},onClick:d},secondaryAction:{text:k.Z.blockGiftingCancel(),onClick:f},children:[(0,e.jsx)(j.Text,{color:j.Text.Colors.TextSecondary,children:k.Z.blockGiftingBody(b)}),(0,e.jsx)(j.Text,{color:j.Text.Colors.TextSecondary,children:k.Z.blockGiftingBody2(b)})]})},m=c(7297),n=c(93999),o=c(44119),p=c.n(o);function q(){var a=(0,m.Z)(["\n  mutation DeleteBundleCart($cartId: ID!) {\n    deleteCart(cartId: $cartId, bundleCartOnly: true)\n  }\n"]);return q=function(){return a},a}var r=p()(q()),s=function(a,b){var c,h=(0,g._Q)(a),i=(0,d.Z)((c=a.id,(0,n.useMutation)(r,{variables:{cartId:c},awaitRefetchQueries:!0,refetchQueries:["checkout"]})),2),j=i[0],k=i[1].loading,m=(0,d.Z)(f.useState(!1),2),o=m[0],p=m[1],q=function(){return o&&(0,e.jsx)(l,{isLoading:k,onClose:function(){return p(!1)},onConfirm:function(){j(),p(!1),b()},bundleStoreName:h})};return{shouldShowBlockGiftingModal:Boolean(a.isBundle),showBlockGiftingModal:function(){return p(!0)},renderBlockGiftingModal:q}}},96440:function(a,b,c){var d=c(23685);b.Z={pageTitle:function(){return d.default.t("nativeGiftCard_redeemPage_pageTitle")},redeemFormTitle:function(){return d.default.t("nativeGiftCard_redeemPage_redeemFormTitle")},redeemDescription:function(a){return d.default.t("nativeGiftCard_redeemPage_redeemDescription",{userName:a})},fieldPinLabel:function(){return d.default.t("nativeGiftCard_redeemPage_fieldPinLabel")},fieldPinPlaceHolder:function(){return d.default.t("nativeGiftCard_redeemPage_fieldPinPlaceHolder")},redeemDisclaimer:function(){return d.default.t("nativeGiftCard_redeemPage_redeemDisclaimer")},redeemButtonTitle:function(){return d.default.t("nativeGiftCard_redeemPage_redeemButtonTitle")},redeemInstruction1:function(){return d.default.t("nativeGiftCard_redeemPage_redeemInstruction1")},redeemInstruction2:function(){return d.default.t("nativeGiftCard_redeemPage_redeemInstruction2")},inputClear:function(){return d.default.t("nativeGiftCard_redeemPage_inputClear")},caviar:{pageTitle:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_pageTitle")},redeemFormTitle:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemFormTitle")},redeemDescription:function(a){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemDescription",{userName:a})},fieldPinLabel:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_fieldPinLabel")},fieldPinPlaceHolder:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_fieldPinPlaceHolder")},redeemDisclaimer:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemDisclaimer")},redeemButtonTitle:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemButtonTitle")},redeemInstruction1:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemInstruction1")},redeemInstruction2:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_redeemInstruction2")},inputClear:function(){return d.default.t("caviar_nativeGiftCard_redeemPage_inputClear")}}}},75521:function(a,b,c){var d=c(26042),e=c(23685),f={changePassword:function(){return e.default.t("profilePageStrings_changePassword")},countries:{australia:function(){return e.default.t("profilePageStrings_countries_australia")},japan:function(){return e.default.t("profilePageStrings_countries_japan")},mexico:function(){return e.default.t("profilePageStrings_countries_mexico")},canada:function(){return e.default.t("profilePageStrings_countries_canada")},country:function(){return e.default.t("profilePageStrings_countries_country")},unitedStates:function(){return e.default.t("profilePageStrings_countries_unitedStates")},germany:function(){return e.default.t("profilePageStrings_countries_germany")},newZealand:function(){return e.default.t("profilePageStrings_countries_newZealand")}},email:function(){return e.default.t("profilePageStrings_email")},errorText:{internalUsersCantChangeEmail:function(){return e.default.t("profilePageStrings_errorText_internalUsersCantChangeEmail")},pleaseTryAgainLater:function(){return e.default.t("profilePageStrings_errorText_pleaseTryAgainLater")},somethingWentWrong:function(){return e.default.t("profilePageStrings_errorText_somethingWentWrong")},unableToLoadModuleNameInfo:function(a){return e.default.t("profilePageStrings_errorText_unableToLoadModuleNameInfo",{moduleName:a})},unableToLoadUserInfo:function(){return e.default.t("profilePageStrings_errorText_unableToLoadUserInfo")},unableToUpdateLoyaltyCode:function(){return e.default.t("profilePageStrings_errorText_unableToUpdateLoyaltyCode")},unableToUpdateProfile:function(){return e.default.t("profilePageStrings_errorText_unableToUpdateProfile")}},facebookLink:function(){return e.default.t("profilePageStrings_facebookLink")},facebookUnlink:function(){return e.default.t("profilePageStrings_facebookUnlink")},firstName:function(){return e.default.t("profilePageStrings_firstName")},lastName:function(){return e.default.t("profilePageStrings_lastName")},loyaltyPrograms:{enterCodeForRewards:function(){return e.default.t("profilePageStrings_loyaltyPrograms_enterCodeForRewards")},loyaltyCode:function(){return e.default.t("profilePageStrings_loyaltyPrograms_loyaltyCode")},loyaltyPlaceholder:function(){return e.default.t("profilePageStrings_loyaltyPrograms_loyaltyPlaceholder")},loyaltyPrograms:function(){return e.default.t("profilePageStrings_loyaltyPrograms_loyaltyPrograms")},partnerLoyaltyProgram:function(){return e.default.t("profilePageStrings_loyaltyPrograms_partnerLoyaltyProgram")}},password:{add:function(){return e.default.t("profilePageStrings_password_add")},facebookAddPasswordWarning:function(){return e.default.t("profilePageStrings_password_facebookAddPasswordWarning")},password:function(){return e.default.t("profilePageStrings_password_password")},atLeastNumCharacters:function(a){return e.default.t("profilePageStrings_password_atLeastNumCharacters",{num:a})},save:function(){return e.default.t("profilePageStrings_password_save")}},paymentCards:function(){return e.default.t("profilePageStrings_paymentCards")},phoneNumber:function(){return e.default.t("profilePageStrings_phoneNumber")},phoneNumberVerifyButton:function(){return e.default.t("profilePageStrings_phoneNumber_verify_button")},phoneNumberVerifyBanner:function(){return e.default.t("profilePageStrings_phoneNumber_verify_banner")},privacy:{currentlySharing:function(){return e.default.t("profilePageStrings_privacy_currently_sharing_with")},learnMore:function(){return e.default.t("profilePageStrings_privacy_learn_more")},privacy:function(){return e.default.t("profilePageStrings_privacy_privacy")},privacyStatement:function(){return e.default.t("profilePageStrings_privacy_statement")},privacyStatementShortened:function(){return e.default.t("profilePageStrings_privacy_statement_shortened")},privacyMarketChoices:function(){return e.default.t("profilePageStrings_privacy_marketing_choices")},privacyMarketChoicesStatement:function(){return e.default.t("profilePageStrings_privacy_market_choices_statement")},privacyMarketChoicesLearnMore:function(){return e.default.t("profilePageStrings_privacy_market_choices_learn_more")},sharedInThePast:function(){return e.default.t("profilePageStrings_privacy_shared_in_the_past")},stopSharing:function(){return e.default.t("profilePageStrings_privacy_stop_sharing")}},location:{title:function(){return e.default.t("profilePageStrings_location_access_title")},titleDenied:function(){return e.default.t("profilePageStrings_location_access_title_denied")},description:function(){return e.default.t("profilePageStrings_location_access_description")},statusAllowed:function(){return e.default.t("profilePageStrings_location_access_status_allowed")},statusDenied:function(){return e.default.t("profilePageStrings_location_access_status_denied")}},consents:{title:function(){return e.default.t("profilePageStrings_consents_title")},noConsentStatement:function(){return e.default.t("profilePageStrings_consents_no_consent_statement")},consentStatement:function(){return e.default.t("profilePageStrings_consents_statement")},unlinkAllButton:function(){return e.default.t("profilePageStrings_consents_unlinkAll_button")},unlinkAllTitle:function(){return e.default.t("profilePageStrings_consents_unlinkAll_title")},unlinkAllText:function(){return e.default.t("profilePageStrings_consents_unlinkAll_statement")},unlinkButton:function(){return e.default.t("profilePageStrings_consents_unlink_button")},cancelButton:function(){return e.default.t("profilePageStrings_consents_cancel_button")},unlinkOneTitle:function(a){return e.default.t("profilePageStrings_consents_unlink_title",{businessName:a})},unlinkOneText:function(a){return e.default.t("profilePageStrings_consents_unlink_statement",{businessName:a})},unlinkSuccessMessage:function(){return e.default.t("profilePageStrings_consents_success_message")}},profile:function(){return e.default.t("profilePageStrings_profile")},profilePageTitle:function(){return e.default.t("profilePageStrings_profilePageTitle")},receiveStatusViaText:function(){return e.default.t("profilePageStrings_receiveStatusViaText")},save:function(){return e.default.t("profilePageStrings_save")},update:function(){return e.default.t("profilePageStrings_update")},link:function(){return e.default.t("profilePageStrings_link")},unlink:function(){return e.default.t("profilePageStrings_unlink")},default:function(){return e.default.t("profilePageStrings_default")},manageAccount:function(){return e.default.t("profilePageStrings_manageAccountText")},caviar:(0,d.Z)({},{profilePageTitle:function(){return e.default.t("caviar_profilePageStrings_profilePageTitle")},privacy:{privacyStatement:function(){return e.default.t("caviar_profilePageStrings_privacy_statement")},privacyStatementShortened:function(){return e.default.t("caviar_profilePageStrings_privacy_statement_shortened")}}})};b.Z=f},58440:function(a,b,c){c.d(b,{Z:function(){return l}});var d=c(85893);c(67294);var e=c(7297),f=c(87379),g=c(10071);function h(){var a=(0,e.Z)(["\n  display: inline;\n\n  a {\n    color: ",";\n    text-decoration: underline;\n  }\n"]);return h=function(){return a},a}var i=f.default.div.withConfig({componentId:"sc-176b5044-0"})(h(),g.Colors.BannerHighlightForeground),j=c(88287),k=c(43848),l=function(a){var b=a.url;return(0,d.jsx)(i,{children:(0,d.jsx)(k.Z,{to:b,openInNewTab:!0,children:j.Z.learnMore()})})}},37590:function(a,b,c){c.d(b,{Z:function(){return Z}});var d=c(10253),e=c(29815),f=c(85893),g=c(67294),h=c(1968),i=c(53390),j=c(33016),k=c(10709),l=c(7297),m=c(10071),n=c(87379),o=c(7634);function p(){var a=(0,l.Z)(["\n  margin: 0 -","px;\n"]);return p=function(){return a},a}function q(){var a=(0,l.Z)([""]);return q=function(){return a},a}function r(){var a=(0,l.Z)(["\n  color: ",";\n  text-decoration: underline;\n"]);return r=function(){return a},a}var s=n.default.div.withConfig({componentId:"sc-afbfc78f-0"})(p(),m.Spacing.Small),t=(0,n.default)(m.Text).attrs(function(){return{color:m.Text.Colors.TextTertiary,display:m.Text.DisplayModes.Inline,styles:m.Text.Styles.FieldSmallHint}}).withConfig({componentId:"sc-afbfc78f-1"})(q()),u=(0,n.default)(o.Co).withConfig({componentId:"sc-afbfc78f-2"})(r(),m.Colors.TextTertiary),v=c(88287),w=c(58440),x=c(99286),y=c(30381),z=c.n(y),A=c(33574),B=c(95899),C=c(66942),D=c(9179),E=c(26042),F=c(31280),G=c(97073),H=c(11890);function I(){var a=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]);return I=function(){return a},a}function J(){var a=(0,l.Z)(["\n  max-width: inherit;\n"]);return J=function(){return a},a}function K(){var a=(0,l.Z)([""]);return K=function(){return a},a}var L=n.default.div.withConfig({componentId:"sc-d6772852-0"})(I()),M=n.default.div.withConfig({componentId:"sc-d6772852-1"})(J()),N=(0,n.default)(m.Text).attrs(function(a){var b=a.color;return{overflow:m.Text.Overflows.Truncate,maxLines:2,color:b}}).withConfig({componentId:"sc-d6772852-2"})(K()),O=c(61090),P=c(66935),Q=function(a){var b,c=a.orderItem,e=a.isLastItem,h=a.isEditingLoading,i=a.disableStepper,j=a.isItemSelected,k=a.onClick,l=a.itemDescription,n=a.hideSelectToggle,o=a.toggleName,p=(null===(b=c.item)||void 0===b?void 0:b.name)||"",q=(0,d.Z)(g.useState(j),2),r=q[0],s=q[1],t=function(a){k&&k(a),s(a)};return(0,f.jsx)(F.ZP,{"data-order-item-id":c.id,"data-item-id":c.item?c.item.id:"",title:(0,f.jsxs)(M,{children:[(0,f.jsx)(N,{color:n?m.Text.Colors.TextDisabled:m.Text.Colors.TextPrimary,children:p}),l]}),accessibilityRole:"listitem",isSeparatorVisible:!e,insetVerticalSize:F.ZP.InsetSizes.Large,renderBeforeContent:function(){return(0,f.jsx)(L,{children:h?(0,f.jsx)(H.default,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P.t,(0,E.Z)({},(0,P.G)(c))),(0,f.jsx)(O.Z,(0,E.Z)({disableMarginLeft:i},(0,O.w)(c)),"CartItem")]})})},renderAfterContent:function(){return n?null:(0,f.jsx)(L,{children:(0,f.jsx)(G.ZP,{label:"",type:G.ZP.Types.Checkbox,isSelected:r,onChange:t,isDisabled:h,alignToggle:G.ZP.Alignment.Center,name:o,"data-testid":o})})},iconAlignment:F.ZP.Alignment.Baseline})},R=c(73791),S=function(a){var b=a.isDisabled,c=a.itemPrice;return b?(0,f.jsx)(m.Text,{color:m.Text.Colors.TextError,styles:m.Text.Styles.Medium14,children:v.Z.itemNotEligible()}):(0,f.jsx)(m.Text,{styles:m.Text.Styles.Medium14,children:c})},T=c(13411),U=c(33971),V=function(a){var b=a.storeId,c=a.storeRoutineReorderItemIds,d=a.setStoreRoutineReorderItemIds,e=(0,D.ZP)({storeId:b}),g=e.orderItems,h=e.orderCurrencyCode;return(0,f.jsx)(f.Fragment,{children:(g||[]).map(function(a,b){if(!a)return null;var e,i=(null===(e=a.item)||void 0===e?void 0:e.id)||"",j=!(null==a?void 0:a.isRoutineReorderEligible),k=function(a){var b=(0,T.lR)({itemId:i,curStoreRoutineReorderItemIds:c,updateMethod:a?T.D7:T.Dq});a?R.rw.itemSelect():R.rw.itemDeselect(),b&&d(b)};return(0,f.jsx)(Q,{toggleName:U.D.RecurringDeliveryItemOption,orderItem:a,isEditingLoading:!1,isLastItem:b===(g||[]).length-1,disableStepper:!0,isItemSelected:(0,T.e0)({itemId:i,curStoreRoutineReorderItemIds:c}),onClick:k,itemDescription:(0,f.jsx)(S,{isDisabled:j,itemPrice:(0,x.uO)({currency:h,priceOfTotalQuantity:a.priceOfTotalQuantity})}),hideSelectToggle:j},"".concat((null==a?void 0:a.id)||"","-").concat(b))})})},W=c(3559),X={recurring_delivery_modal_terms:"recurring_delivery_modal_terms"},Y=function(a){return z()(a,["HH"]).format("h:mma")},Z=function(a){var b,c,l=a.preselectedItemId,n=a.onClose,o=a.storeId;g.useEffect(function(){R.rw.load()},[]);var p=(0,W.Z)(),q=(0,D.ZP)({storeId:o}),r=q.orderCurrencyCode,y=q.routineReorderDetails,z=q.routineReorderTimeSlots,E=q.routineReorderWeekIntervals,F=q.routineReorderItemIdsList,G=q.isRecurringDeliverySelected,H=q.updateRoutineReorderContext,I=C.ZP.getCurrentLocale(),J=l?(0,e.Z)(F||[]).concat([l]):F,K=(0,d.Z)(g.useState(J||[]),2),L=K[0],M=K[1],N=(0,d.Z)(g.useState(!1),2),O=N[0],P=N[1],Q=(0,d.Z)(g.useState(G?null==y?void 0:y.selectedIntervalInWeeks:null==E?void 0:E[2]),2),S=Q[0],Z=Q[1],$=(0,d.Z)(g.useState(G?null==y?void 0:null===(b=y.selectedTimeSlot)||void 0===b?void 0:b.startHour:null==z?void 0:null===(c=z[0])||void 0===c?void 0:c.startHour),2),_=$[0],aa=$[1],ab=(0,T.hO)({storeId:o}),ac=(E||[]).map(function(a){return{name:a&&a>1?v.Z.modalFrequencyOptionPlural(a):v.Z.modalFrequencyOption(),value:a}}),ad=(z||[]).map(function(a){return(null==a?void 0:a.startHour)&&(null==a?void 0:a.endHour)&&{name:"".concat(Y(a.startHour),"-").concat(Y(a.endHour)),value:null==a?void 0:a.startHour}}),ae=function(){if(!G&&!L.length){P(!0);return}var a,b={storeId:o,routineReorderItemIdsList:L,selectedIntervalInWeeks:S,selectedTimeSlot:{startHour:_,endHour:(null===(a=(z||[]).find(function(a){return(null==a?void 0:a.startHour)===_}))||void 0===a?void 0:a.endHour)||null},isRecurringDeliverySelected:(L||[]).length>0};(0,T.k8)(b),null==H||H(),ab?R.rw.update():R.rw.schedule(),n()},af=function(){R.rw.close(),n()};return(0,f.jsxs)(h.Modal,{title:v.Z.modalTitle(),isFullScreenOnMobile:!1,hasCloseButton:!0,onClose:af,primaryAction:{text:ab?v.Z.modalUpdateCta():v.Z.modalScheduleCta(),"data-testid":U.D.RecurringDeliveryModalConfirm,onClick:ae},secondaryAction:{text:v.Z.cancel(),onClick:af,"data-testid":U.D.RecurringDeliveryModalCancel},"data-testid":U.D.RecurringDeliveryModal,children:[(0,f.jsxs)(m.StackChildren,{size:m.StackChildren.Sizes.Small,children:[p&&(0,f.jsx)(j.ZP,{variant:j.ZP.Variants.Highlight,body:(0,f.jsxs)(m.Text,{color:m.Text.Colors.BannerHighlightForeground,children:[v.Z.modalDescription(p.firstDeliveryDiscountPercentage,(0,A.formatMoney)({unitAmount:T.t2,currency:r||x.EJ,userLocale:I,concise:!0}),p.recurringDeliveryDiscountPercentage)," ",(0,f.jsx)(w.Z,{url:p.learnMoreLinkUrl})]})}),(0,f.jsx)(i.Select,{label:v.Z.modalSelectionTitleFrequency(),onChange:function(a){R.rw.cadenceUpdate(),Z(parseInt(a,10))},options:ac,value:S}),(0,f.jsx)(i.Select,{label:v.Z.modalSelectionTitleTime(),onChange:function(a){R.rw.timeslotUpdate(),aa(parseInt(a,10))},options:ad,value:_,hint:v.Z.modalSelectionTimeDescription()}),(0,f.jsx)(m.Stack,{size:m.Stack.Sizes.Large,children:(0,f.jsx)(s,{children:(0,f.jsx)(B.default,{type:B.default.Types.Separator,separatorHeight:B.default.Sizes.Small})})})]}),(0,f.jsxs)(m.InlineChildren,{justifyContent:m.InlineChildren.Justification.SpaceBetween,children:[(0,f.jsx)(m.Text,{styles:m.Text.Styles.FieldLargeLabel,children:v.Z.modalSelectionTitleItems()}),O&&(0,f.jsx)(k.default,{text:C.ZP.t("menu_required"),type:k.default.Types.WarningDefault})]}),(0,f.jsx)(V,{storeId:o,storeRoutineReorderItemIds:L,setStoreRoutineReorderItemIds:M}),(0,f.jsx)(A.Interpolate,{i18n:C.ZP.instance,i18nKey:X.recurring_delivery_modal_terms,parent:t,values:{conditions:v.Z.modalTermsConditionsLink(),cancellationPolicy:v.Z.modalTermsCancellationLink()},components:p?[(0,f.jsx)(u,{to:p.learnMoreLinkUrl,openInNewTab:!0,children:v.Z.modalTermsConditionsLink()}),(0,f.jsx)(u,{to:p.learnMoreLinkUrl,openInNewTab:!0,children:v.Z.modalTermsConditionsLink()}),]:[]})]})}},88287:function(a,b,c){var d=c(23685);b.Z={cancel:function(){return d.default.t("commonStrings_cancel")},cartCalloutTitle:function(){return d.default.t("recurring_delivery_callout_cart_title")},cartCalloutDescription:function(a){return d.default.t("recurring_delivery_callout_cart_description",{firstRecurringSavingPercentage:a})},checkoutCalloutTitle:function(a){return d.default.t("recurring_delivery_callout_checkout_title",{firstRecurringSavingPercentage:a})},checkoutCalloutDescription:function(a,b){return d.default.t("recurring_delivery_callout_checkout_description",{firstRecurringSavingPercentage:a,futureRecurringSavingPercentage:b})},currentSaving:function(a){return d.default.t("recurring_delivery_option_v2_savings_post_selection",{savingsAmount:a})},itemNotEligible:function(){return d.default.t("recurring_delivery_item_not_eligible")},learnMore:function(){return d.default.t("recurring_delivery_modal_learn_more")},lineItemAddCta:function(){return d.default.t("recurring_delivery_line_item_cta_add")},lineItemSaving:function(a,b){return d.default.t("recurring_delivery_line_item_credit",{creditAmount:a,firstRecurringSavingPercentage:b})},maxCheckoutSaving:function(a){return d.default.t("recurring_delivery_checkout_max_saving",{savingsAmount:a})},modalScheduleCta:function(){return d.default.t("recurring_delivery_modal_cta_schedule")},modalUpdateCta:function(){return d.default.t("recurring_delivery_modal_cta_update")},modalDescription:function(a,b,c){return d.default.t("recurring_delivery_modal_description",{firstRecurringSavingPercentage:a,recurringDeliveryMaxSaving:b,futureRecurringSavingPercentage:c})},modalFrequencyOption:function(){return d.default.t("recurring_delivery_modal_frequency_option")},modalFrequencyOptionPlural:function(a){return d.default.t("recurring_delivery_modal_frequency_option_plural",{num:a})},modalItemDescription:function(a){var b=a.firstRecurringSavingPercentage,c=a.firstRecurringDeliverySaving,e=a.futureRecurringSavingPercentage;return d.default.t("recurring_delivery_modal_item_description",{firstRecurringSavingPercentage:b,firstRecurringDeliverySaving:c,futureRecurringSavingPercentage:e})},modalSelectionTitleFrequency:function(){return d.default.t("recurring_delivery_modal_selection_title_frequency")},modalSelectionTitleItems:function(){return d.default.t("recurring_delivery_modal_selection_title_items")},modalSelectionTitleTime:function(){return d.default.t("recurring_delivery_modal_selection_title_time")},modalSelectionTime:function(){return d.default.t("recurring_delivery_modal_selection_time")},modalSelectionTimeDescription:function(){return d.default.t("recurring_delivery_modal_selection_time_description")},modalTerms:function(){return d.default.t("recurring_delivery_modal_terms")},modalTermsConditionsLink:function(){return d.default.t("recurring_delivery_modal_terms_conditions_link")},modalTermsCancellationLink:function(){return d.default.t("recurring_delivery_modal_terms_cancellation_link")},oneTimeDelivery:function(){return d.default.t("recurring_delivery_option_one_time")},recurringDelivery:function(){return d.default.t("recurring_delivery_option_recurring")},modalTitle:function(){return d.default.t("recurring_delivery_modal_title")},descritpionPreselection:function(){return d.default.t("recurring_delivery_option_description_preselection")},descriptionItemsPlural:function(a){return d.default.t("recurring_delivery_option_description_items_plural",{numItems:a})},descriptionItemsTimePlural:function(a){return d.default.t("recurring_delivery_option_description_items_time_plural",{numItems:a})},descriptionPreselectionV2:function(){return d.default.t("recurring_delivery_option_v2_description_preselection")},descriptionPostSelectionV2:function(a){return d.default.t("recurring_delivery_option_v2_description_post_selection",{date:a})},descriptionPostSelectionTimePluralV2:function(a,b){return d.default.t("recurring_delivery_option_v2_description_post_selection_time_plural",{interval:a,date:b})},toastCta:function(){return d.default.t("recurring_delivery_toast_cta")},toastDescription:function(){return d.default.t("recurring_delivery_toast_description")}}},33971:function(a,b,c){var d,e;c.d(b,{D:function(){return d}}),(e=d||(d={})).RecurringDeliveryCartBanner="RecurringDeliveryCartBanner",e.RecurringDeliveryCheckoutBannerDescription="RecurringDeliveryCheckoutBannerDescription",e.RecurringDeliveryOptionOneTime="RecurringDeliveryOptionOneTime",e.RecurringDeliveryOptionRecurring="RecurringDeliveryOptionRecurring",e.RecurringDeliveryModal="RecurringDeliveryModal",e.RecurringDeliveryRecurringOptionEdit="RecurringDeliveryRecurringOptionEdit",e.RecurringDeliveryItemOption="RecurringDeliveryItemOption",e.RecurringDeliveryModalConfirm="RecurringDeliveryModalConfirm",e.RecurringDeliveryModalCancel="RecurringDeliveryModalCancel"},3559:function(a,b,c){var d=c(67294),e=c(80163),f=function(){var a=d.useContext(e.iB).orderCart.recurringDeliveryDetails,b=null==a?void 0:a.recurringDeliveryMessagingDetails,c=null==a?void 0:a.recurringDeliveryDiscountDetails;return(null==b?void 0:b.learnMoreLinkUrl)&&(null==c?void 0:c.firstDeliveryDiscountPercentage)&&(null==c?void 0:c.recurringDeliveryDiscountPercentage)?{learnMoreLinkUrl:b.learnMoreLinkUrl,firstDeliveryDiscountPercentage:c.firstDeliveryDiscountPercentage,recurringDeliveryDiscountPercentage:c.recurringDeliveryDiscountPercentage}:null};b.Z=f},9179:function(a,b,c){var d=c(26042),e=c(69396),f=c(67294),g=c(87264),h=c(80163),i=c(3810),j=c(13411),k=c(3559),l=function(a){var b=a.storeId,c=a.orderItems,d=(0,j.EH)({storeId:b})||[],e=c.filter(function(a){var b;return d.includes((null==a?void 0:null===(b=a.item)||void 0===b?void 0:b.id)||"")});return e.map(function(a){return(null==a?void 0:a.id)||""})},m=function(a){var b,c,m,n,o=a.storeId,p=(0,g.Gc)(),q=p.routineReorderDetails,r=p.set,s=f.useContext(h.iB).orderCart,t=f.useContext(i.Z).setRoutineReorderPreviewItemIds,u=!!(null==s?void 0:null===(b=s.orders)||void 0===b?void 0:null===(c=b[0])||void 0===c?void 0:c.isOrderRoutineReorderEligible),v=(null==s?void 0:s.routineReorderTimeSlots)||[],w=(null==s?void 0:s.routineReorderWeekIntervals)||[],x=(null==s?void 0:null===(m=s.orders)||void 0===m?void 0:null===(n=m[0])||void 0===n?void 0:n.orderItems)||[],y=(0,j.vy)({routineReorderItemIdsList:(null==q?void 0:q.routineReorderItemIdsList)||[],orderCartItems:x||[]}),z=(0,k.Z)(),A=s.currencyCode||"",B=(0,j.o_)({discountPercentage:null==z?void 0:z.firstDeliveryDiscountPercentage,orderItems:x,currencyCode:A});if(f.useEffect(function(){!y&&u&&(0,j.YV)({storeId:o})},[u,y,o]),!u)return{showRoutineReorderExperience:!1};var C=!!(null==q?void 0:q.isRecurringDeliverySelected)&&y,D=function(){return t(l({storeId:o,orderItems:x}))},E=function(){r(j.TA,(0,j.pZ)({storeId:o})),D()},F=function(a){var b=a,c=(0,j.pZ)({storeId:o});if(c){var f=(0,e.Z)((0,d.Z)({},c),{isRecurringDeliverySelected:b});(0,j.k8)(f),r(j.TA,f)}b?D():t([])},G=function(a){var b=a.itemId;(0,j.KE)({storeId:o,itemId:b}),E()};return{showRoutineReorderExperience:!0,isRecurringDeliverySelected:C,orderItems:x,orderCurrencyCode:null==s?void 0:s.currencyCode,routineReorderDetails:q,routineReorderTimeSlots:v,routineReorderWeekIntervals:w,routineReorderItemIdsList:(null==q?void 0:q.routineReorderItemIdsList)||[],updateRoutineReorderContext:E,updateRoutineReorderSelection:F,removeRoutineReorderLineItem:G,updateRoutineReorderPreviewItemIds:D,maxCheckoutSaving:B}};b.ZP=m}}])