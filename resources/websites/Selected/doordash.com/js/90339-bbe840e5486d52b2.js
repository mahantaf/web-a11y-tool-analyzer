"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90339],{95846:function(a,b,c){var d=c(10253),e=c(85893),f=c(53390),g=c(39838),h=c(10071),i=c(51463),j=c.n(i),k=c(67294),l=c(92470),m=c(20306),n=c(61449),o=c(20688),p=c(3532),q=c(52822),r=c(95779),s=c(18563),t=c(62139),u=c(17510),v=c(92757),w=j()(function(){return(0,p.ZP)("action_type_address_bar")}),x=function(a){var b=a.error,c=a.label,i=a.placeholder,j=a.onSelect,p=a.onChange,x=a.shouldFlipResults,y=a.isStaticPositionSuggestions,z=a.initialInputValue,A=a.clearSelected,B=a.isRounded,C=void 0!==B&&B,D=a.renderConnectedAfter,E=void 0===D?void 0:D,F=a.renderSuggestionsInAnchoredLayer,G=void 0!==F&&F,H=a.isLabelHidden,I=a.updateSavedSuggestion,J=a.textFieldSize,K=(0,m.Z)().isAddressLabelEnabled,L=(0,d.Z)(k.useState(z||""),2),M=L[0],N=L[1],O=k.useRef(null);k.useEffect(function(){N(z||"")},[z]),k.useEffect(function(){if(b){var a,c;null==O||null===(a=O.current)||void 0===a||null===(c=a.focus)||void 0===c||c.call(a)}},[b]);var P=(0,s.u)("text"),Q=P.inputContainerRef,R=P.resetType,S=P.setTypeToNumber,T=void 0!==H&&H||!c,U=function(a){N(a)},V=function(a){U(a),I&&I(void 0),A&&A(),p&&p(),w()},W=function(a){n.X$(a),j(a)};return(0,e.jsx)(l.uF,{value:M,onChange:V,onSelect:W,onGoogleMapsLoaded:S,children:function(a,d,j){I&&d.length>0&&I(d[0]);var k=(d.length||j)&&(0,e.jsx)(v.Z,{id:"addressAutocompleteDropdown",isLabelHidden:T,isStaticPositionSuggestions:y,shouldFlipResults:x,suggestions:d,errorText:j,onSelect:W,updateSearchField:U,isNewDesignEnabled:K}),l=(0,e.jsx)(u.mj,{"data-anchor-id":o.ep.AddressAutocomplete,"data-testid":t.D.AddressAutocomplete,ref:Q,children:(0,e.jsx)(f.TextField,{interfaceRef:O,"aria-autocomplete":"list","aria-controls":"addressAutocompleteDropdown","aria-expanded":!!M,autoComplete:"off",role:"combobox",error:b,isDisabled:a.disabled,onBlur:a.onBlur,onChange:function(b){n.un(b),a.onChange({target:{value:b}})},onKeyDown:function(b){var c;R(),null===(c=a.onKeyDown)||void 0===c||c.call(a,b)},value:a.value,label:c||"",isLabelHidden:T,placeholder:i||(K?q.Z.autocompletePlaceholderV2():q.Z.autocompletePlaceholder()),size:J||(K?f.TextField.Sizes.Large:f.TextField.Sizes.Medium),renderBeforeContent:function(){return(0,e.jsx)(u.ee,{hasMarginLeft:K,children:(0,e.jsx)(h.Icon,{type:K?h.Icon.Types.SearchLine:h.Icon.Types.LocationPinEnabledLine,size:h.Icon.Sizes.Medium,color:h.Icon.Colors.TextSecondary})})},renderAfterContent:K&&a.value.length?function(){return(0,e.jsx)(r.Zl,{accessibilityLabel:q.Z.clearSearchInput(),onClick:function(){a.onChange({target:{value:""}}),U("")},type:h.Icon.Types.CloseCircleFill,size:h.Icon.Sizes.Medium,hasMarginRight:!E})}:void 0,isRounded:C,renderConnectedAfter:E})});return G?(0,e.jsx)(g.AnchoredLayer,{position:g.AnchoredLayer.Positions.BottomCenter,boundariesElement:K?g.AnchoredLayer.BoundariesElements.Viewport:void 0,setContentWidthAsAnchorWidth:!0,content:k,offset:K?[0,g.AnchoredLayer.Offset.XxxSmall]:void 0,children:l}):(0,e.jsxs)(e.Fragment,{children:[l,k]})}})};b.Z=x},44928:function(a,b,c){c.d(b,{N2:function(){return j}});var d=c(26042),e=c(69396),f=c(48837),g=function(a,b,c){var d=c.find(function(b){return-1!==b.types.indexOf(a)});return d?d[b?"long_name":"short_name"]:""},h=function(a,b){return[g("street_number",b,a),g("route",b,a),].filter(function(a){return a}).join(" ")},i=function(a){var b=g("locality",!0,a),c=g("administrative_area_level_1",!1,a),d=g("postal_code",!1,a);return{city:b,state:c,zipCode:d,street:h(a,!0),shortname:h(a,!1)}},j=function(a,b){return new Promise(function(c){(0,f.geocodeByPlaceId)(a,function(a){return a}).then(function(h){if(h&&h.length&&h[0].address_components){var j,k=null===(j=h[0].address_components.find(function(a){return"country"===a.types[0]}))||void 0===j?void 0:j.short_name;(0,f.getLatLng)(h[0]).then(function(f){if(f&&f.lat&&f.lng){var j=h[0].address_components;c((0,e.Z)((0,d.Z)({googlePlaceId:a},i(j)),{printableAddress:b||h[0].formatted_address,lat:f.lat,lng:f.lng,countryCode:k,countryShortname:h[0].countryShortname,addressTrackingData:{formattedAddress:h[0].formatted_address,googlePlaceId:h[0].place_id,name:g("name",!0,j),route:g("route",!0,j),subpremise:g("subpremise",!0,j)}}))}})}})})}},92757:function(a,b,c){var d=c(10253),e=c(85893),f=c(31280),g=c(11890),h=c(33078),i=c(10071),j=c(67294),k=c(11698),l=c(61449),m=c(45481),n=c(3532),o=c(44928),p=c(52822),q=c(62139),r=c(17510),s={Mobile:120,Tablet:120,Desktop:120,WideScreen:120},t="".concat(m.EB,"static/img/consumer/share"),u="".concat(t,"/powered_by_google_on_white.png"),v=function(a){var b=a.id,c=a.isLabelHidden,t=a.errorText,v=a.onSelect,w=a.shouldFlipResults,x=a.isStaticPositionSuggestions,y=a.suggestions,z=a.updateSearchField,A=a.isNewDesignEnabled,B=void 0!==A&&A,C=(0,k.ac)().isMobile,D=(0,d.Z)(j.useState(!1),2),E=D[0],F=D[1],G=(0,d.Z)(j.useState(-1),2),H=G[0],I=G[1],J=(0,m.O1)(u),K=(0,d.Z)(j.useState(-1),2),L=K[0],M=K[1];return E?null:(0,e.jsxs)(r.Yi,{id:b,isLabelHidden:c,isNewDesignEnabled:B,shouldFlipResults:w,isStaticPositionSuggestions:x,role:"listbox",children:[y&&!t&&y.map(function(a,b){var c,d="".concat(null!==(c=a.id)&&void 0!==c?c:a.placeId,"-").concat(b),h=L===b||a.active||C,j=a.active?{ListCellContainerBackgroundDefault:i.Colors.ListCellContainerBackgroundHovered}:{},k=function(){I(b),(0,o.N2)(a.placeId,a.description).then(function(b){z&&(F(!0),z(b.printableAddress)),l.I$(a),(0,n.ZP)("home_page_address_input_dropdown",{description:a.description}),v(b)}).finally(function(){return I(-1)})};return B?(0,e.jsx)(r.iS,{onMouseEnter:function(){return M(b)},onMouseLeave:function(){return M(-1)},"data-testid":"".concat(q.D.AddressAutocompleteSuggestion,"-").concat(b),children:(0,e.jsx)(i.Theming,{overrides:{Colors:j},children:(0,e.jsx)(f.ZP,{size:f.ZP.Sizes.Small,insetVerticalSize:f.ZP.InsetSizes.XSmall,accessibilityRole:"radio",iconStart:{isInteractive:!1,type:f.ZP.IconTypes.LocationPinEnabledLine},iconEnd:h?{isInteractive:!1,type:f.ZP.IconTypes.ChevronRight,size:18}:void 0,isToggleable:!0,isToggled:!1,onClick:k,title:a.formattedSuggestion.mainText,subtext:a.formattedSuggestion.secondaryText,separatorType:f.ZP.SeparatorTypes.FullBorder})})},d):(0,e.jsxs)(r.AA,{"data-anchor-id":"".concat(q.D.AddressAutocompleteSuggestion,"-").concat(b),active:a.active,"aria-selected":a.active,role:"option",onMouseDown:function(a){return a.preventDefault(),k(),!1},children:[a.description,H===b&&(0,e.jsx)(i.Inset,{verticalSize:i.Inset.Sizes.XxxSmall,children:(0,e.jsx)(g.default,{})})]},d)}),t&&(0,e.jsx)(e.Fragment,{children:B?(0,e.jsx)(i.Inset,{horizontalSize:i.Inset.Sizes.Small,verticalSize:i.Inset.Sizes.Small,children:(0,e.jsx)(i.Text,{"data-testid":q.D.AddressAutocompleteSuggestion,styles:i.Text.Styles.Body2,children:t})}):(0,e.jsx)(r.q$,{"data-testid":q.D.AddressAutocompleteSuggestion,children:t})}),B&&(0,e.jsx)(r.LU,{size:120,hasBorderTop:!!t,"data-testid":q.D.GoogleAttributionImage,children:(0,e.jsx)(h.Z,{baseURL:"https://img.cdn4dd.com/s/managed/consumer/powered_by_google_on_white_3x.png",quality:100,loading:"lazy",fixedWidths:s,alt:p.Z.googleAttributionAltText()})}),!B&&(0,e.jsx)(r.q$,{children:(0,e.jsx)("img",{"data-testid":q.D.GoogleAttributionImage,src:J,alt:p.Z.googleAttributionAltText()})})]})};b.Z=v},36878:function(a,b,c){var d=c(85893),e=c(24906),f=c(10071);c(67294);var g=c(4831),h=c(42948),i=c(52822),j=c(62139),k=c(91848),l={styles:c(21173).r},m=function(a){var b=a.hideAdjustPin,c=a.isAddressLabelEnabled,m=a.shortname,n=a.subpremise,o=a.printableAddress,p=a.address,q=a.locationOverride,r=a.onClickAdjustPin,s=n?"".concat(m," ").concat((0,g.Ay)(n)).trim():m;return(0,d.jsxs)(f.StackChildren,{size:c?f.StackChildren.Sizes.XSmall:f.StackChildren.Sizes.None,children:[!c&&(0,d.jsx)(f.Text,{styles:f.Text.Styles.PageTitle,"data-testid":"AddressEditHeaderTitle",children:m}),(0,d.jsx)(h.Z,{defaultAddress:p,locationOverride:q,mapOptions:c?l:void 0}),(0,d.jsxs)(f.InlineChildren,{alignItems:f.InlineChildren.Alignment.Center,justifyContent:f.InlineChildren.Justification.SpaceBetween,children:[(0,d.jsxs)(f.StackChildren,{size:c?f.StackChildren.Sizes.None:f.StackChildren.Sizes.XxxSmall,children:[(0,d.jsx)(f.Text,{styles:c?f.Text.Styles.Medium16:f.Text.Styles.ListRowTitleLarge,color:f.Text.Colors.TextPrimary,children:c?s:m}),(0,d.jsx)(f.Text,{styles:f.Text.Styles.SectionSubtext,children:(0,g.gj)(m||"",o||"")})]}),!b&&(0,d.jsx)(k.iP,{children:(0,d.jsx)(e.default,{onClick:r,type:e.default.Types.Tertiary,size:c?e.default.Sizes.Small:void 0,"data-testid":j.D.AddressEditAdjustPinButton,children:i.Z.addressEditAdjustPin()})})]})]})};b.Z=m},53103:function(a,b,c){var d=c(85893),e=c(95899);c(67294);var f=c(62139),g=function(a){var b=a.separatorType,c=void 0===b?e.default.Types.FullBorder:b,g=a.hideSeparator,h=a.children;return(0,d.jsxs)(d.Fragment,{children:[h,!(void 0!==g&&g)&&(0,d.jsx)(e.default,{"data-testid":f.D.AddressEditSectionSeparator,type:c})]})};b.Z=g},91848:function(a,b,c){c.d(b,{Bv:function(){return p},Ko:function(){return o},RY:function(){return r},Si:function(){return q},iP:function(){return n},pW:function(){return s}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  flex: 0;\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  width: ","px;\n  top: 80%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  width: auto;\n  button {\n    div {\n      padding: ",";\n    }\n  }\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  padding-top: ","px;\n  margin-left: -","px;\n  margin-right: -","px;\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border: none;\n  background-color: inherit;\n  padding: 0;\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)([""]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  padding-top: ","px;\n"]);return m=function(){return a},a}var n=f.default.div.withConfig({componentId:"sc-c49e0dcc-0"})(g()),o=f.default.div.withConfig({componentId:"sc-c49e0dcc-1"})(h(),2*e.Spacing.XxxLarge),p=f.default.div.withConfig({componentId:"sc-c49e0dcc-2"})(i(),e.Spacing.None);f.default.div.withConfig({componentId:"sc-c49e0dcc-3"})(j(),e.Spacing.XxLarge,e.Spacing.Small,e.Spacing.Small);var q=f.default.button.withConfig({componentId:"sc-c49e0dcc-4"})(k()),r=(0,f.default)(e.Icon).attrs(function(){return{type:e.Icon.Types.CloseCircleFill,size:24}}).withConfig({componentId:"sc-c49e0dcc-5"})(l()),s=f.default.div.withConfig({componentId:"sc-c49e0dcc-6"})(m(),e.Spacing.XxSmall)},72131:function(a,b,c){c.d(b,{KS:function(){return h},UR:function(){return l},ZU:function(){return k},eK:function(){return n},hJ:function(){return i},mo:function(){return m}});var d=c(22459),e=c(3532),f=c(9633),g=function(a){return function(b){var c,f=b.manualLat,g=b.manualLng,h=b.lat,i=b.lng,j=b.dropoffOptionId;c=f&&g?(0,d.iT)({latitude:f,longitude:g},{latitude:h,longitude:i}):0,(0,e.ZP)(a,{withCustomCoordinates:!!(f&&g),dropoff_option_id:j,pin_lat:f,pin_lng:g,original_addr_lat:h,original_addr_lng:i,distance:c})}},h=g(f.wd.SubmittedNewAddress),i=g(f.wd.SubmittedNewAddressError),j=function(a){return function(b){var c=b.addressId,d=b.manualLat,f=b.manualLng;(0,e.ZP)(a,{address_id:c,pin_lat:d,pin_lng:f})}},k=j(f.wd.SubmittedPinAdjustment),l=j(f.wd.SubmittedPinAdjustmentError),m=function(){(0,e.ZP)(f.wd.ClickedAdjustPin)},n=function(a,b){(0,e.ZP)(f.wd.ChangedEntryCode,{address_id:a,entryCodeLength:b})}},23180:function(a,b,c){c.d(b,{Z:function(){return I}});var d=c(85893),e=c(24906),f=c(53390),g=c(10071),h=c(67294),i=c(44529),j=c(51232),k=c(28766),l=c(35042),m=c(2886),n=c(11698),o=c(20688),p=c(3532),q=c(9633),r=c(52822),s=c(22459),t=c(9205),u=c(84865),v=c(62139),w=c(24249),x=c(36878),y=c(53103),z=c(91848),A=c(72131),B=c(13716),C=c(10560),D=c(12136),E=c(26042),F=c(69396),G=c(20306),H=c(11459),I=function(a){var b,c,I,J,K,L,M,N,O,P,Q,R=a.dropoffOptions,S=void 0===R?[]:R,T=a.dropoffPreferences,U=a.driverInstructions,V=a.address,W=a.preSelectedAddressLabelName,X=a.handleRemoveAddress,Y=a.defaultAddressId,Z=a.hideAdjustPin,$=a.hideDropOffOptions,_=function(a,b){var c,d,e;am("dropoffOptionWithInstructions",(c=as,d=a,e=b,c.slice().map(function(a){return a.optionId===d?{optionId:d,instructions:e}:a})))},aa=(0,m.RN)().consumer,ab=(0,i.p6)(),ac=(0,n.ac)().isMobile,ad=(0,k.Z)(V.countryCode),ae=null!==(I=(0,u.R)())&&void 0!==I?I:{},af=ae.mode,ag=ae.setMode,ah=ae.useDraftAddressFromModal,ai=ae.draftAddress,aj=ae.setDraftAddress,ak=(0,D.R)({selectedAdddressData:V,isBuzzerInputEncouraged:ad,consumerLastName:aa.lastName,dropoffOptions:S,dropoffPreferences:void 0===T?[]:T,driverInstructions:U,preSelectedAddressLabelName:W}),al=ak.localEditForm,am=ak.updateLocalEditForm,an=al.subpremise,ao=al.buildingName,ap=al.entryCode,aq=al.personalAddressLabelName,ar=al.selectedDropoffOptionId,as=al.dropoffOptionWithInstructions,at=al.draftCoordinates,au=al.formError,av=!!(0,s.Uq)(V)&&Y===V.id,aw=(0,l.E)((0,s.Uq)(V),!!(null==ab?void 0:null===(b=ab.domain)||void 0===b?void 0:null===(c=b.giftInfo)||void 0===c?void 0:c.hasGiftIntent),V.addressLinkType),ax=aw.isGiftAddressEntryEnabled,ay=aw.isGiftingAddressToggled,az=aw.renderGiftAddressSelector;L=(K={skip:!ah,localEditForm:al,setDraftAddress:aj,address:V,isGiftingAddressToggled:ay}).skip,M=K.localEditForm,N=K.setDraftAddress,O=K.address,P=K.isGiftingAddressToggled,Q=(0,G.Z)().isAddressLabelEnabled,(0,h.useEffect)(function(){!L&&(null==N||N(function(a){var b,c,d,e,f,g,h=Q?{labelName:M.personalAddressLabelName,labelIcon:null}:null,i={subpremise:M.subpremise,buildingName:M.buildingName,entryCode:M.entryCode,dropoffOptionId:M.selectedDropoffOptionId||void 0,driverInstructions:(0,s.I0)(M.dropoffOptionWithInstructions,M.selectedDropoffOptionId),addressLinkType:P?H.z5.ADDRESS_LINK_TYPE_GIFT:H.z5.ADDRESS_LINK_TYPE_UNSPECIFIED,personalAddressLabel:h,isGiftingAddressToggled:P,draftCoordinates:M.draftCoordinates,googlePlaceId:(0,s.aN)(O)?O.googlePlaceId:"",id:(0,s.aN)(O)?"":O.id,addressId:""};return a?(0,E.Z)({},O,a,i):(0,F.Z)((0,E.Z)({},O,i),{city:null!==(b=O.city)&&void 0!==b?b:"",state:null!==(c=O.state)&&void 0!==c?c:"",lat:O.lat,lng:O.lng,street:null!==(d=O.street)&&void 0!==d?d:"",shortname:null!==(e=O.shortname)&&void 0!==e?e:"",printableAddress:null!==(f=O.printableAddress)&&void 0!==f?f:"",zipCode:null!==(g=O.zipCode)&&void 0!==g?g:""})}))},[M,L,P,N,Q,O,]);var aA=h.useCallback(function(a){return am("personalAddressLabelName",a)},[am]);return(h.useEffect(function(){(0,p.ZP)(q.wd.EditAddressPageView)},[]),af===w.A.Default)?null:af===w.A.ChangePin?(0,d.jsx)(t.Z,{address:V,draftCoordinates:at||(0,s.ey)(V),handleChangePinLocation:function(a){return am("draftCoordinates",a)},errorMessage:null,hideTitle:!0,shouldStackActionButtons:ac,hideActionButtons:!0}):(0,d.jsxs)(g.StackChildren,{"data-anchor-id":o.ep.AddressEditForm,"data-testid":v.D.AddressEditForm,children:[(0,d.jsx)(g.StackChildren,{size:g.StackChildren.Sizes.XSmall,children:(0,d.jsx)(y.Z,{children:(0,d.jsx)(x.Z,{hideAdjustPin:void 0!==Z&&Z,isAddressLabelEnabled:!0,shortname:null!==(J=V.shortname)&&void 0!==J?J:"",printableAddress:V.printableAddress,address:V,locationOverride:(null==ai?void 0:ai.draftCoordinates)||(0,s.ey)(V),onClickAdjustPin:function(a){a.nativeEvent.stopImmediatePropagation(),null==ag||ag(w.A.ChangePin),(0,A.mo)()},subpremise:an})})}),(0,d.jsxs)(y.Z,{children:[(0,d.jsx)(j.Z,{onClick:function(){},orderCartId:null==ab?void 0:ab.id}),(0,d.jsxs)(g.InlineChildren,{children:[(0,d.jsx)(f.TextField,{value:an,size:f.TextField.Sizes.Small,onChange:function(a){return am("subpremise",a)},label:ad?r.Z.apartmentInputWithBuzzer.label():r.Z.apartmentInput.labelV2()}),(0,d.jsx)(f.TextField,{value:ap,size:f.TextField.Sizes.Small,onChange:function(a){am("entryCode",a)},label:r.Z.entryCode.label()})]}),(0,d.jsx)(f.TextField,{value:ao,size:f.TextField.Sizes.Small,onChange:function(a){am("buildingName",a)},label:r.Z.buildingName.label()}),!(void 0!==$&&$)&&(0,d.jsx)(C.Z,{dropoffOptions:S,selectedDropoffOptionId:ar,onDropoffOptionChange:function(a){return am("selectedDropoffOptionId",a)},instructions:(0,s.I0)(as,ar),onInstructionsChange:function(a){ar&&_(ar,a)},useNewDesign:!0})]}),!aa.isGuest&&(0,d.jsx)(y.Z,{hideSeparator:!ax&&av,children:(0,d.jsx)(B.ZP,{labelName:aq,onChange:aA,error:au})}),ax&&(0,d.jsx)(y.Z,{hideSeparator:av,children:az()}),!av&&(0,d.jsx)(y.Z,{hideSeparator:!0,children:(0,d.jsx)(z.pW,{"data-testid":v.D.AddressEditRemoveButton,children:(0,d.jsx)(e.default,{type:e.default.Types.Destructive,size:e.default.Sizes.Small,isInline:!0,leadingIcon:g.Icon.Types.TrashLine,onClick:function(){return X((0,s.Uq)(V)?V.id:"")},children:r.Z.removeAddress()})})}),(0,d.jsx)(g.Stack,{size:g.Stack.Sizes.XxLarge})]})}},13716:function(a,b,c){c.d(b,{Cf:function(){return q}});var d=c(10253),e=c(85893),f=c(33016),g=c(53390),h=c(10071),i=c(23279),j=c.n(i),k=c(67294),l=c(52822),m=c(62139),n=c(125),o=c(91848),p=["This label is already in use"],q=function(a){return Boolean(a&&p.includes(a))},r=j()(function(a){return a()},200),s=function(a){var b=a.labelName,c=a.onChange,i=a.error,j=(0,d.Z)(k.useState(),2),p=j[0],s=j[1],t=(0,d.Z)(k.useState(b),2),u=t[0],v=t[1],w=q(i),x=function(a){v(a),r(function(){var b,d=a.trim();c(d),s((b=d)?b.length>28?l.Z.addressLabel.maxCharacterError():void 0:l.Z.addressLabel.minCharacterError())})};return(0,e.jsxs)(h.StackChildren,{size:h.StackChildren.Sizes.XSmall,children:[(0,e.jsx)(g.TextField,{value:u,size:g.TextField.Sizes.Large,label:l.Z.addressLabel.label(),onChange:x,onClick:function(){return(0,n.Jn)()},placeholder:l.Z.addressLabel.placeholder(),renderAfterContent:u?function(){return(0,e.jsx)(o.Si,{type:"button","aria-label":l.Z.addressLabel.clearButtonText(),onClick:function(){c(""),v("")},children:(0,e.jsx)(o.RY,{type:h.Icon.Types.CloseCircleFill,size:24})})}:void 0,error:w&&i?i:p}),(0,e.jsx)(f.ZP,{"data-testid":m.D.AddressLabelBanner,variant:f.ZP.Variants.Highlight,body:(0,e.jsx)(h.Text,{styles:h.Text.Styles.Body2,children:l.Z.addressLabel.bannerText()}),iconType:f.ZP.IconTypes.None})]})};b.ZP=s},10560:function(a,b,c){var d=c(85893),e=c(24906),f=c(53390),g=c(97073),h=c(10071);c(67294);var i=c(20688),j=c(78259),k=c(52822),l=function(a){var b=a.dropoffOptions,c=a.selectedDropoffOptionId,l=a.onDropoffOptionChange,m=a.instructions,n=a.onInstructionsChange,o=a.useNewDesign,p=function(a){return null!==c?(0,d.jsx)(f.TextField,{value:m,size:f.TextField.Sizes.Medium,onChange:n,isMultiline:a,isResizeable:!0,placeholder:(0,j.sQ)(b,c||""),label:(0,j.sQ)(b,c||""),isLabelHidden:!0,"data-testid":i.ep.AddressEditDropoffInstructions}):null};return o?(0,d.jsxs)(h.StackChildren,{size:h.StackChildren.Sizes.XSmall,children:[(0,d.jsx)(h.Text,{styles:h.Text.Styles.FieldSmallLabel,children:k.Z.dropoffOptionsSentenceCase()}),(0,d.jsx)(h.InlineChildren,{size:h.InlineChildren.Sizes.XxSmall,children:b.map(function(a){return(0,d.jsx)(e.default,{type:e.default.Types.SecondaryPill,size:e.default.Sizes.Small,isDisabled:!a.isEnabled,isToggled:a.id===c,isToggleable:!0,isInline:!0,onClick:function(){return l(a.id)},"data-testid":i.ep.AddressEditDropoffOption,children:a.displayString},a.id)})}),p(3)]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(h.StackChildren,{"data-testid":i.ep.AddressEditDropoffSelection,children:[(0,d.jsx)(h.Text,{styles:h.Text.Styles.Bold14,children:k.Z.dropOffOptions()}),b.map(function(a){return(0,d.jsxs)(h.StackChildren,{size:h.Stack.Sizes.XSmall,children:[(0,d.jsx)(g.ZP,{label:a.displayString,name:"dropoff-type",isDisabled:!a.isEnabled,isSelected:a.id===c,type:g.ZP.Types.Radio,onChange:function(){l(a.id)},"data-testid":i.ep.AddressEditDropoffOption}),!a.isEnabled&&a.disabledMessage&&(0,d.jsx)(h.Text,{styles:h.Text.Styles.SectionSubtext,color:h.Text.Colors.TextPrimary,children:a.disabledMessage})]},a.id)})]}),p(2)]})};b.Z=l},12136:function(a,b,c){c.d(b,{R:function(){return i}});var d=c(14924),e=c(26042),f=c(69396),g=c(67294),h=c(78259);function i(a){var b,c,i,j,k,l,m,n,o,p,q=a.selectedAdddressData,r=a.isBuzzerInputEncouraged,s=a.consumerLastName,t=a.dropoffOptions,u=a.dropoffPreferences,v=a.driverInstructions,w=a.preSelectedAddressLabelName,x=(0,g.useState)((j=(b={selectedAdddressData:q,isBuzzerInputEncouraged:r,consumerLastName:s,dropoffOptions:t,dropoffPreferences:u,driverInstructions:v,preSelectedAddressLabelName:w}).selectedAdddressData,k=b.isBuzzerInputEncouraged,l=b.consumerLastName,m=b.dropoffOptions,n=b.dropoffPreferences,o=b.driverInstructions,p=b.preSelectedAddressLabelName,{subpremise:(k?l:null==j?void 0:j.subpremise)||"",buildingName:(null==j?void 0:j.buildingName)||"",entryCode:(null==j?void 0:j.entryCode)||"",personalAddressLabelName:null!==(i=null!=p?p:null==j?void 0:null===(c=j.personalAddressLabel)||void 0===c?void 0:c.labelName)&&void 0!==i?i:"",selectedDropoffOptionId:(0,h.xy)(n,m),dropoffOptionWithInstructions:(0,h.MG)(n,m,o),draftCoordinates:null,formError:null})),y=x[0],z=x[1],A=(0,g.useCallback)(function(a,b){z(function(c){return(0,f.Z)((0,e.Z)({},c),(0,d.Z)({},a,b))})},[]);return(0,g.useMemo)(function(){return{localEditForm:y,updateLocalEditForm:A}},[y,A])}},21173:function(a,b,c){c.d(b,{Au:function(){return k},Gt:function(){return d},V0:function(){return j},r:function(){return i}});var d,e,f=c(51112),g=c(52822),h=c(13716);(e=d||(d={})).ChangePin="ChangePin",e.Edit="Edit";var i=[{featureType:"poi",elementType:"all",stylers:[{visibility:"off"},]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"},]},],j=function(a){return(0,h.Cf)(a)?null:a},k=function(a){var b=(0,f.ie)(a);return(null==b?void 0:b.message)||g.Z.addressEditSaveNewError()}},27414:function(a,b,c){c.d(b,{Z:function(){return z}});var d=c(85893),e=c(24906),f=c(31280),g=c(10071),h=c(67294),i=c(20688),j=c(4831),k=c(94533),l=c(61449),m=c(3532),n=c(9633),o=c(22459),p=c(62139),q=c(7297),r=c(87379),s=c(52822),t=c(95779);function u(){var a=(0,q.Z)(["\n  > div {\n    background-color: transparent;\n\n    :hover {\n      background-color: ",";\n    }\n  }\n"]);return u=function(){return a},a}var v=r.default.div.withConfig({componentId:"sc-e70f8448-0"})(u(),function(a){return a.isSelected?g.Colors.SystemRed20:g.Colors.BackgroundTertiary}),w=function(a){var b=a.addressId,c=a.addressShortName,f=a.centered,g=a.size,h=a.useCustomTheme,j=a.isSelected,k=a.handleClick,l=function(){return(0,d.jsx)(e.IconButton,{"data-anchor-id":i.ep.AddressEditIcon,"data-testid":i.ep.AddressEditIcon,accessibilityLabel:s.Z.editAddressAriaLabel(c),onClick:function(a){a.stopPropagation(),a.nativeEvent.stopImmediatePropagation(),k(b)},iconType:e.IconButton.IconTypes.EditLine,tag:"div",size:null!=g?g:void 0})},m=function(){return h?(0,d.jsx)(v,{isSelected:j,children:l()}):l()};return f?(0,d.jsx)(t.A7,{children:m()}):m()},x=function(a){var b=a.addressId,c=a.addressShortName,f=a.handleClick;return(0,d.jsx)(e.IconButton,{"data-anchor-id":i.ep.AddressDeleteIcon,"data-testid":i.ep.AddressDeleteIcon,accessibilityLabel:s.Z.removeAddressAriaLabel(c),onClick:function(a){a.stopPropagation(),f(b)},iconType:e.IconButton.IconTypes.Close,tag:"div"})},y=function(a){var b=a.isSelected,c=a.isAddressLabelEnabled,d=a.personalAddressLabel;return c?(0,o.at)(null==d?void 0:d.labelIcon,b):b?f.ZP.IconTypes.RadioOnCircleFill:f.ZP.IconTypes.RadioOffCircleLine},z=function(a){var b,c=a.availableAddresses,o=a.defaultAddressId,q=a.onEdit,r=a.onSelect,s=a.onRemove,t=a.isLiteGuest,u=a.isAddressLabelEnabled,v=a.isCurrentLocationSelected;h.useEffect(function(){(0,m.ZP)(n.wd.EnterAddressPageView)},[]);var z=null!==(b=null==c?void 0:c.filter(k.K))&&void 0!==b?b:[];return(0,d.jsx)("div",{role:"radiogroup","data-anchor-id":i.ep.AddressList,children:z.map(function(a,b){var c,h=a.shortname||"",k="".concat(a.shortname," ").concat((0,j.Ay)(a.subpremise)).trim(),n=!v&&a.id===o,A=null!==(c=a.personalAddressLabel)&&void 0!==c?c:null,B=u&&(null==A?void 0:A.labelName),C=function(){var b=B?a.printableAddress:(0,j.gj)(h,a.printableAddress||"");return u?(0,d.jsx)(g.Text,{styles:g.Text.Styles.Caption1,color:n?g.Text.Colors.CurrentColor:g.Text.Colors.TextSecondary,children:b}):b},D=function(){if(t)return null;var b=u?e.IconButton.Sizes.Small:null;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(w,{addressId:a.id,addressShortName:h,handleClick:q,centered:u,size:b,useCustomTheme:u,isSelected:n}),!u&&!n&&(0,d.jsx)(x,{addressId:a.id,addressShortName:h,handleClick:s})]})},E=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(f.ZP,{"data-anchor-id":i.ep.AddressListItem,"data-testid":p.D.AddressListItem,size:f.ZP.Sizes.Small,insetVerticalSize:u?f.ZP.InsetSizes.XSmall:f.ZP.InsetSizes.Small,accessibilityRole:"radio",iconStart:{isInteractive:!1,type:y({isSelected:n,isAddressLabelEnabled:u,personalAddressLabel:A})},isToggleable:!0,isToggled:n,onClick:function(){r(a.id),l.AR(o),(0,m.ZP)("m_update_user_default_address_job_success",{address_id:a.id})},title:B?A.labelName:k,subtext:C(),renderAfterContent:D,isSeparatorVisible:!u||b!==z.length-1})},a.id)};return u&&n?(0,d.jsx)(g.Theming,{overrides:{Colors:{ListCellContainerBackgroundDefault:g.Colors.SystemRed0,ListCellContainerBackgroundHovered:g.Colors.SystemRed5,ListCellContainerBackgroundPressed:g.Colors.SystemRed20}},children:E()}):E()})})}},52822:function(a,b,c){var d=c(23685);b.Z={addresses:function(){return d.default.t("addressPickerStrings_addresses")},removeAddress:function(){return d.default.t("address_remove_address")},close:function(){return d.default.t("address_close")},defaultAutocompleteLabel:function(){return d.default.t("addressPickerStrings_defaultAutocompleteLabel")},autocompletePlaceholder:function(){return d.default.t("addressPickerStrings_autocompletePlaceholder")},autocompletePlaceholderV2:function(){return d.default.t("addressPickerStrings_autocompletePlaceholderV2")},clearSearchInput:function(){return d.default.t("addressPickerStrings_clearSearchInput")},googleAttributionAltText:function(){return d.default.t("addressPickerStrings_googleAttributionAltText")},defaultNoMatchErrorMessage:function(){return d.default.t("addressPickerStrings_defaultNoMatchErrorMessage")},editAddressAriaLabel:function(a){return d.default.t("addressPickerStrings_editAddressAriaLabel",{streetAddress:a})},removeAddressAriaLabel:function(a){return d.default.t("addressPickerStrings_removeAddressAriaLabel",{streetAddress:a})},dropOffOptions:function(){return d.default.t("addressPickerStrings_dropOffOptions")},dropoffOptionsSentenceCase:function(){return d.default.t("addressPickerStrings_dropOffOptionsSentenceCase")},apartmentInput:{label:function(){return d.default.t("addressPickerStrings_apartmentInput_label")},labelV2:function(){return d.default.t("addressPickerStrings_apartmentInput_labelV2")},placeholder:function(){return d.default.t("addressPickerStrings_apartmentInput_placeholder")},ariaLabel:function(){return d.default.t("addressPickerStrings_apartmentInput_ariaLabel")}},apartmentInputWithBuzzer:{label:function(){return d.default.t("addressPickerStrings_apartmentInputWithBuzzer_label")},placeholder:function(){return d.default.t("addressPickerStrings_apartmentInputWithBuzzer_placeholder")},ariaLabel:function(){return d.default.t("addressPickerStrings_apartmentInputWithBuzzer_ariaLabel")}},buildingName:{label:function(){return d.default.t("addressPickerStrings_buildingName_label")},placeholder:function(){return d.default.t("addressPickerStrings_buildingName_placeholder")},ariaLabel:function(){return d.default.t("addressPickerStrings_buildingName_ariaLabel")}},entryCode:{label:function(){return d.default.t("addressPickerStrings_entryCode_label")},placeholder:function(){return d.default.t("addressPickerStrings_entryCode_placeholder")},ariaLabel:function(){return d.default.t("addressPickerStrings_entryCode_ariaLabel")}},addressLabel:{label:function(){return d.default.t("addressPickerStrings_addressLabel_label")},placeholder:function(){return d.default.t("addressPickerStrings_addressLabel_placeholder")},minCharacterError:function(){return d.default.t("addressPickerStrings_addressLabel_minCharacterError")},maxCharacterError:function(){return d.default.t("addressPickerStrings_addressLabel_maxCharacterError")},clearButtonText:function(){return d.default.t("addressPickerStrings_addressLabel_clearButtonText")},bannerText:function(){return d.default.t("addressPickerStrings_addressLabel_bannerText")}},instructionsInput:{placeholder:function(){return d.default.t("addressPickerStrings_instructionsInput_placeholder")},ariaLabel:function(){return d.default.t("addressPickerStrings_instructionsInput_ariaLabel")}},addressEditCancel:function(){return d.default.t("addressPickerStrings_addressEditCancel")},addressEditSave:function(){return d.default.t("addressPickerStrings_addressEditSave")},locationSharing:{optInTitle:function(){return d.default.t("locationSharing_optIn_title")},optInDescription:function(){return d.default.t("locationSharing_optIn_description")},optInButton:function(){return d.default.t("locationSharing_optIn_button")},optInErrorTitle:function(){return d.default.t("locationSharing_optIn_error_title")},optInErrorDescription:function(){return d.default.t("locationSharing_optIn_error_description")},optInErrorAccessabilityLabel:function(){return d.default.t("locationSharing_optIn_error_accessibilityLabel")}},addressEditAdjustPin:function(){return d.default.t("addressPickerStrings_addressEditAdjustPin")},addressEditPinLocationError:function(){return d.default.t("addressPickerStrings_addressEditPinLocationError")},addressEditPinLocationNoChange:function(){return d.default.t("addressPickerStrings_addressEditPinLocationNoChange")},addressEditSaveNewError:function(){return d.default.t("addressPickerStrings_addressEditSaveNewError")},addressEditPinSaveError:function(){return d.default.t("addressPickerStrings_addressEditPinSaveError")},outOfRangeErrorTitle:function(){return d.default.t("addressPickerStrings_outOfRangeErrorTitle")},seePickupLocations:function(){return d.default.t("addressPickerStrings_seePickupLocations")},addressRequired:function(){return d.default.t("addressPickerStrings_addressRequiredLabel")},addressOutsideDeliveryZone:function(){return d.default.t("addressPickerStrings_addressOutsideDeliveryZoneLabel")},apartmentInputPlaceholder:function(){return d.default.t("addressPickerStrings_apartmentInputTextPlaceholder")},apartmentInputOptional:function(){return d.default.t("addressPickerStrings_OptionalLabel")},addressAddSave:function(){return d.default.t("addressPickerStrings_addressAddSaveButtonText")},addressAddNext:function(){return d.default.t("addressPickerStrings_addressAddNextButtonText")},addressEditBack:function(){return d.default.t("addressPickerStrings_addressEditBackButtonText")},addressOutOfRangeTitle:function(){return d.default.t("addressPickerStrings_addressOutOfRangeHeading")},addressOutOfRangeText:function(){return d.default.t("addressPickerStrings_addressOutOfRangeBannerText")},addressOutOfRangeButtonText:function(){return d.default.t("addressPickerStrings_addressOutOfRangeButton")},addressSwitchAndSaveTitle:function(){return d.default.t("addressPickerStrings_addressSwitchAndSaveBannerTitle")},addressSwitchAndSaveText:function(){return d.default.t("addressPickerStrings_addressSwitchAndSaveBannerText")},accessibilityErrorIconLabel:function(){return d.default.t("addressPickerStrings_accessibilityErrorIconLabel")},accessibilityWarningIconLabel:function(){return d.default.t("addressPickerStrings_accessibilitywarningIconLabel")},saveAndSwitchButtonText:function(){return d.default.t("addressPickerStrings_saveAndSwitchButton")},savedAddressesText:function(){return d.default.t("addressPickerStrings_savedAddressesText")},deliveryAddressTitle:function(){return d.default.t("addressPickerStrings_deliveryAddress")},changeAddressTitle:function(){return d.default.t("addressPickerStrings_changeAddress")},streetAddressText:function(){return d.default.t("addressPickerStrings_addressStreetAddress")},enterAddressText:function(){return d.default.t("addressPickerStrings_addressEnterAddress")},addressEditText:function(){return d.default.t("addressPickerStrings_addressEdit")},validationAddressEditText:function(){return d.default.t("addressPickerStrings_validationAddressEdit")},deliveryInstructions:function(){return d.default.t("addressPickerStrings_addressDeliveryInstructions")},signInForSavedAddress:function(){return d.default.t("addressPickerStrings_signinForSavedAddress")},signInForSavedAddressV2:function(){return d.default.t("addressPickerStrings_signinForSavedAddressV2")},recent:function(){return d.default.t("addressPickerStrings_recent")},setLabelAddress:function(a){return d.default.t("addressPickerStrings_setLabelAddress",{label:a})},setAddress:function(){return d.default.t("addressPickerStrings_setAddress")},searchForLabelAddress:function(a){return d.default.t("addressPickerStrings_searchForLabelAddress",{label:a})},editAddress:function(){return d.default.t("address_edit_title")},saveAddress:function(){return d.default.t("address_save_address")}}},95779:function(a,b,c){c.d(b,{A7:function(){return s},Kk:function(){return u},UI:function(){return r},Wk:function(){return v},Zd:function(){return p},Zl:function(){return t},oh:function(){return q},qO:function(){return o}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  display: flex;\n  padding: ","px;\n  justify-content: flex-end;\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  label {\n    margin-bottom: ","px;\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  margin: -","px;\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  padding-left: ","px;\n  margin-bottom: ","px;\n  ","\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  cursor: pointer;\n  display: block;\n  margin-right: ","px;\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  margin-bottom: ","px;\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)(["\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n"]);return n=function(){return a},a}var o=f.default.div.withConfig({componentId:"sc-db4bcb1f-0"})(g(),e.Spacing.Small),p=f.default.div.withConfig({componentId:"sc-db4bcb1f-1"})(h(),e.Spacing.XxSmall),q=f.default.div.withConfig({componentId:"sc-db4bcb1f-2"})(i(),e.Spacing.Small),r=(0,f.default)(e.Text).attrs(function(){return{styles:e.Text.Styles.Bold18}}).withConfig({componentId:"sc-db4bcb1f-3"})(j(),e.Spacing.Small,e.Spacing.XxSmall,function(a){return a.hasMarginTop&&"margin-top: ".concat(e.Spacing.XSmall,"px;")}),s=f.default.div.withConfig({componentId:"sc-db4bcb1f-4"})(k()),t=(0,f.default)(e.Icon).attrs(function(){return{}}).withConfig({componentId:"sc-db4bcb1f-5"})(l(),function(a){return a.hasMarginRight?e.Spacing.XxSmall:e.Spacing.None}),u=f.default.div.withConfig({componentId:"sc-db4bcb1f-6"})(m(),e.Spacing.Small),v=f.default.div.withConfig({componentId:"sc-db4bcb1f-7"})(n())},95505:function(a,b,c){c.d(b,{Hz:function(){return j},a5:function(){return k},gC:function(){return h},zj:function(){return g}});var d=c(26042),e=c(3532),f=c(9633),g=function(){(0,e.ZP)(f.wd.SelectedAddress)},h=function(){(0,e.ZP)(f.wd.ClickedEditAddress,{entry:f.kS.AddressPicker})},i=function(a){return function(b){var c=b.addressId,g=b.addressEntryPoint,h=b.addressToUpdate,i=b.editResponse,j=b.dropoffOptionId,k=b.manualLat,n=b.manualLng;(0,e.ZP)(a,{entry:f.kS.AddressPicker,dropoff_option_id:j,address_id:c,pin_lat:k,pin_lng:n}),(0,e.ZP)("debug_address_modify",(0,d.Z)({address_entry_point:g},m(h),l(i)))}},j=i(f.wd.SubmittedAddressEdits),k=i(f.wd.AddressEditSubmitError),l=function(a){if(!a)return{};var b,c=a.defaultAddress,d=a.availableAddresses,e=null==c?void 0:c.dropoffPreferences.allPreferences.find(function(a){return a.isDefault});return{edited_address_id:null==c?void 0:c.id,edited_address_dropoffPreference:null==e?void 0:e.optionId,edited_address_instructions:null==c?void 0:c.driverInstructions,edited_address_latitude:null==c?void 0:c.lat,edited_address_longitude:null==c?void 0:c.lng,edited_address_manual_latitude:null==c?void 0:c.manualLat,edited_address_manual_longitude:null==c?void 0:c.manualLng,edited_address_subpremise:null==c?void 0:c.subpremise,edited_available_addresses:JSON.stringify(null==d?void 0:d.map(function(a){return null==a?void 0:a.id})),edited_address_label_name:null==c?void 0:null===(b=c.personalAddressLabel)||void 0===b?void 0:b.labelName}},m=function(a){if(!a)return{};var b=null==a?void 0:a.dropoffPreferences.allPreferences.find(function(a){return a.isDefault}),c=a.id,d=a.driverInstructions,e=a.lat,f=a.lng,g=a.manualLat,h=a.manualLng,i=a.street,j=a.subpremise,k=a.city,l=a.state,m=a.zipCode,n=a.country,o=a.personalAddressLabel;return{previous_address_id:c,previous_address_dropoffPreference:null==b?void 0:b.optionId,previous_address_instructions:d,previous_address_latitude:e,previous_address_locality_line:"".concat(k,", ").concat(l," ").concat(m,", ").concat(n),previous_address_longitude:f,previous_address_manual_latitude:g,previous_address_manual_longitude:h,previous_address_street_line:"".concat(i,", ").concat(j),previous_address_subpremise:j,previous_address_label_name:null==o?void 0:o.labelName,previous_address_label_icon:null==o?void 0:o.labelIcon}}},9205:function(a,b,c){var d=c(10253),e=c(85893),f=c(24906),g=c(10071),h=c(67294),i=c(78727),j=c(42948),k=c(52822),l=c(63143),m=function(a){var b,c=a.address,m=a.handleChangePinLocation,n=a.draftCoordinates,o=a.errorMessage,p=a.onCancel,q=a.onSubmit,r=a.hideTitle,s=a.shouldStackActionButtons,t=a.hideActionButtons,u=(0,d.Z)(h.useState({lat:n.lat,lng:n.lng}),1),v=u[0],w=(0,i.Z)(),x=w.grantedGeolocationPermission,y=w.position,z=w.updateCurrentPosition,A=null!==(b=null==y?void 0:y.coords)&&void 0!==b?b:{},B=A.latitude,C=A.longitude;h.useEffect(function(){x&&z()},[x,z]);var D=function(a){var b,c;(a.nativeEvent.stopImmediatePropagation(),b=v,(c=n).lat!==b.lat||c.lng!==b.lng)?null==q||q(n):null==p||p(a)};return(0,e.jsxs)(g.StackChildren,{children:[!(void 0!==r&&r)&&(0,e.jsx)(g.Text,{styles:g.Text.Styles.PageTitle,children:k.Z.addressEditAdjustPin()}),(0,e.jsx)(j.Z,{defaultAddress:c,isEditing:!0,isCompact:!1,onChange:m,locationOverride:n,consumerLocation:{latitude:null!=B?B:0,longitude:null!=C?C:0}}),o&&(0,e.jsx)(l.Z,{children:o}),!(void 0!==t&&t)&&(s?(0,e.jsxs)(g.StackChildren,{size:g.StackChildren.Sizes.XxSmall,children:[(0,e.jsx)(f.default,{onClick:D,children:k.Z.addressEditSave()}),(0,e.jsx)(f.default,{onClick:p,type:f.default.Types.Tertiary,children:k.Z.addressEditCancel()})]}):(0,e.jsxs)(g.InlineChildren,{children:[(0,e.jsx)(f.default,{onClick:p,type:f.default.Types.Tertiary,children:k.Z.addressEditCancel()}),(0,e.jsx)(f.default,{onClick:D,children:k.Z.addressEditSave()})]}))]})};b.Z=m},35953:function(a,b,c){c.d(b,{Z:function(){return k}});var d=c(85893);c(67294);var e=c(10071),f=c(7297),g=c(87379);function h(){var a=(0,f.Z)(["\n  background-color: ",";\n"]);return h=function(){return a},a}var i=g.default.div.withConfig({componentId:"sc-111ec8f0-0"})(h(),e.Colors.BannerNegativeBackground),j=c(87708),k=function(a){return(0,d.jsx)(i,{"data-testid":"AddressPickerErrorBanner",children:(0,d.jsx)(e.Inset,{children:(0,d.jsxs)(e.InlineChildren,{alignItems:e.InlineChildren.Alignment.Center,size:e.InlineChildren.Sizes.XSmall,children:[(0,d.jsx)(e.Icon,{type:e.Icon.Types.ErrorFill,color:e.Icon.Colors.BannerNegativeIcon,accessibilityLabel:"Error Icon"}),(0,d.jsx)(j.I,{error:a.children,children:(0,d.jsx)(e.Text,{styles:e.Text.Styles.Medium14,children:a.children})})]})})})}},63143:function(a,b,c){c.d(b,{Z:function(){return d.Z}});var d=c(35953)},84865:function(a,b,c){c.d(b,{R:function(){return h},m:function(){return g}});var d=c(85893),e=c(67294),f=e.createContext(void 0),g=function(a){var b=a.mode,c=a.setMode,e=a.useDraftAddressFromModal,g=a.draftAddress,h=a.setDraftAddress,i=a.children;return(0,d.jsx)(f.Provider,{value:{mode:b,setMode:c,useDraftAddressFromModal:e,draftAddress:g,setDraftAddress:h},children:i})},h=function(){return e.useContext(f)}},53982:function(a,b,c){var d=c(26042),e=c(69396),f=c(85893),g=c(53698),h=c(1968),i=c(43947),j=c(13819);c(67294);var k=c(24693),l=c(23180),m=c(22459),n=c(18577),o=c(24249),p=c(84865),q=c(14334),r=c(1498),s=[o.A.Edit,o.A.ChangePin],t=function(a){var b=a.addressEntryPoint,c=a.title,t=a.address,u=a.dropoffOptions,v=a.onClose,w=a.dropoffPreferences,x=a.defaultAddressId,y=a.driverInstructions,z=a.customizations,A=a.refetchQueries,B=a.testId,C="".concat(b,"/EditAddressModal"),D=(0,g.Z)().isStorefront,E=(0,q.p)({defaultMode:o.A.Edit,addressEntryPoint:C,addAddressMutationProps:{addressEntryPoint:C,refetchQueries:A},onEditAddressCompleted:function(){I(void 0),null==v||v()}}),F=E.mode,G=E.setMode,H=E.draftAddress,I=E.setDraftAddress,J=E.editFormError,K=E.setEditFormError,L=E.saveAddress,M=E.saveChangePin,N=E.loading,O=(0,n.p)(),P=O.removeAddress,Q=function(a){a?P(a):i.eN({level:j.z.Warning,message:"Trying to remove an address without id"})},R=function(){F===o.A.ChangePin&&H&&I((0,e.Z)((0,d.Z)({},H),{draftCoordinates:null})),G(o.A.Edit),K(null)},S=function(){return F===o.A.ChangePin?R():null==v?void 0:v()};return!D&&s.includes(F)&&t?(0,f.jsx)(h.Modal,{"data-testid":B,title:c,hasCloseButton:!0,onClose:S,size:h.Modal.Sizes.Small,renderFooterContent:(0,r.u)({isAddressLabelEnabled:!0,loading:N,mode:F,error:J,onCancel:S,onSave:function(){F===o.A.ChangePin?M():F===o.A.Edit&&L()}}),children:(0,f.jsx)(p.m,{mode:F,setMode:G,useDraftAddressFromModal:!0,draftAddress:H,setDraftAddress:I,children:(0,f.jsx)(k.n,{address:(0,m.aN)(t)?void 0:t,googlePlaceId:(0,m.aN)(t)?t.googlePlaceId:void 0,children:(0,f.jsx)(l.Z,{dropoffPreferences:w,dropoffOptions:u,driverInstructions:y,address:t,hideAdjustPin:null==z?void 0:z.hideAdjustPin,hideDropOffOptions:null==z?void 0:z.hideDropOffOptions,handleRemoveAddress:Q,defaultAddressId:x})})})}):null};b.Z=t},14334:function(a,b,c){c.d(b,{p:function(){return r}});var d=c(26042),e=c(69396),f=c(67294),g=c(64370),h=c(2886),i=c(11459),j=c(72131),k=c(21173),l=c(52822),m=c(95505),n=c(22459),o=c(1100),p=c(90516),q=c(24249);function r(a){var b,c,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J=a.defaultMode,K=a.addressEntryPoint,L=a.addAddressMutationProps,M=a.onEditAddressCompleted,N=null!=J?J:q.A.Default,O=(0,f.useState)(N),P=O[0],Q=O[1],R=(0,f.useState)(),S=R[0],T=R[1],U=(0,f.useState)(null),V=U[0],W=U[1],X=(0,f.useCallback)(function(){T(void 0),W(null),Q(N)},[N]),Y=(c=(b={addressEntryPoint:K,addAddressMutationProps:L,setEditFormError:W,onEditAddressCompleted:M,draftAddress:S,clearStates:X}).addressEntryPoint,r=b.addAddressMutationProps,s=b.draftAddress,t=b.clearStates,u=b.setEditFormError,v=b.onEditAddressCompleted,w=(0,o.s)(r),x=w.addConsumerAddress,y=w.res,z=y.loading,A=(0,p.i)(),B=A.editAddress,C=A.res,D=C.loading,E=(0,f.useContext)(h.Uu).consumer,F=(0,g.M)().handleGiftIntentUpdate,G=function(a){var b,c=(0,n.Yt)(a.draftCoordinates),d=c.manualLat,e=c.manualLng,f={manualLat:d,manualLng:e,lat:a.lat,lng:a.lng,dropoffOptionId:a.dropoffOptionId};return x({lat:a.lat,lng:a.lng,city:a.city,state:a.state,zipCode:a.zipCode,printableAddress:a.printableAddress,shortname:a.shortname,googlePlaceId:a.googlePlaceId,subpremise:a.subpremise,driverInstructions:a.driverInstructions,dropoffOptionId:a.dropoffOptionId,addressLinkType:a.addressLinkType,buildingName:a.buildingName,entryCode:a.entryCode,manualLat:d,manualLng:e,personalAddressLabel:{labelName:null===(b=a.personalAddressLabel)||void 0===b?void 0:b.labelName}}).then(function(){(0,j.KS)(f),u(null),t()}).catch(function(a){var b=(0,k.Au)(a);u(b),(0,j.hJ)(f)})},H=function(a){var b,f=(0,n.Yt)(a.draftCoordinates),g=f.manualLat,h=f.manualLng,j={addressId:a.id,dropoffOptionId:a.dropoffOptionId,manualLat:g,manualLng:h,addressEntryPoint:c,addressToUpdate:E.defaultAddress};return u(null),B({subpremise:a.subpremise,driverInstructions:a.driverInstructions,dropoffOptionId:a.dropoffOptionId,addressLinkType:a.addressLinkType,entryCode:a.entryCode,buildingName:a.buildingName,manualLat:g,manualLng:h,personalAddressLabel:{labelName:null===(b=a.personalAddressLabel)||void 0===b?void 0:b.labelName},addressId:a.id}).then(function(b){var c;v(),(0,m.Hz)((0,e.Z)((0,d.Z)({},j),{editResponse:null==b?void 0:null===(c=b.data)||void 0===c?void 0:c.editConsumerAddress})),F({addressId:a.id,addressLinkType:a.isGiftingAddressToggled?i.z5.ADDRESS_LINK_TYPE_GIFT:i.z5.ADDRESS_LINK_TYPE_UNSPECIFIED}),t()}).catch(function(a){(0,m.a5)((0,e.Z)((0,d.Z)({},j),{editResponse:null}));var b=(0,k.Au)(a);u(b)})},I=function(){s&&((0,n.aN)(s)?G(s):H(s))},{loading:z||D,saveAddress:I}),Z=Y.saveAddress,$=Y.loading,_=function(){var a=(null!=S?S:{}).draftCoordinates;S&&(a?(0,n.ng)(a,S)?(T(function(b){return b?(0,e.Z)((0,d.Z)({},b),{manualLat:a.lat,manualLng:a.lng}):void 0}),Q(q.A.Edit),W(null)):(T(function(a){return a?(0,e.Z)((0,d.Z)({},a),{manualLat:null,manualLng:null}):void 0}),W(l.Z.addressEditPinLocationError())):W(l.Z.addressEditPinLocationNoChange()))};return{mode:P,setMode:Q,draftAddress:S,setDraftAddress:T,editFormError:V,setEditFormError:W,saveAddress:Z,saveChangePin:_,loading:$}}},1498:function(a,b,c){c.d(b,{O:function(){return s},u:function(){return u}});var d=c(85893);c(67294);var e=c(23685),f=c(52822),g=c(24249),h=c(7297),i=c(24906),j=c(10071),k=c(87379),l=c(11698),m=c(35953),n=c(62139);function o(){var a=(0,h.Z)(["\n  flex: 1;\n"]);return o=function(){return a},a}var p=(0,k.default)(j.StackChildren).attrs(function(){return{size:j.StackChildren.Sizes.XxSmall}}).withConfig({componentId:"sc-bdc2c96d-0"})(o()),q=function(a){var b=a.error,c=a.loading,e=a.mode,h=a.onCancel,k=a.onSave,o=(0,l.ac)().isMobile,q=e===g.A.ChangePin,r=(0,d.jsx)(i.default,{isInline:!q&&!o,type:q?i.default.Types.Tertiary:i.default.Types.Plain,onClick:h,isDisabled:c,"data-testid":n.D.AddressModalFooterCancelButton,children:f.Z.addressEditCancel()}),s=(0,d.jsx)(i.default,{isInline:!q&&!o,onClick:k,state:c?i.default.States.Loading:i.default.States.Default,"data-testid":n.D.AddressModalFooterSubmitButton,children:q?f.Z.addressEditSave():f.Z.saveAddress()});return(0,d.jsxs)(p,{children:[b&&(0,d.jsx)(m.Z,{children:b}),o?(0,d.jsxs)(j.StackChildren,{size:j.StackChildren.Sizes.XxSmall,children:[s,r]}):(0,d.jsxs)(j.InlineChildren,{justifyContent:j.InlineChildren.Justification.FlexEnd,size:j.InlineChildren.Sizes.XxSmall,children:[r,s]})]})},r=c(633),s=function(a){var b=a.titleProp,c=a.isEditTitle,d=a.isAddressLabelEnabled,h=a.mode,i=a.isGuest,j=a.selectedAddressLabelName;if(d&&h===g.A.SetLabel&&j)return f.Z.setLabelAddress(null!=j?j:"");if(d&&h===g.A.ChangePin)return f.Z.addressEditAdjustPin();if(c||h===g.A.Edit)return d?f.Z.saveAddress():f.Z.editAddress();var k=i?r.Z.header.addAddress():f.Z.addresses(),l=d?k:e.default.t("menu_addressDetails_enterYourDeliveryAddressText");return b||l},t=[g.A.Edit,g.A.ChangePin],u=function(a){var b=a.renderFooterContentProp,c=a.isAddressLabelEnabled,e=a.loading,f=a.mode,g=a.error,h=a.onCancel,i=a.onSave;return b?b:c&&t.includes(f)?function(){return(0,d.jsx)(q,{mode:f,error:g,loading:e,onCancel:h,onSave:i})}:void 0}},90516:function(a,b,c){c.d(b,{i:function(){return o}});var d=c(26042),e=c(69396),f=c(10253),g=c(7297),h=c(44119),i=c.n(h),j=c(46367),k=c(20306),l=c(2886);function m(){var a=(0,g.Z)(["\n  mutation editConsumerAddress(\n    $subpremise: String\n    $driverInstructions: String\n    $dropoffOptionId: String\n    $addressId: String\n    $manualLat: Float\n    $manualLng: Float\n    $addressLinkType: AddressLinkType\n    $buildingName: String\n    $entryCode: String\n    $personalAddressLabel: PersonalAddressLabelInput\n    $returnConsumerFragment: Boolean!\n  ) {\n    editConsumerAddress(\n      subpremise: $subpremise\n      driverInstructions: $driverInstructions\n      dropoffOptionId: $dropoffOptionId\n      addressId: $addressId\n      manualLat: $manualLat\n      manualLng: $manualLng\n      addressLinkType: $addressLinkType\n      buildingName: $buildingName\n      entryCode: $entryCode\n      personalAddressLabel: $personalAddressLabel\n    ) {\n      defaultAddress {\n        ...DefaultAddressFragment\n      }\n      availableAddresses {\n        ...DefaultAddressFragment\n      }\n      ... @include(if: $returnConsumerFragment) {\n        ...ConsumerFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return a},a}var n=i()(m(),l.qN,l.sy),o=function(){var a=(0,f.Z)((0,j.Db)(n),2),b=a[0],c=a[1],g=(0,k.Z)().isAddressLabelEnabled;return{editAddress:function(a){return b({variables:(0,e.Z)((0,d.Z)({},a),{returnConsumerFragment:g})})},res:c}}},18577:function(a,b,c){c.d(b,{p:function(){return n}});var d=c(10253),e=c(7297),f=c(44119),g=c.n(f),h=c(46367),i=c(2886),j=c(3532),k=c(9633);function l(){var a=(0,e.Z)(["\n  mutation removeConsumerAddress($defaultAddressId: ID!) {\n    removeConsumerAddress(defaultAddressId: $defaultAddressId) {\n      ...ConsumerFragment\n    }\n  }\n  ","\n"]);return l=function(){return a},a}var m=g()(l(),i.sy),n=function(a){var b,c=(0,d.Z)((0,h.Db)(m,{onCompleted:function(b){(0,j.ZP)(k.wd.AddressDeleteSubmit,b),null==a||a(b)}}),2),e=c[0];return{removeAddress:function(a){return e({variables:{defaultAddressId:a}})},res:c[1]}}},92470:function(a,b,c){c.d(b,{M9:function(){return T},uF:function(){return at},ZP:function(){return an}});var d=c(26042),e=c(69396),f=c(10253),g=c(85893),h=c(1968),i=c(91152),j=c(95899),k=c(10071),l=c(10045),m=c(6466),n=c(86718),o=c(39693),p=c.n(o),q=c(67294),r=c(64370),s=c(3406),t=c(20306),u=c(24693),v=c(61449),w=c(3532),x=c(95846),y=c(24906),z=c(53390),A=c(70573),B=c(44529),C=c(51232),D=c(28766),E=c(35042),F=c(2886),G=c(11459),H=c(20688),I=c(9633),J=c(52822),K=c(22459),L=c(9205),M=c(63143),N=c(36878),O=c(53103),P=c(72131),Q=c(10560),R=c(12136),S=c(21173),T=function(a){var b,c,h,i=a.dropoffOptions,l=void 0===i?[]:i,m=a.dropoffPreferences,n=a.onCancel,o=a.driverInstructions,p=a.address,r=a.handleSubmitNewAddress,s=a.handleSubmitEditAddress,t=a.customizations,u=function(a,b){var c,d,e;$("dropoffOptionWithInstructions",(c=ac,d=a,e=b,c.slice().map(function(a){return a.optionId===d?{optionId:d,instructions:e}:a})))},v=function(a){a.nativeEvent.stopImmediatePropagation();var b,c=ab||void 0,f=(0,K.I0)(ac,ab),g=(0,K.Yt)(ad),h=g.manualLat,i=g.manualLng,j=au?G.z5.ADDRESS_LINK_TYPE_GIFT:G.z5.ADDRESS_LINK_TYPE_UNSPECIFIED,k={subpremise:_||"",driverInstructions:f,dropoffOptionId:c,manualLat:h,manualLng:i,addressLinkType:j,entryCode:aa||"",buildingName:void 0,personalAddressLabel:void 0},l=p.lat,m=p.lng;$("formError",null);var n=(0,K.Uq)(p)?p.id:"";if(aa&&(0,P.eK)(n,aa.length),(0,K.Uq)(p))null===(b=s((0,e.Z)((0,d.Z)({},k),{addressId:p.id})))||void 0===b||b.catch(function(a){var b=(0,S.Au)(a);$("formError",b)});else{var o=r(k);void 0!==o&&o.then(function(){(0,P.KS)({manualLat:h,manualLng:i,lat:l,lng:m,dropoffOptionId:c})}).catch(function(a){var b=(0,S.Au)(a);$("formError",b),(0,P.hJ)({manualLat:h,manualLng:i,lat:l,lng:m,dropoffOptionId:c})})}},x=(0,F.RN)().consumer,T=q.useContext(A.DVSClientContext),U=T.state,V=(0,B.p6)(),W=(0,K._h)(),X=(0,D.Z)(p.countryCode),Y=(0,R.R)({selectedAdddressData:p,isBuzzerInputEncouraged:X,consumerLastName:x.lastName,dropoffOptions:l,dropoffPreferences:void 0===m?[]:m,driverInstructions:o}),Z=Y.localEditForm,$=Y.updateLocalEditForm,_=Z.subpremise,aa=Z.entryCode,ab=Z.selectedDropoffOptionId,ac=Z.dropoffOptionWithInstructions,ad=Z.draftCoordinates,ae=Z.formError,af=(0,S.V0)(ae),ag=(0,f.Z)(q.useState(S.Gt.Edit),2),ah=ag[0],ai=ag[1],aj=function(){return $("draftCoordinates",null)},ak=(0,f.Z)(q.useState(null),2),al=ak[0],am=ak[1],an=function(){return am(null)},ao=t||{},ap=ao.hideAdjustPin,aq=ao.hideDropOffOptions,ar=void 0!==aq&&aq,as=(0,E.E)((0,K.Uq)(p),!!(null==V?void 0:null===(b=V.domain)||void 0===b?void 0:null===(c=b.giftInfo)||void 0===c?void 0:c.hasGiftIntent),p.addressLinkType),at=as.isGiftAddressEntryEnabled,au=as.isGiftingAddressToggled,av=as.renderGiftAddressSelector,aw=function(a){a.nativeEvent.stopImmediatePropagation(),aj(),an(),ai(S.Gt.Edit)},ax=function(a){$("formError",""),an(),(0,K.ng)(a,p)?($("draftCoordinates",a),ai(S.Gt.Edit)):(aj(),am(J.Z.addressEditPinLocationError()))};return(q.useEffect(function(){(0,w.ZP)(I.wd.EditAddressPageView)},[]),ah===S.Gt.ChangePin)?(0,g.jsx)(L.Z,{address:p,onSubmit:ax,onCancel:aw,draftCoordinates:ad||(0,K.ey)(p),handleChangePinLocation:function(a){return $("draftCoordinates",a)},errorMessage:al,hideTitle:!1,shouldStackActionButtons:!1,hideActionButtons:!1}):(0,g.jsxs)(k.StackChildren,{"data-anchor-id":H.ep.AddressEditForm,"data-testid":H.ep.AddressEditForm,children:[(0,g.jsx)(O.Z,{separatorType:at?j.default.Types.FullBorder:j.default.Types.Separator,children:(0,g.jsx)(N.Z,{hideAdjustPin:void 0!==ap&&ap,isAddressLabelEnabled:!1,shortname:null!==(h=p.shortname)&&void 0!==h?h:"",printableAddress:p.printableAddress,address:p,locationOverride:ad||(0,K.ey)(p),onClickAdjustPin:function(a){a.nativeEvent.stopImmediatePropagation(),ai(S.Gt.ChangePin),(0,P.mo)()},subpremise:_})}),(0,g.jsx)(C.Z,{onClick:function(){},orderCartId:null==V?void 0:V.id}),(0,g.jsx)(z.TextField,{value:_,size:z.TextField.Sizes.Small,onChange:function(a){return $("subpremise",a)},placeholder:X?J.Z.apartmentInputWithBuzzer.placeholder():J.Z.apartmentInput.placeholder(),label:X?J.Z.apartmentInputWithBuzzer.label():J.Z.apartmentInput.label()}),W&&"ready"===U&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(z.TextField,{value:aa,size:z.TextField.Sizes.Small,onChange:function(a){$("entryCode",a)},placeholder:J.Z.entryCode.placeholder(),label:J.Z.entryCode.label(),description:J.Z.apartmentInputOptional()})}),(0,g.jsx)(O.Z,{hideSeparator:!at||ar,separatorType:j.default.Types.Separator,children:av()}),!ar&&(0,g.jsx)(Q.Z,{dropoffOptions:l,selectedDropoffOptionId:ab,onDropoffOptionChange:function(a){return $("selectedDropoffOptionId",a)},instructions:(0,K.I0)(ac,ab),onInstructionsChange:function(a){ab&&u(ab,a)},useNewDesign:!1}),Boolean(af)&&(0,g.jsx)(M.Z,{children:null!=af?af:""}),(0,g.jsxs)(k.InlineChildren,{children:[(0,g.jsx)(y.default,{onClick:n,type:y.default.Types.Tertiary,children:J.Z.addressEditCancel()}),(0,g.jsx)(y.default,{"data-anchor-id":H.ep.AddressEditSave,onClick:v,children:J.Z.addressEditSave()})]})]})},U=c(23180),V=c(27414),W=c(31280),X=c(94533),Y=c(11698),Z=c(4831),$=function(a){var b=a.availableAddresses,c=a.onClick,d=b.filter(X.K).filter(function(a){var b;return!(null===(b=a.personalAddressLabel)||void 0===b?void 0:b.labelName)}),e=(0,f.Z)(q.useState(-1),2),h=e[0],i=e[1],j=(0,Y.ac)().isMobile;return(0,g.jsx)(g.Fragment,{children:d.map(function(a,b){var e,f="".concat(a.shortname," ").concat((0,Z.Ay)(a.subpremise)).trim();return(0,g.jsx)("div",{onMouseEnter:function(){return i(b)},onMouseLeave:function(){return i(-1)},children:(0,g.jsx)(W.ZP,{"data-anchor-id":H.ep.AddressListSetLabelItem,"data-testid":H.ep.AddressListSetLabelItem,size:W.ZP.Sizes.Small,insetVerticalSize:W.ZP.InsetSizes.XSmall,accessibilityRole:"radio",iconStart:{isInteractive:!1,type:W.ZP.IconTypes.LocationPinEnabledLine},isToggleable:!0,onClick:function(){null==c||c(a.id)},title:f,subtext:(0,Z.gj)(a.shortname||"",a.printableAddress||""),iconEnd:h===b||j?{isInteractive:!1,type:W.ZP.IconTypes.ChevronRight,size:18}:void 0,isSeparatorVisible:b!==d.length-1})},null!==(e=a.id)&&void 0!==e?e:a.shortname)})})},_=c(633),aa=function(a){var b=a.isSelected,c=a.onClick,d=a.isAddressLabelEnabled,e=(0,g.jsx)(W.ZP,{size:W.ZP.Sizes.Small,accessibilityRole:"radio",iconStart:{isInteractive:!1,type:d?b?W.ZP.IconTypes.LocationPointerFill:W.ZP.IconTypes.LocationPointerLine:b?W.ZP.IconTypes.RadioOnCircleFill:W.ZP.IconTypes.RadioOffCircleLine},isToggleable:!0,isToggled:b,onClick:c,title:_.Z.header.currentLocation(),"data-testid":"CurrentLocationListCell"});return d&&b?(0,g.jsx)(k.Theming,{overrides:{Colors:{ListCellContainerBackgroundDefault:k.Colors.SystemBlue5,ListCellContainerBackgroundHovered:k.Colors.SystemBlue10,ListCellContainerBackgroundPressed:k.Colors.SystemBlue30,ListCellIconToggledOn:k.Colors.SystemBlue70,TextSelected:k.Colors.TextPrimary}},children:e}):e},ab=c(95779),ac=c(95505),ad=c(4082),ae=[{type:G.jE.LABEL,labelIcon:G.dQ.LABEL_ICON_TYPE_HOME,labelName:"Home",address:null,__typename:"LabeledAddress"},{type:G.jE.LABEL,labelIcon:G.dQ.LABEL_ICON_TYPE_WORK,labelName:"Work",address:null,__typename:"LabeledAddress"},{type:G.jE.PLUS,labelIcon:G.dQ.LABEL_ICON_TYPE_UNSPECIFIED,labelName:"",address:null,__typename:"LabeledAddress"},],af=[{type:G.jE.LABEL,labelIcon:G.dQ.LABEL_ICON_TYPE_HOME,labelName:"Home",address:null,__typename:"LabeledAddress"},{type:G.jE.LABEL,labelIcon:G.dQ.LABEL_ICON_TYPE_WORK,labelName:"Work",address:{id:"0",street:"123 Doordash Street",city:"Century City",subpremise:"301",state:"CA",zipCode:"90067",lat:34.0626910316,lng:-118.4142864312,manualLat:null,manualLng:null,shortname:"123 Doordash Street",printableAddress:"123 Doordash Street, Century City, CA 90067, USA",driverInstructions:"",dropoffPreferences:{allPreferences:[{optionId:"1",isDefault:!1,instructions:"",__typename:"DropoffPreference"},{optionId:"2",isDefault:!0,instructions:"",__typename:"DropoffPreference"},],__typename:"DropoffPreferences"},__typename:"DefaultAddress"},__typename:"LabeledAddress"},{type:G.jE.PLUS,labelIcon:G.dQ.LABEL_ICON_TYPE_UNSPECIFIED,labelName:"",address:null,__typename:"LabeledAddress"},],ag="mockLabeledAddresses",ah=function(a){var b,c=a.labeledAddresses,d=a.onClick,e=(0,ad.bp)().query,f=e[ag]?"unset"===(b=String(e[ag]).toLowerCase())?ae:"partial"===b?af:null:null,h=(f||c).filter(function(a){return a.type!==G.jE.PLUS&&null==a.address});return 0===h.length?null:(0,g.jsx)(ab.Kk,{children:h.map(function(a,b){var c,e,f,h;return(0,g.jsx)(W.ZP,{insetVerticalSize:W.ZP.InsetSizes.XSmall,size:W.ZP.Sizes.Small,iconStart:{isInteractive:!1,type:(0,K.at)(a.labelIcon,!1)},isToggleable:!0,title:a.labelName,subtext:(0,g.jsx)(k.Text,{styles:k.Text.Styles.Caption1,color:k.Text.Colors.TextSecondary,children:J.Z.setAddress()}),iconAlignment:W.ZP.Alignment.Center,onClick:function(){var b,g;return d({addressId:null!==(c=null===(b=a.address)||void 0===b?void 0:b.id)&&void 0!==c?c:"",shortname:null!==(e=null===(g=a.address)||void 0===g?void 0:g.shortname)&&void 0!==e?e:void 0,labelName:null!==(f=a.labelName)&&void 0!==f?f:void 0,labelIcon:null!==(h=a.labelIcon)&&void 0!==h?h:void 0})},renderAfterContent:function(){return(0,g.jsx)(ab.Wk,{children:(0,g.jsx)(y.IconButton,{iconType:y.IconButton.IconTypes.Add,type:y.IconButton.Types.Tertiary,accessibilityLabel:J.Z.addresses(),size:y.IconButton.Sizes.Small})})}},"".concat(a.labelName,"-").concat(b))})})},ai=c(84865),aj=c(53982),ak=c(125),al=c(24249),am=function(a){var b=a.addressEntryPoint,c=a.onAddAddress,n=a.availableAddresses,o=a.labeledAddresses,y=a.onUpdateAddress,z=a.onSelectAddress,A=a.dropoffOptions,B=a.loading,C=a.addressAutocompleteLabel,D=a.isStaticPositionSuggestions,E=a.hideAddressList,F=a.defaultAddressId,G=a.onRemoveAddress,H=a.isLiteGuest,L=a.isGuest,M=a.renderBeforeAddressList,N=a.customizations,O=a.renderFooterActions,P=void 0===O?function(){return null}:O,Q=a.defaultAddress,R=a.handleIdentityLinkClick,S=a.placeholder,W=a.showIdentityLink,X=void 0===W||W,Y=a.setIsEditTitle,Z=a.setSelectedAddress,_=a.selectedAddressLabelName,ad=a.isCurrentLocationEnabled,ae=a.isCurrentLocationSelected,af=a.onClickCurrentLocation,ag=a.refetchQueries,am=(0,t.Z)().isAddressLabelEnabled,an="".concat(b,"/AddressPicker"),ao=(0,f.Z)(q.useState(),2),ap=ao[0],aq=ao[1],ar=(0,f.Z)(q.useState(al.A.Default),2),as=ar[0],at=ar[1],au=null!==(aS=(0,ai.R)())&&void 0!==aS?aS:{},av=au.mode,aw=au.setMode,ax=av||as,ay=aw||at,az=N||{},aA=az.renderAddressEditFormInModal,aB=void 0!==aA&&aA,aC=az.editFormModalTitle,aD=void 0===aC?J.Z.changeAddressTitle():aC,aE=az.renderAutocompleteSuggestionsInAnchoredLayer,aF=az.hideAutoCompleteLabel,aG=az.renderOnDarkBackground,aH=az.disableAddressValidation,aI=void 0!==aH&&aH,aJ=((null==n?void 0:n.length)||0)>0,aK=(0,r.M)().handleGiftIntentUpdate,aL=function(a,b){aq(a),ay(b),null==Y||Y(b===al.A.Edit),(0,ac.zj)(),v.Qh(an)},aM=function(a){null==a||a.nativeEvent.stopImmediatePropagation(),aq(void 0),ay(al.A.Default),null==Y||Y(!1)},aN=function(a){var b=a.subpremise,f=a.driverInstructions,g=a.dropoffOptionId,h=a.manualLat,i=a.manualLng,j=a.addressLinkType,k=a.buildingName,l=a.entryCode,m=a.personalAddressLabel;if(ap&&!(0,K.Uq)(ap))return c((0,e.Z)((0,d.Z)({},ap),{subpremise:b,driverInstructions:f,dropoffOptionId:g,manualLat:h,manualLng:i,addressLinkType:j,buildingName:k,entryCode:l,personalAddressLabel:m})).then(function(){aK({addressLinkType:j})})},aO=function(a,b){var c,d,e,f=p()(n).find(function(b){return a===b.id});aq(f),ay(al.A.Edit),(0,ac.gC)(),null==Y||Y(!0),null==Z||Z({addressId:a,shortname:null!==(d=null==f?void 0:f.shortname)&&void 0!==d?d:void 0,labelName:null!==(e=null!=b?b:null==f?void 0:null===(c=f.personalAddressLabel)||void 0===c?void 0:c.labelName)&&void 0!==e?e:void 0})},aP=function(a){var b=a.subpremise,c=a.driverInstructions,d=a.dropoffOptionId,e=a.addressId,f=a.manualLat,g=a.manualLng,h=a.addressLinkType,i=a.buildingName,j=a.entryCode,k=a.personalAddressLabel;return y({subpremise:b,driverInstructions:c,dropoffOptionId:d,addressId:e,manualLat:f,manualLng:g,addressLinkType:h,buildingName:i,entryCode:j,personalAddressLabel:k}).then(function(a){var b;ay(al.A.Default),null==Y||Y(!1),(0,ac.Hz)({addressId:e,dropoffOptionId:d,manualLat:f,manualLng:g,addressEntryPoint:an,addressToUpdate:Q,editResponse:null==a?void 0:null===(b=a.data)||void 0===b?void 0:b.editConsumerAddress}),aK({addressId:e,addressLinkType:h})}).catch(function(a){throw(0,ac.a5)({addressId:e,dropoffOptionId:d,manualLat:f,manualLng:g,addressEntryPoint:an,addressToUpdate:Q,editResponse:null}),a})},aQ=function(a){(null==n?void 0:n.find(function(b){return(null==b?void 0:b.id)===a}))&&aO(a,null!=_?_:void 0)},aR=function(a){a?G(a):l.eN({level:m.z.Warning,message:"Trying to remove an address without id"})};if((ax===al.A.Edit||ax===al.A.ChangePin)&&ap){if(am&&ap){var aS,aT,aU=(0,K.Uq)(ap)?ap.dropoffPreferences.allPreferences:[];return aB?(0,g.jsx)(aj.Z,{addressEntryPoint:an,title:aD,address:ap,defaultAddressId:(0,K.aN)(ap)?"":ap.id,dropoffOptions:A,driverInstructions:null!==(aT=ap.driverInstructions)&&void 0!==aT?aT:void 0,dropoffPreferences:aU,onClose:aM,customizations:N,refetchQueries:ag}):(0,g.jsx)(i.default,{isVisible:B,type:i.default.Types.Loading,children:(0,g.jsx)(k.Inset,{children:(0,g.jsx)(u.n,{address:(0,K.Uq)(ap)?ap:void 0,googlePlaceId:(0,K.Uq)(ap)?void 0:ap.googlePlaceId,children:(0,g.jsx)(U.Z,{dropoffOptions:A,handleRemoveAddress:aR,preSelectedAddressLabelName:null!=_?_:void 0,dropoffPreferences:aU,address:ap,defaultAddressId:F,hideAdjustPin:null==N?void 0:N.hideAdjustPin,hideDropOffOptions:null==N?void 0:N.hideDropOffOptions})})})})}var aV=(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(i.default,{isVisible:B,type:i.default.Types.Loading,children:(0,g.jsx)(k.Inset,{children:(0,g.jsx)(u.n,{address:(0,K.Uq)(ap)?ap:void 0,googlePlaceId:(0,K.Uq)(ap)?void 0:ap.googlePlaceId,children:(0,g.jsx)(T,{onCancel:aM,dropoffOptions:A,handleSubmitNewAddress:aN,handleSubmitEditAddress:aP,dropoffPreferences:(0,K.Uq)(ap)?ap.dropoffPreferences.allPreferences:[],address:ap,customizations:N})})})})});return aB?(0,g.jsx)(h.Modal,{onClose:aM,title:aD,children:(0,g.jsx)(ab.oh,{children:aV})}):aV}return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(i.default,{isVisible:B,type:i.default.Types.Loading,children:[am&&(0,g.jsx)(k.Stack,{size:k.Stack.Sizes.XxSmall}),(0,g.jsx)(k.Inset,{isSquished:am,children:(0,g.jsx)(x.Z,{label:null!=C?C:am?"":J.Z.defaultAutocompleteLabel(),isLabelHidden:aF,initialInputValue:"",isStaticPositionSuggestions:D,onSelect:function(a){var b;return aI?(aL(b=a,al.A.Default),c((0,d.Z)({},b)).then(function(){(0,w.ZP)(I.wd.AddressSelectionWithoutValidation,(0,d.Z)({},b))}).catch(function(){(0,w.ZP)(I.wd.SubmittedNewAddressError,(0,d.Z)({},b))})):aL(a,al.A.Edit)},renderSuggestionsInAnchoredLayer:void 0!==aE&&aE,placeholder:S,isRounded:am})}),X&&(0,g.jsx)(s.Jk,{isGuest:L,handleIdentityLinkClick:R,entry:s.KP.APP,isDarkBackground:void 0!==aG&&aG,isAddressLabelEnabled:am}),am&&!L&&ax===al.A.Default&&(0,g.jsx)(ah,{labeledAddresses:o,onClick:function(a){var c=a.addressId,d=a.labelName,e=a.labelIcon,f=a.shortname;(0,ak.Ur)(b.toLowerCase().includes("checkout")?I.kS.Checkout:I.kS.AddressPicker,d,e),ay(al.A.SetLabel),null==Z||Z({addressId:c,labelName:d,shortname:f})}}),!E&&(0,g.jsxs)(g.Fragment,{children:[aJ&&!am&&(0,g.jsx)(j.default,{}),null==M?void 0:M(),aJ&&am&&(0,g.jsx)(ab.UI,{hasMarginTop:X,children:J.Z.recent()}),ad&&ax===al.A.Default&&(0,g.jsx)(aa,{isAddressLabelEnabled:am,isSelected:ae,onClick:af}),ax===al.A.SetLabel&&am?(0,g.jsx)($,{availableAddresses:null!=n?n:[],onClick:aQ}):(0,g.jsx)(V.Z,{availableAddresses:n,defaultAddressId:F,onEdit:aO,onSelect:z,onRemove:G,isLiteGuest:H,isAddressLabelEnabled:am,isCurrentLocationSelected:ae})]}),!P()&&(0,g.jsx)(k.Stack,{size:am?k.Stack.Sizes.Small:k.Stack.Sizes.None}),P()]})})},an=n.zH(am,{name:"AddressPicker"}),ao=c(51438),ap=c(28668),aq=c(71418),ar=c(48837),as=c(44928),at=function(a){(0,ap.Z)(c,a);var b=(0,aq.Z)(c);function c(){var a;return(0,ao.Z)(this,c),a=b.apply(this,arguments),a.state={pendingAddressText:a.props.value||"",errorText:"",loadedGoogleMaps:!1},a.handleChange=function(b){""!==a.state.errorText&&a.setState({errorText:""}),a.props.onChange(b)},a.handleSelect=function(b,c){c&&(0,as.N2)(c,b).then(a.props.onSelect)},a.handleError=function(){a.setState({errorText:J.Z.defaultNoMatchErrorMessage()})},a.handleEnterKey=function(b){return function(c){if("Enter"===c.key&&b.length>0){var d=b.find(function(a){return a.active}),e=d||b[0];d||a.handleSelect(b[0].description,b[0].placeId),(0,w.ZP)("home_page_address_input_enter",{description:e.description}),v.I$(e)}}},a.getInputPropsOptions=function(b){return{onKeyDown:a.handleEnterKey(b)}},a}var f=c.prototype;return f.componentDidMount=function(){var a=this;this.loadedGoogleMapsInterval=setInterval(function(){return a.checkLoadedGoogleMaps()},100),this.checkLoadedGoogleMaps()},f.componentWillUnmount=function(){clearInterval(this.loadedGoogleMapsInterval)},f.componentDidUpdate=function(a,b){if(!b.loadedGoogleMaps&&this.state.loadedGoogleMaps){var c,d;null===(d=(c=this.props).onGoogleMapsLoaded)||void 0===d||d.call(c)}},f.checkLoadedGoogleMaps=function(){var a,b,c=!!(null==window?void 0:null===(a=window.google)||void 0===a?void 0:null===(b=a.maps)||void 0===b?void 0:b.places);c&&(this.setState({loadedGoogleMaps:c}),clearInterval(this.loadedGoogleMapsInterval),this.handleChange(this.state.pendingAddressText))},f.render=function(){var a=this,b=this.props,c=b.value,f=b.children,h=this.state,i=h.errorText,j=h.loadedGoogleMaps,k=h.pendingAddressText,l=c.length>=3,m=l&&i.length>0;if(m&&(0,w.ZP)("enter_address_empty_search_results",{query:c}),!j){var n={value:k,onBlur:function(){},onChange:function(b){return a.setState({pendingAddressText:b.target.value})},onKeyDown:function(){}};return f(n,[],"")}return(0,g.jsx)(ar.default,{value:c,onChange:this.handleChange,onSelect:this.handleSelect,onError:this.handleError,children:function(b){var c=b.suggestions.map(function(a){return(0,e.Z)((0,d.Z)({},a),{props:b.getSuggestionItemProps(a)})}),g=b.getInputProps((0,d.Z)({},a.getInputPropsOptions(c)));return f(g,c,i)}})},c}(q.Component)},18563:function(a,b,c){c.d(b,{u:function(){return m}});var d=c(10253),e=c(67294),f=c(47715),g=c(16129),h=c(3532),i=c(51463),j=c.n(i),k=c(70573),l=j()(function(){return(0,h.ZP)("ios_mweb_address_input")}),m=function(a){var b,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=e.useRef(null),i=(0,d.Z)(e.useState(a),2),j=i[0],m=i[1],n=(0,k.useDVSBoolean)(f.PR.enableDefaultNumericKeyboard,!1),o=(0,g.Od)((null==window?void 0:null===(b=window.navigator)||void 0===b?void 0:b.userAgent)||"");o&&l();var p=n&&o,q=function(){j!==a&&m(a)};e.useEffect(function(){var a,b,d=null===(a=h)||void 0===a?void 0:null===(b=a.current)||void 0===b?void 0:b.querySelector("input");d||console.error("invalid use of useHandleIosInput: inputContainerRef must be passed to input parent element"),p&&(null==d||d.setAttribute("type",j)),c&&(null==d||d.focus())},[h,j,c,p]);var r=function(){m("number")};return{inputContainerRef:h,resetType:q,setTypeToNumber:r,autoFocus:c&&!p}}},62139:function(a,b,c){var d,e;c.d(b,{D:function(){return d}}),(e=d||(d={})).AddressAutocomplete="AddressAutocomplete",e.AddressAutocompleteSuggestion="AddressAutocompleteSuggestion",e.AddressAutocompleteSuggestionError="AddressAutocompleteSuggestion",e.AddressEditAdjustPinButton="AddressEditAdjustPinButton",e.AddressEditForm="AddressEditForm",e.AddressEditRemoveButton="AddressEditRemoveButton",e.AddressEditSectionSeparator="AddressEditSectionSeparator",e.AddressLabelBanner="AddressLabelBanner",e.AddressListItem="AddressListItem",e.AddressModalFooterCancelButton="AddressModalFooterCancelButton",e.AddressModalFooterSubmitButton="AddressModalFooterSubmitButton",e.GoogleAttributionImage="GoogleAttributionImage"},125:function(a,b,c){c.d(b,{BP:function(){return i},Jn:function(){return k},K4:function(){return f},"U$":function(){return g},Ur:function(){return j},b9:function(){return h}});var d=c(3532),e=c(9633),f=function(a,b){return(0,d.ZP)(e.wd.ShowAddressModal,{store_id:b,use_case:null!=a?a:null})},g=function(a,b){return(0,d.ZP)(e.wd.HideAddressModal,{store_id:b,use_case:null!=a?a:null})},h=function(a,b){return(0,d.ZP)(e.wd.SubmittedNewAddress,{store_id:b,use_case:null!=a?a:null})},i=function(a,b){return(0,d.ZP)(e.wd.AddressModalClosedAfterAddressAdded,{store_id:b,use_case:null!=a?a:null})},j=function(a,b,c){return(0,d.ZP)(e.wd.ClickLabeledAddress,{is_setting_new:!0,label_icon:c,label_name:b,address_id:null,previous_address_id:null,address_entry_point:a})},k=function(){return(0,d.ZP)(e.wd.ClickAddressLabelField)}},24249:function(a,b,c){var d,e;c.d(b,{A:function(){return d}}),(e=d||(d={})).Default="Default",e.Edit="Edit",e.SetLabel="SetLabel",e.ChangePin="ChangePin"},51232:function(a,b,c){var d=c(26042),e=c(69396),f=c(85893),g=c(33016),h=c(10071),i=c(67294),j=c(87620),k=c(52822),l=c(2886),m=c(24693),n=c(11459),o=c(3532),p=function(a){switch(a){case n.wy.WARNING:return{variant:g.ZP.Variants.Warning};case n.wy.ERROR:return{variant:g.ZP.Variants.Negative};case n.wy.INFO:case n.wy.UNSPECIFIED:return{variant:g.ZP.Variants.Informational}}},q=function(a){var b=a.onClick,c=a.showPrimaryActionButton,n=a.orderCartId,q=i.useContext(l.Uu).consumer,r=i.useContext(m.s),s=r.result;return((0,j.F_)(function(){s&&(0,o.ZP)("checkout_address_validation_banner_shown",{validation_result_code:s.code,cart_id:n,consumer_id:q.id,banner_type:s.type})},[s,n,q.id]),s)?(0,f.jsx)(h.Stack,{children:(0,f.jsx)(g.ZP,(0,e.Z)((0,d.Z)({},p(s.type)),{body:s.message,primaryAction:void 0!==c&&c?{content:k.Z.validationAddressEditText(),onClick:b}:void 0}))}):null};b.Z=q},3406:function(a,b,c){c.d(b,{KP:function(){return e},Jk:function(){return A},rW:function(){return B},ZP:function(){return C}});var d,e,f=c(7297),g=c(85893),h=c(67294),i=c(10071),j=c(7634),k=c(26880),l=c(3532),m=c(87379);function n(){var a=(0,f.Z)(["\n  text-decoration: underline;\n  color: inherit;\n  margin: ","px;\n"]);return n=function(){return a},a}var o=(0,m.default)(i.Text).withConfig({componentId:"sc-d77ca926-0"})(n(),i.Spacing.Small),p=c(77910),q=c(20688),r=c(52822),s=c(81156),t=c(70179),u=c(98571),v=c(53698),w=c(20306);function x(){var a=(0,f.Z)(["\n  span {\n    margin-top: ","px;\n    color: ",";\n  }\n"]);return x=function(){return a},a}function y(){var a=(0,f.Z)(["\n  span {\n    text-align: center;\n    color: ",";\n    ",";\n  }\n"]);return y=function(){return a},a}(d=e||(e={})).HOME="home",d.APP="app";var z=function(a){var b=a.className,c=a.isGuest,d=a.entry,e=a.handleIdentityLinkClick,f=a.linkText,m=(0,h.useState)(""),n=m[0],x=m[1],y=(0,v.Z)(),z=y.isDoorDash,A=y.isCaviar,B=(0,w.Z)().isAddressLabelEnabled,C=(0,s.Z)(),D=(0,t.Z)(),E=D.showLoginInModalExpEnabled,F=D.showSignInSignUpModal,G=D.setShowSignInSignUpModal,H=D.onIdentityLinkClick;(0,p.LI)(function(){return x((0,k.Zd)({nextPath:window.location.pathname+window.location.search,enableLastSocial:C}))});var I=function(a){var b;E&&((0,l.ZP)("signin_for_saved_address_login_modal_click"),null==e||e(),H(),a.preventDefault()),b=d,(0,l.ZP)("action_address_signin_signup_".concat(b))},J=B?r.Z.signInForSavedAddressV2():r.Z.signInForSavedAddress();return(z||A)&&c?(0,g.jsxs)(j.Co,{to:n,onClick:I,"data-testid":q.Am.identityLinkButton,className:b,children:[F&&(0,g.jsx)(u.Z,{setShowSignInSignUpModal:G,onClose:function(){return G(!1)}}),(0,g.jsx)(o,{color:i.Colors.TextPrimary,styles:B?i.Text.Styles.Bold16:void 0,children:null!=f?f:J})]}):null},A=(0,m.default)(z).withConfig({componentId:"sc-55683cd5-0"})(x(),function(a){return a.isAddressLabelEnabled?i.Spacing.XxSmall:i.Spacing.None},function(a){return a.isDarkBackground?i.Colors.SystemWhite:i.Colors.SystemGrey100}),B=(0,m.default)(z).withConfig({componentId:"sc-55683cd5-1"})(y(),function(a){return a.isDoorDash?i.Colors.SystemWhite:i.Colors.SystemGrey100},function(a){return a.textStyles&&a.textStyles}),C=z},20306:function(a,b,c){var d=c(53698),e=c(70573),f=c(47715),g=c(40097),h=c(4082);b.Z=function(){var a=(0,d.Z)().isStorefront,b=(0,e.useDVSBoolean)(f.PR.cxWebAddressLabelFE,!1),c=(0,e.useDVSBoolean)(f.PR.cxWebAddressLabelBE,!1),i=(0,g.F)(),j="true"===(0,h.bp)().cookies.get("ddweb-address-label");return{isAddressLabelEnabled:!a&&b&&c||j,isEvaluating:!i}}},28766:function(a,b,c){var d=c(67294),e=c(64948),f=c(10395),g=[],h=function(a){var b,c=(null===(b=(0,e.Z)(f.P$.buzzerInputEncouragedCountryCodes))||void 0===b?void 0:b.countryCodes)||g;return(0,d.useMemo)(function(){return"string"==typeof a&&c.map(function(a){return"string"==typeof a?a.toLowerCase():""}).includes(a.toLowerCase())},[a,c])};b.Z=h},42948:function(a,b,c){c.d(b,{Z:function(){return s}});var d=c(10253),e=c(85893),f=c(18734),g=c(56596),h=c(23065),i=c(50308),j=c.n(i),k=c(67294),l=c(24401),m=c(20306),n=c(34573),o=function(){return(0,e.jsxs)(n.default,{width:51,height:52,viewBox:"0 0 ".concat(51," ").concat(52),fill:"none",children:[(0,e.jsxs)("g",{opacity:"0.2",filter:"url(#filter0_f_2196_34378)",children:[(0,e.jsx)("path",{d:"M29.0954 40.5507C36.4485 39.8398 41.9436 37.0028 41.9436 33.6111C41.9436 29.6838 34.5755 26.5 25.4864 26.5C16.3974 26.5 9.0293 29.6838 9.0293 33.6111C9.0293 36.9998 14.5148 39.8349 21.8582 40.5488L23.5861 41.5123L25.4864 42.5L29.0954 40.5507Z",fill:"#191919"}),(0,e.jsx)("path",{d:"M23.3426 41.949L23.349 41.9526L23.3555 41.956L25.2558 42.9437L25.4909 43.0658L25.724 42.9399L29.2444 41.0385C32.9238 40.6723 36.1664 39.7776 38.5121 38.5274C40.8479 37.2825 42.4436 35.5964 42.4436 33.6111C42.4436 32.4616 41.9023 31.4074 41.0076 30.4934C40.1151 29.5816 38.8481 28.7834 37.3217 28.1238C34.2673 26.804 30.0825 26 25.4864 26C20.8904 26 16.7056 26.804 13.6512 28.1238C12.1248 28.7834 10.8578 29.5816 9.96527 30.4934C9.07054 31.4074 8.5293 32.4616 8.5293 33.6111C8.5293 35.5947 10.1223 37.2796 12.4546 38.5241C14.7959 39.7735 18.0324 40.6683 21.7056 41.0362L23.3426 41.949Z",stroke:"white"})]}),(0,e.jsxs)("g",{filter:"url(#filter1_d_2196_34378)",children:[(0,e.jsx)("path",{d:"M28.5087 34.1141C35.6575 32.5146 41 26.1312 41 18.5C41 9.66344 33.8366 2.5 25 2.5C16.1634 2.5 9 9.66344 9 18.5C9 26.1246 14.3332 32.5035 21.4726 34.1099L23.1525 36.2778L25 38.5L28.5087 34.1141Z",fill:"#191919"}),(0,e.jsx)("path",{d:"M22.7573 36.584L22.7626 36.5908L22.768 36.5974L24.6155 38.8196L25.0075 39.2911L25.3904 38.8123L28.7903 34.5625C36.076 32.8496 41.5 26.3088 41.5 18.5C41.5 9.3873 34.1127 2 25 2C15.8873 2 8.5 9.3873 8.5 18.5C8.5 26.3006 13.9126 32.8358 21.1865 34.557L22.7573 36.584Z",stroke:"#E7E7E7",strokeOpacity:"0.15"})]}),(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 28.5C25.5606 28.5 26.0955 28.2647 26.4743 27.8514L26.4773 27.8482L26.4823 27.8427L26.4982 27.8252L26.5526 27.7647C26.5986 27.7133 26.6637 27.6398 26.7452 27.5461C26.9081 27.3589 27.137 27.0903 27.41 26.7553C27.9541 26.0873 28.6824 25.1441 29.4143 24.0456C30.1429 22.9522 30.8985 21.6704 31.4773 20.3275C32.0483 19.0026 32.5 17.4984 32.5 15.9924C32.5 11.8519 29.1395 8.5 25 8.5C20.8605 8.5 17.5 11.8519 17.5 15.9924C17.5 17.4984 17.9517 19.0026 18.5227 20.3275C19.1015 21.6704 19.8571 22.9522 20.5857 24.0456C21.3176 25.1441 22.0459 26.0873 22.59 26.7553C22.863 27.0903 23.0919 27.3589 23.2548 27.5461C23.3363 27.6398 23.4014 27.7133 23.4474 27.7647L23.5018 27.8252L23.5177 27.8427L23.5227 27.8482L23.5257 27.8514C23.9045 28.2647 24.4394 28.5 25 28.5ZM25 18.5C26.3807 18.5 27.5 17.3807 27.5 16C27.5 14.6193 26.3807 13.5 25 13.5C23.6193 13.5 22.5 14.6193 22.5 16C22.5 17.3807 23.6193 18.5 25 18.5Z",fill:"white"}),(0,e.jsxs)("defs",{children:[(0,e.jsxs)("filter",{id:"filter0_f_2196_34378",x:"0.0292969",y:"17.5",width:"50.9141",height:"34.1309",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,e.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,e.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,e.jsx)("feGaussianBlur",{stdDeviation:"4",result:"effect1_foregroundBlur_2196_34378"})]}),(0,e.jsxs)("filter",{id:"filter1_d_2196_34378",x:"4",y:"0.5",width:"42",height:"46.582",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,e.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,e.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,e.jsx)("feOffset",{dy:"3"}),(0,e.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,e.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,e.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2196_34378"}),(0,e.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2196_34378",result:"shape"})]})]})]})},p=c(88544),q=c(86883),r=function(a){var b=a.customIcon,c=a.isPickup,d=a.isAddressLabelEnabled;return b?f.S.CUSTOM:c?f.S.STORE:d?f.S.CUSTOM:f.S.HOME},s=function(a){var b,c=a.defaultAddress,i=a.storeAddress,n=a.isPickup,s=void 0!==n&&n,t=a.isEditing,u=void 0!==t&&t,v=a.onChange,w=void 0===v?j():v,x=a.locationOverride,y=a.isCompact,z=a.consumerLocation,A=a.customIcon,B=a.overlayComponent,C=a.mapOptions,D=(0,l.ZP)(l.P$.cxLocationOnPinDropMap),E=(0,m.Z)().isAddressLabelEnabled,F=r({customIcon:A,isPickup:s,isAddressLabelEnabled:E}),G=(0,q.lr)({defaultAddress:c,isPickup:s,locationOverride:void 0===x?{lat:null,lng:null}:x,storeAddress:void 0===i?{lat:null,lng:null}:i}),H=[{type:F,position:G}];if(F===f.S.CUSTOM){var I={defaultIcon:{icon:(0,e.jsx)(o,{}),width:51,height:52,anchor:{width:25.5,height:26}}};b=A||E?I:void 0}D&&(null==z?void 0:z.latitude)&&z.longitude&&H.push((0,q.oM)(z));var J=H.filter(function(a){return!(0,q.iz)(a)}).map(function(a){return a.position}),K=(0,d.Z)(k.useState(J),1)[0];return(0,e.jsxs)(p.h,{isCompact:void 0===y||y,children:[!!B&&(0,e.jsx)(p.X,{children:B}),(0,e.jsx)(g.D,{bounds:K,onDragEnd:w,mapOptions:C,children:function(a,c){return(0,e.jsx)("div",{children:H.map(function(d){return(0,e.jsx)(h.Z,{map:c,google:a,customIcon:b,position:d.position,markerType:d.type,lockToCenter:u&&d.type===f.S.HOME},d.type)})})}})]})}},12414:function(a,b,c){c.d(b,{Cu:function(){return h},Ev:function(){return m},Uw:function(){return o},hj:function(){return i},ke:function(){return l},qT:function(){return j},s9:function(){return k},xO:function(){return n}});var d=c(24401),e=c(9181),f=c(2886),g=c(4831),h=function(){var a,b=(0,f.RN)().consumer,c="US";return(null==b?void 0:b.defaultAddress)&&(c=(0,g.ed)(b.defaultAddress).countryCode),a=c,!(0,d.ZP)(d.P$.giftingNoContactRecipient,{country:a.toLowerCase()})},i=function(){var a,b=(0,e.Z)(d.P$.mealGiftingEntryPointStore);return{isEnabled:h()&&"control"!==b,bucket:b}},j=function(){var a=(0,d.ZP)(d.P$.mealGiftingV2),b=i().isEnabled,c=h();return(a||b)&&c},k=function(){var a=j(),b=(0,d.ZP)(d.P$.mealGiftingV3);return a&&b},l=function(){var a,b=(0,f.RN)().consumer,c="US";return(null==b?void 0:b.defaultAddress)&&(c=(0,g.ed)(b.defaultAddress).countryCode),a=c,!(0,d.ZP)(d.P$.mealGiftingUnsupportedCountries,{country:a.toLowerCase()})},m=function(){var a=l(),b=(0,d.ZP)(d.P$.mealGiftingAddressEntryPoint);return a&&b},n=function(a){return(0,e.Z)(d.P$.mealGiftingAssetLang,{locale:a})},o=function(){return(0,d.ZP)(d.P$.mealGiftingRecipientToSchedule)}},27019:function(a,b,c){c.d(b,{T8:function(){return D},hG:function(){return C},jb:function(){return E},uz:function(){return B}});var d=c(7297),e=c(87379),f=c(10071),g=c(73958);function h(){var a=(0,d.Z)(["\n  display: none;\n\n  @media screen and (min-width: ","px) {\n    display: flex;\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,d.Z)(["\n  display: flex;\n  align-self: center;\n\n  @media screen and (min-width: ","px) {\n    display: none;\n  }\n"]);return i=function(){return a},a}function j(){var a=(0,d.Z)(["\n  display: flex;\n\n  & > button:last-child {\n    margin-top: -","px;\n    margin-left: auto;\n  }\n"]);return j=function(){return a},a}function k(){var a=(0,d.Z)(["\n  width: ","px;\n  border-radius: ","px;\n  margin-right: ","px;\n  margin-top: auto;\n  margin-bottom: auto;\n\n  @media screen and (max-width: ","px) {\n    margin-right: ","px;\n  }\n"]);return k=function(){return a},a}function l(){var a=(0,d.Z)(["\n  width: ","px;\n  border-radius: ","px;\n  margin-right: ","px;\n  margin-top: auto;\n  margin-bottom: auto;\n\n  @media screen and (max-width: ","px) {\n    width: ","px;\n    margin-right: ","px;\n  }\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  width: fit-content;\n  margin-right: ","px;\n  margin-top: auto;\n  margin-bottom: auto;\n\n  @media screen and (max-width: ","px) {\n    margin-right: ","px;\n  }\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)([""]);return n=function(){return a},a}function o(){var a=(0,d.Z)(["\n  flex-grow: 1;\n  padding-top: ","px;\n  padding-right: ","px;\n  max-width: calc(\n    100% -\n      ","}px\n  );\n  @media screen and (max-width: ","px) {\n    max-width: calc(\n      100% -\n        ","px\n    );\n  }\n"]);return o=function(){return a},a}function p(){var a=(0,d.Z)([""]);return p=function(){return a},a}function q(){var a=(0,d.Z)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n"]);return q=function(){return a},a}function r(){var a=(0,d.Z)(["\n  display: flex;\n  margin-top: 0px !important;\n\n  & > button {\n    width: auto;\n  }\n"]);return r=function(){return a},a}function s(){var a=(0,d.Z)(["\n  position: absolute;\n  top: ","px;\n  right: ","px;\n\n  @media screen and (max-width: ","px) {\n    display: none;\n  }\n"]);return s=function(){return a},a}function t(){var a=(0,d.Z)(["\n  padding: 0 ","px;\n"]);return t=function(){return a},a}function u(){var a=(0,d.Z)(["\n  line-height: ","px;\n"]);return u=function(){return a},a}function v(){var a=(0,d.Z)(["\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return v=function(){return a},a}function w(){var a=(0,d.Z)(["\n  ","\n"]);return w=function(){return a},a}var x=f.Spacing.XxxxSmall;e.default.div.withConfig({componentId:"sc-5b574ab5-0"})(h(),function(a){return a.breakOnTablet?f.Breakpoints.Tablet:f.Breakpoints.Mobile}),e.default.div.withConfig({componentId:"sc-5b574ab5-1"})(i(),function(a){return a.breakOnTablet?f.Breakpoints.Tablet:f.Breakpoints.Mobile}),e.default.div.withConfig({componentId:"sc-5b574ab5-2"})(j(),f.Spacing.XxxSmall),e.default.img.withConfig({componentId:"sc-5b574ab5-3"})(k(),3*f.Spacing.XxxLarge,f.BorderRadius.Small,f.Spacing.Small,f.Breakpoints.Mobile,f.Spacing.XSmall);var y=2*f.Spacing.XxxLarge,z=f.Spacing.XxxxLarge;e.default.img.withConfig({componentId:"sc-5b574ab5-4"})(l(),y,f.BorderRadius.Small,f.Spacing.Small,f.Breakpoints.Mobile,z,f.Spacing.XSmall),e.default.div.withConfig({componentId:"sc-5b574ab5-5"})(m(),f.Spacing.Small,f.Breakpoints.Mobile,f.Spacing.XSmall);var A=g.c.Small;(0,f.withTheming)((0,e.default)(g.Z).attrs(function(){return{size:A,mobileSize:A}}).withConfig({componentId:"sc-5b574ab5-6"})(n())),(0,e.default)(f.StackChildren).attrs(function(){return{size:f.StackChildren.Sizes.XxxSmall}}).withConfig({componentId:"sc-5b574ab5-7"})(o(),x,x,function(a){return(a.isShowingCard?y:A)+f.Spacing.Small+24},f.Breakpoints.Mobile,function(a){return(a.isShowingCard?z:A)+f.Spacing.XSmall+24}),(0,e.default)(f.Text).attrs(function(){return{color:f.Text.Colors.TextSecondary,maxLines:2,overflow:f.Text.Overflows.Truncate}}).withConfig({componentId:"sc-5b574ab5-8"})(p()),e.default.button.withConfig({componentId:"sc-5b574ab5-9"})(q()),e.default.div.withConfig({componentId:"sc-5b574ab5-10"})(r()),e.default.div.withConfig({componentId:"sc-5b574ab5-11"})(s(),1.5*f.Spacing.Medium,4*f.Spacing.Medium,f.Breakpoints.Tablet);var B=(0,e.default)(f.InlineChildren).attrs(function(){return{alignItems:f.InlineChildren.Alignment.FlexStart}}).withConfig({componentId:"sc-5b574ab5-12"})(t(),f.Spacing.XxSmall),C=(0,e.default)(f.Text).attrs(function(){return{color:f.Colors.TextSecondary,styles:f.Text.Styles.Body1,size:f.Text.Sizes.S14}}).withConfig({componentId:"sc-5b574ab5-13"})(u(),f.Text.Sizes.S14),D=(0,e.default)(f.Text).attrs(function(){return{size:f.Text.Sizes.S14,color:f.Text.Colors.TextTertiary}}).withConfig({componentId:"sc-5b574ab5-14"})(v()),E=(0,e.default)(f.StackChildren).attrs(function(){return{size:f.StackChildren.Sizes.XxxSmall}}).withConfig({componentId:"sc-5b574ab5-15"})(w(),function(a){return a.hasLeftPadding&&"padding-left: ".concat(f.Spacing.XxxSmall,"px;")})},64370:function(a,b,c){c.d(b,{M:function(){return l}});var d=c(26042),e=c(69396),f=c(11459),g=c(2886),h=c(12414),i=c(23778),j=c(44529),k={hasGiftIntent:!1,recipientName:"",recipientGivenName:"",recipientFamilyName:"",recipientPhone:"",recipientEmail:"",cardMessage:"",cardId:"",senderName:null,shouldDasherContactRecipient:null,shouldDoordashTextRecipient:null,shouldRecipientScheduleGift:!1},l=function(){var a,b=(0,g.RN)().consumer,c=(0,j.p6)(),l=(0,h.Ev)(),m=(0,i.Z)(),n=(null==c?void 0:null===(a=c.domain)||void 0===a?void 0:a.giftInfo)||k,o=function(a){return a===f.z5.ADDRESS_LINK_TYPE_GIFT},p=function(a){var f,g=a.addressId,h=o(a.addressLinkType),i=(null===(f=b.defaultAddress)||void 0===f?void 0:f.id)===g;(null==c?void 0:c.id)&&(i||!g)&&m({cartId:c.id,giftOptions:(0,e.Z)((0,d.Z)({},n),{hasGiftIntent:h}),updateApolloCache:!1,refetchQueries:i?["checkout"]:[]})};return{getIsGiftingAddress:o,isGiftAddressEntryEnabled:l,handleGiftIntentUpdate:p}}},35042:function(a,b,c){c.d(b,{E:function(){return A}});var d=c(10253),e=c(85893),f=c(67294),g=c(20306),h=c(24906),i=c(86520),j=c(53698),k=c(97073),l=c(10071),m=c(10395),n=c(2886),o=c(23685),p=c(1360),q=c(32945),r=c(12390),s=c(27019),t=p.l.giftAddressSelector,u=q.n.giftAddressSelector,v="giftAddressSelector-description",w=function(){var a=o.default.getCurrentLocale();return(0,i.useDynamicString)(m.P$.giftAddressFAQLanguage,{locale:a})},x=function(a){var b=a.onChange,c=a.isToggled,d=a.isAddressLabelEnabled,f=(0,n.RN)(),g=f.consumer.orderCart,i=(0,j.Z)().isCaviar,m=w(),o=function(){g&&(0,r.Dt)(g,r.ln.Address);var a=i?"https://help.trycaviar.com/diners/s/article/Gifting-FAQ-s":"https://help.doordash.com/consumers/s/article/Gifting-FAQ?language=".concat(m);window.open(a)};return(0,e.jsxs)(l.StackChildren,{size:d?l.StackChildren.Sizes.Small:l.StackChildren.Sizes.None,children:[d&&(0,e.jsx)(l.Text,{styles:l.Text.Styles.FieldLargeLabel,children:t.title()}),(0,e.jsxs)(l.InlineChildren,{"data-testid":u.selector,size:l.InlineChildren.Sizes.XxxSmall,alignItems:d?l.InlineChildren.Alignment.Center:void 0,children:[(0,e.jsx)(k.ZP,{label:t.label(),accessibilityDescribedBy:v,onChange:b,isSelected:c,alignToggle:d?k.ZP.Alignment.Center:void 0,renderLabel:function(a){var b=a.htmlFor,c=a.label;return(0,e.jsxs)(s.jb,{hasLeftPadding:d,children:[(0,e.jsx)("label",{htmlFor:b,children:(0,e.jsx)(l.Text,{styles:l.Text.Styles.Label1,size:l.Text.Sizes.S16,color:l.Colors.TextPrimary,children:c})}),(0,e.jsx)(s.hG,{id:v,children:t.description()})]})}}),(0,e.jsx)(s.uz,{children:(0,e.jsx)(h.default,{"data-testid":u.learnMoreBtn,type:d?h.default.Types.Link:h.default.Types.FlatSecondary,padding:d?void 0:h.default.Padding.None,size:h.default.Sizes.Small,onClick:o,children:d?t.learnMoreLink():(0,e.jsx)(s.T8,{children:t.learnMoreLink()})})})]})]})},y=x,z=c(64370);function A(a,b,c){var h=(0,z.M)(),i=h.getIsGiftingAddress,j=h.isGiftAddressEntryEnabled,k=(0,g.Z)().isAddressLabelEnabled,l=i(c),m=(0,d.Z)(f.useState(l),2),n=m[0],o=m[1],p=function(){var c=!n;o(c),(0,r.$N)({hasGiftIntent:b,isGiftChecked:c,isNewAddress:!a})},q=function(){return j?(0,e.jsx)(y,{onChange:p,isToggled:n,isAddressLabelEnabled:k}):null};return{isGiftAddressEntryEnabled:j,isGiftingAddressToggled:n,renderGiftAddressSelector:q}}},32945:function(a,b,c){c.d(b,{n:function(){return d}});var d={giftIntentButton:{desktop:"giftIntentButton_desktop",mobile:"giftIntentButton_mobile"},giftEntryBanner:{virtualCard:"giftEntryBanner_virtualCard"},recipientScheduleGiftToggle:"recipientScheduleGiftToggle",orderAheadTimePickerModal:"orderAheadTimePickerModal",mealGiftingTimePickerModal:"mealGiftingTimePickerModal",giftAddressSelector:{selector:"GiftAddressSelector",learnMoreBtn:"GiftAddressLearnMoreBtn"},mealGiftingWizard:{common:{cardOverlayWrapper:"cardOverlayWrapper",carouselCard:function(a){return"carouselCard_".concat(a)},scrollListWrapper:"scrollListWrapper",giftMessage:{root:"giftMessage",input:"giftMessage_input",characterCount:"giftMessageField_characterCount"},phoneNumberField:{labelWrapper:"phoneNumberField_labelWrapper",icon:"phoneNumberField_icon",input:"phoneNumber_input"}},v1:{contactSlide:{root:"giftingContactSlide"},giftPreviewSlide:{root:"giftPreviewSlide",description:"giftPreviewSlide_description",fallbackPreview:"fallbackPreview",fallbackPreviewWithMessage:"fallbackPreviewWithMessage"},personalizeSlide:{root:"giftingPersonalizeSlide",recipientScheduleGiftToggle:"giftingPersonalizeSlide_recipientScheduleGiftToggle"}},v2:{personalizeSlide:{slideName:"giftingPersonalizeSlide",senderName:"giftingPersonalizeSlide_senderName",recipientEmail:"giftingPersonalizeSlide_recipientEmail",recipientScheduleGiftToggle:"giftingPersonalizeSlide_recipientScheduleGiftToggle"},giftPreviewSlide:{root:"giftPreviewSlide",description:"giftPreviewSlide_description",fallbackPreview:"fallbackPreview",fallbackPreviewWithMessage:"fallbackPreviewWithMessage"}}},cardCarouselV2:"cardCarouselV2",scrollListV2Wrapper:"scrollListV2Wrapper"}},73958:function(a,b,c){c.d(b,{c:function(){return d}});var d,e=c(85893),f=c(34573),g=c(10071);c(67294);var h,i=c(11698),j="#74A3A5",k="#DA260D";(h=d||(d={}))[h.Small=80]="Small",h[h.Large=128]="Large";var l=function(a){var b=a.size,c=a.mobileSize,d=(0,i.ac)().isMobile,h=d?c:b;return(0,e.jsxs)(f.default,{width:h,height:h,fill:"none",viewBox:"0 0 140 140",children:[(0,e.jsx)("path",{d:"M36.0487 84.7432C36.0475 87.785 37.0617 132.656 37.0617 132.656C37.0617 132.656 104.49 134.175 106.013 131.131C107.536 128.09 106.011 79.4199 106.011 79.4199L36.0487 84.7432Z",fill:"#528C8F"}),(0,e.jsx)("path",{d:"M29.2068 71.8156C28.446 72.8303 29.9664 90.0667 29.9664 90.0667L110.578 89.3074C110.578 89.3074 111.338 71.8166 109.565 70.8027C107.789 69.7882 29.9671 70.8036 29.2068 71.8156Z",fill:j}),(0,e.jsx)("path",{d:"M62.1266 70.5471V90.3215L77.9786 89.8148L78.1786 70.0352L62.1266 70.5471Z",fill:g.Colors.BrandRedBase}),(0,e.jsx)("path",{d:"M61.7302 133.16C64.1102 133.16 79.1693 132.652 79.1693 132.652L77.7823 89.8141L61.9284 90.0649L61.7302 133.16Z",fill:k}),(0,e.jsx)("path",{d:"M33.5149 63.3261C35.5761 64.7713 54.4865 58.9478 66.1842 70.7388C68.7599 65.5606 72.101 63.8274 72.101 63.8274C72.101 63.8274 67.4214 58.0625 58.8514 52.1377C54.7318 49.2873 47.7244 47.4154 47.1458 47.9007C45.6632 49.146 43.3354 50.3645 40.8956 53.2443C36.5653 58.3638 31.4537 61.8809 33.5149 63.3261Z",fill:g.Colors.BrandRedBase}),(0,e.jsx)("path",{d:"M106.636 66.9992C105.919 68.2459 86.9375 60.4284 74.3071 71.0372C69.0041 63.0693 68.7981 63.0397 68.7981 63.0397C68.7981 63.0397 92.8962 48.7059 97.6409 51.2481C101.761 57.6552 107.356 65.7528 106.636 66.9992Z",fill:g.Colors.BrandRedBase}),(0,e.jsx)("path",{d:"M60.613 72.4047C60.613 72.4047 62.0796 68.7943 64.834 64.6613C66.1672 62.6668 72.8173 62.8882 72.8173 62.8882C72.8173 62.8882 76.545 65.264 77.6249 68.381C78.5022 70.9115 78.7368 73.3353 78.8168 73.7246C78.9875 74.5912 68.3564 76.6523 60.613 72.4047Z",fill:k}),(0,e.jsx)("path",{d:"M104.248 28.2782C104.12 28.5315 104.147 28.8381 104.555 28.9448C104.963 29.0514 107.829 29.6514 108.717 31.2672C109.379 32.4698 110.04 34.8376 110.333 34.9443C110.624 35.0536 110.893 34.9683 110.888 34.7949C110.882 34.6216 111.432 31.0886 112.546 30.2833C113.928 29.2861 116.831 29.0568 116.853 28.4035C116.863 28.1128 115.57 27.9715 114.408 27.6569C113.242 27.3369 111.592 26.1077 111.272 24.8438C110.952 23.5799 110.443 21.7427 110.208 21.692C109.976 21.6414 109.936 24.6518 108.923 25.6544C107.963 26.6036 107.171 27.1742 106.254 27.5342C105.358 27.8835 104.342 28.0915 104.248 28.2782Z",fill:g.Colors.BrandRedBase}),(0,e.jsx)("path",{d:"M93.4748 5.24982C92.8855 6.5945 93.3112 7.52517 94.4692 7.63134C95.626 7.7339 96.0743 7.74306 96.459 6.83924C96.7752 6.0923 96.9782 5.43907 95.8634 4.76978C94.2424 3.79163 93.4748 5.24982 93.4748 5.24982Z",fill:j}),(0,e.jsx)("path",{d:"M31.1602 9.56458C30.5705 10.912 30.9969 11.8424 32.1562 11.9454C33.3118 12.0495 33.7601 12.0584 34.1454 11.1519C34.4623 10.4084 34.6683 9.75389 33.5507 9.08414C31.9278 8.10947 31.1602 9.56458 31.1602 9.56458Z",fill:j}),(0,e.jsx)("path",{d:"M128.499 47.6427C127.909 48.9902 128.337 49.9182 129.495 50.0235C130.651 50.1276 131.099 50.1365 131.484 49.23C131.801 48.4865 132.007 47.832 130.887 47.161C129.267 46.1876 128.499 47.6427 128.499 47.6427Z",fill:j}),(0,e.jsx)("path",{d:"M86.6905 30.6242C86.1892 32.5281 86.9198 33.5546 87.4291 34.2719C87.941 34.9918 89.5089 35.8131 90.6208 35.7145C92.2527 35.5678 93.6392 33.8746 93.6392 33.8746C93.6392 33.8746 94.2018 31.6215 93.5299 30.2402C92.858 28.8644 92.0714 28.1898 90.7675 27.8778C89.4636 27.5685 89.2076 27.8778 88.373 28.3711C86.9251 29.227 86.6905 30.6242 86.6905 30.6242Z",fill:j}),(0,e.jsx)("path",{d:"M34.4979 21.2052C33.9966 23.1091 34.7246 24.1357 35.2365 24.8529C35.7485 25.5729 37.3137 26.3941 38.4283 26.2955C40.0601 26.1488 41.4467 24.4556 41.4467 24.4556C41.4467 24.4556 42.0093 22.2025 41.3374 20.8239C40.6654 19.4454 39.8761 18.7708 38.5749 18.4615C37.271 18.1495 37.0151 18.4588 36.1778 18.9521C34.7326 19.8107 34.4979 21.2052 34.4979 21.2052Z",fill:j}),(0,e.jsx)("path",{d:"M54.3218 20.5287C54.0284 21.1179 54.0978 21.8299 55.0417 22.0672C55.9856 22.3045 62.6357 23.6484 64.7209 27.3734C66.2727 30.1492 67.8459 35.6154 68.5232 35.8607C69.2005 36.106 69.8191 35.9087 69.8058 35.5087C69.7925 35.1061 71.0057 26.9121 73.5681 25.0296C76.7519 22.6938 83.4713 22.1179 83.5086 20.598C83.5273 19.9314 80.5329 19.6274 77.8318 18.9128C75.1307 18.1955 71.2883 15.3771 70.5257 12.4573C69.7605 9.53492 68.5499 5.29261 68.0113 5.17529C67.47 5.05797 67.43 12.0307 65.0995 14.3745C62.8944 16.5877 61.0652 17.9262 58.9507 18.7715C56.8789 19.5954 54.5377 20.0967 54.3218 20.5287Z",fill:g.Colors.BrandFlushDark}),(0,e.jsx)("path",{d:"M1.82262 63.0689C0.478992 63.3595 0.00555678 64.1909 0.560918 65.1272C1.11328 66.0611 1.35351 66.4024 2.24931 66.2024C2.98802 66.0345 3.59607 65.836 3.49543 64.6226C3.34601 62.8534 1.82262 63.0689 1.82262 63.0689Z",fill:j}),(0,e.jsx)("path",{d:"M120.494 57.3175C118.657 58.0215 118.251 59.2134 117.966 60.0506C117.681 60.8852 117.931 62.6371 118.662 63.4823C119.734 64.7196 121.92 64.8556 121.92 64.8556C121.92 64.8556 124.078 63.9916 124.803 62.6424C125.528 61.2932 125.613 60.2586 125.104 59.0187C124.595 57.7815 124.195 57.7548 123.304 57.3655C121.766 56.6909 120.494 57.3175 120.494 57.3175Z",fill:j}),(0,e.jsx)("path",{d:"M7.95854 60.9771C7.81722 61.2544 7.84655 61.5877 8.28918 61.705C8.73447 61.8224 11.8569 62.4943 12.8168 64.2622C13.5341 65.5794 14.2433 68.1632 14.5607 68.2832C14.878 68.4031 15.1713 68.3125 15.1659 68.1232C15.1633 67.9339 15.7819 64.0808 17.0004 63.2089C18.5123 62.129 21.6801 61.8944 21.7094 61.1798C21.72 60.8651 20.3122 60.7025 19.0429 60.3505C17.7764 59.9985 15.9819 58.6466 15.6379 57.2681C15.2939 55.8869 14.75 53.8817 14.4967 53.823C14.2433 53.7644 14.182 57.0494 13.0701 58.14C12.0195 59.1693 11.1503 59.7905 10.1504 60.1745C9.1691 60.5531 8.06253 60.7745 7.95854 60.9771Z",fill:g.Colors.BrandRedBase})]})};b.Z=l},23778:function(a,b,c){var d=c(26042),e=c(69396),f=c(10253),g=c(7297),h=c(44119),i=c.n(h),j=c(5732),k=c(93999),l=c(12390),m=c(73702);function n(){var a=(0,g.Z)(["\n  mutation updateCartGiftInfo(\n    $updateCartGiftInfoInput: UpdateCartGiftInfoInput!\n  ) {\n    updateCartGiftInfo(updateCartGiftInfoInput: $updateCartGiftInfoInput)\n  }\n"]);return n=function(){return a},a}var o=i()(n()),p=function(){var a=(0,f.Z)((0,k.useMutation)(o),1)[0];return function(b){var c=b.cartId,f=b.giftOptions,g=b.isMerchantShipping,h=void 0!==g&&g,i=b.updateApolloCache,k=b.updateSavedGiftInfoContext,n=b.refetchQueries,o=(0,e.Z)((0,d.Z)({},(0,j.tT)(f)),{hasGiftIntent:f.hasGiftIntent||null}),p=k||{},q=p.savedGiftInfo,r=void 0===q?{}:q,s=p.updateSavedGiftInfo,t=void 0===s?null:s;return null==t||t(o),a((0,d.Z)({variables:{updateCartGiftInfoInput:(0,d.Z)({cartId:c},o)}},n?{refetchQueries:n}:{},void 0===i||i?{update:function(a,b){var d=b.data;(0,m.Y9)({cache:a,data:d,cartId:c,newUpdateCartGiftInfoInput:o})}}:{})).then(function(a){var b,c=(null===(b=a.data)||void 0===b?void 0:b.updateCartGiftInfo)===!0;if((0,l.Ep)({isMerchantShipping:h,isRemove:!1,isSuccessful:c}),!c)throw null==t||t(r),Error("unable to save gift info to cart")})}};b.Z=p},73702:function(a,b,c){c.d(b,{Y9:function(){return j},ri:function(){return h},vX:function(){return k}});var d=c(26042),e=c(69396),f=c(58446),g=c(22453),h={recipientName:"",recipientGivenName:"",recipientFamilyName:"",recipientPhone:"",recipientEmail:"",cardMessage:"",cardId:"",senderName:"",shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldNotifyRecipientForDasherQuestions:null,shouldRecipientScheduleGift:!1,hasGiftIntent:null,__typename:"OrderCartGiftOptions"},i=function(a){var b=a.cartId,c=a.mutationResp,d=a.cache,e=d.readQuery({query:f.query}),g=null==e?void 0:e.consumer,h=null==g?void 0:g.orderCart,i=null==h?void 0:h.domain,j=!!g&&!!h&&!!i&&!0===c&&h.id===b;return{consumer:g,consumerOrderCart:h,domain:i,canWrite:j}},j=function(a){var b=a.cartId,c=a.cache,j=a.data,k=a.newUpdateCartGiftInfoInput;try{var l=i({cartId:b,cache:c,mutationResp:null==j?void 0:j.updateCartGiftInfo}),m=l.consumer,n=l.consumerOrderCart,o=l.domain,p=l.canWrite;p&&c.writeQuery({query:f.query,data:{consumer:(0,e.Z)((0,d.Z)({},m),{orderCart:(0,e.Z)((0,d.Z)({},n),{domain:(0,e.Z)((0,d.Z)({},o),{giftInfo:(0,d.Z)({},h,k)})})})}})}catch(q){(0,g.gs)({giftOptions:null,message:"Error updating gift info on consumer cart cache",entryPoint:g.JE.APOLLO_CACHE_UPDATE})}},k=function(a){var b=a.cache,c=a.data,j=a.cartId;try{var k=i({cartId:j,cache:b,mutationResp:null==c?void 0:c.removeCartGiftInfo}),l=k.consumer,m=k.consumerOrderCart,n=k.domain,o=k.canWrite;o&&b.writeQuery({query:f.query,data:{consumer:(0,e.Z)((0,d.Z)({},l),{orderCart:(0,e.Z)((0,d.Z)({},m),{domain:(0,e.Z)((0,d.Z)({},n),{giftInfo:(0,d.Z)({},h)})})})}})}catch(p){(0,g.gs)({giftOptions:null,message:"Error removing gift info on consumer cart cache",entryPoint:g.JE.APOLLO_CACHE_UPDATE})}}},22453:function(a,b,c){c.d(b,{JE:function(){return d},gs:function(){return m}});var d,e,f=c(14924),g=c(26042),h=c(43947),i=c(13819),j=c(5732),k={feature:"meal_gifting"};(e=d||(d={})).ADDRESS_PICKER="LayoutAddressPicker",e.CARD_CAROUSEL="CardCarousel",e.CHECKOUT_INFO="CheckoutInfo",e.CHECKOUT_INFO_V2="CheckoutInfoV2",e.CHECKOUT_SHIP_ANYWHERE_V1="ShipAnywhereCheckoutV1",e.GIFT_OPTION_PANEL_V2="GiftOptionPanelV2",e.MESSAGE_PREVIEW="MessagePreview",e.WIZARD="MealGiftingWizard",e.WIZARDV2="MealGiftingWizardV2",e.GIFTING_TIMEPICKER_MODAL="GiftingTimePickerModal",e.TIMEPANEL="TimePanel",e.TIMEPANELV2="TimePanelV2",e.GIFT_ENTRY_STORE_PAGE="GiftEntryStorePage",e.APOLLO_CACHE_UPDATE="ApolloCacheUpdate";var l=function(a,b){var c,d={component:b.entryPoint};b.giftOptions&&(d=(0,g.Z)({},d,{hasRecipientPhoneNumber:Boolean((c=b.giftOptions).recipientPhone),hasRecipientName:Boolean((0,j.cj)(c)),hasGiftMessage:Boolean(c.cardMessage),recipientCountryCode:c.recipientCountryCode,selectedVirtualCard:c.cardId}));var e={level:a,message:b.message,contexts:(0,f.Z)({},"Meal Gifting Context",d),tags:k};return h.eN(e)},m=function(a){return l(i.z.Error,a)}},24693:function(a,b,c){c.d(b,{s:function(){return g},n:function(){return v}});var d,e,f=c(67294),g=f.createContext({messageLocation:null,result:null,recommendedActions:null,isCheckoutBlocked:!1}),h=c(10253),i=c(7297),j=c(85893),k=c(93999),l=c(44119),m=c.n(l),n=c(11459),o=c(2886);function p(){var a=(0,i.Z)(["\n  query validateConsumerAddress($addressLinkId: ID!) {\n    validateConsumerAddress(addressLinkId: $addressLinkId) {\n      cartMessage {\n        code\n        type\n        message\n      }\n      validationResults {\n        code\n        type\n      }\n      userActions {\n        userActionType\n        isCheckoutBlocked\n      }\n    }\n  }\n"]);return p=function(){return a},a}function q(){var a=(0,i.Z)(["\n  query validateConsumerAddress($googlePlaceId: ID!) {\n    validateConsumerAddress(googlePlaceId: $googlePlaceId) {\n      cartMessage {\n        code\n        type\n        message\n      }\n      validationResults {\n        code\n        type\n      }\n      userActions {\n        userActionType\n        isCheckoutBlocked\n      }\n    }\n  }\n"]);return q=function(){return a},a}(d=e||(e={})).ADDRESS="ADDRESS",d.SUBPREMISE="SUBPREMISE";var r=m()(p()),s=m()(q()),t=function(a){if(!a)return null;switch(a){case n.R4.MESSAGE_ADDRESS_NOT_DELIVERABLE:case n.R4.MESSAGE_ADDRESS_NOT_DELIVERABLE_ALL_DELIVERIES_BLOCKED:case n.R4.MESSAGE_UNSPECIFIED:return e.ADDRESS;default:return e.SUBPREMISE}},u=function(a,b,c){var d,e,g,i=(0,h.Z)((0,k.useLazyQuery)(r,{fetchPolicy:"cache-and-network"}),2),j=i[0],l=i[1],m=l.data,n=l.error,o=(0,h.Z)((0,k.useLazyQuery)(s,{fetchPolicy:"cache-and-network"}),2),p=o[0],q=o[1],u=q.data,v=q.error;if((0,f.useEffect)(function(){(a||c)&&!b&&(c?p({variables:{googlePlaceId:c}}):a&&j({variables:{addressLinkId:a.id}}))},[a,c,b,j,p,]),b||n||v)return{messageLocation:null,result:null,recommendedActions:null,isCheckoutBlocked:!1};var w,x=m?m.validateConsumerAddress:null==u?void 0:u.validateConsumerAddress,y=null!==(g=null==x?void 0:x.cartMessage)&&void 0!==g?g:null;return{result:y,messageLocation:t(null==y?void 0:y.code),recommendedActions:(null==x?void 0:null===(d=x.userActions)||void 0===d?void 0:null===(e=d[0])||void 0===e?void 0:e.userActionType)||null,isCheckoutBlocked:!!(null==(w=(null==x?void 0:x.userActions)||null)?void 0:w.some(function(a){return a.isCheckoutBlocked}))}},v=function(a){var b=a.children,c=a.skip,d=a.address,e=a.googlePlaceId,h=(0,f.useContext)(o.Uu).consumer,i=u(d||h.defaultAddress,c,e);return(0,j.jsx)(g.Provider,{value:i,children:b})}},87708:function(a,b,c){c.d(b,{B:function(){return m},I:function(){return l}});var d=c(85893),e=c(67294),f=c(53390),g=c(46879),h=c(3532),i=c(74269),j=c(66897),k=function(){var a=(0,h.Sl)().track;return{trackErrorAppear:(0,j.W)(a)}},l=function(a){var b=(0,g.lO)().pageType,c=k().trackErrorAppear;return e.useEffect(function(){a.error&&c({internal_error_message:i.D.UncategorizedErrorFragment,client_error_id:i.N.Uncategorized,error_message:a.error,error_type:i.N.Uncategorized,origin:"ErrorFragment"},{message:a.error,page_type:b||"unknown_page_type_error_fragment"})},[a.error,b,c]),(0,d.jsx)(d.Fragment,{children:a.children})},m=function(a){var b=(0,g.lO)().pageType,c=k().trackErrorAppear;return e.useEffect(function(){a.error&&c({internal_error_message:i.D.UncategorizedErrorAppearPrism,client_error_id:i.N.Uncategorized,error_type:i.N.Uncategorized,origin:b||"unknown_origin",error_message:a.error},{message:a.error,page_type:b||"unknown_page_type_error_message"})},[a.error,b,c]),(0,d.jsx)(f.ErrorMessage,{error:a.error})}},94533:function(a,b,c){c.d(b,{K:function(){return d}});function d(a){return null!==a}}}])