(function(){var d=window.sg.common.$q,f=window.sg.common.utils,g=window.sg.common.lazyLoad,e=window.sg.common.swiperManager,c=function(b){var a=this;this.$qWindow=d(window);this.ele={section:d(b),list:null,text:null,anchor:null,focusEl:null};this.timer=null;this.selector={list:".half-teaser-list__item",text:".half-teaser-list__text",anchor:'.half-teaser-list__item a, .half-teaser-list__item button, .half-teaser-list__item [role\x3d"button"]'};this.handler={resize:function(){a.timer&&clearTimeout(a.timer);
a.timer=setTimeout(function(){a.setAccessibilityInit();a.ele.list.off("mouseenter",a.handler.mouseOverList);a.ele.text.off("focus",a.handler.focusList);a.ele.anchor.off("focus",a.handler.focusList);"desktop"===f.getCurrentDevice()?(a.ele.list.on("mouseenter",a.handler.mouseOverList),a.ele.text.on("focus",a.handler.focusList),a.ele.anchor.on("focus",a.handler.focusList)):a.ele.section.find(".swiper-container").target.forEach(function(b){e.slideInitEnd(b,function(){e.getSwiper(b).slideTo(a.ele.section.find(".half-teaser-list__item--active").index())});
e.slideChangeTransitionEnd(b,function(b,k){a.ele.list.removeClass("half-teaser-list__item--active");a.ele.list.eq(k).addClass("half-teaser-list__item--active")})});a.setHasImgHeight()},10)},mouseOverList:function(b){var c=a.ele.section.find(".half-teaser-list__item--active");c.target.length&&(c.removeClass("half-teaser-list__item--active"),c.removeClass("swiper-slide-active"));g.setLazyLoad();a.ele.focusEl&&a.ele.focusEl.blur();b=d(b.target).closest(a.selector.list);a.ele.focusEl=b.find(a.selector.text);
b.addClass("swiper-slide-active");b.addClass("half-teaser-list__item--active");a.setHasImgHeight();a.setAccessibility(b)},focusList:function(b){a.ele.list.removeClass("half-teaser-list__item--active");a.ele.list.removeClass("swiper-slide-active");g.setLazyLoad();b=d(b.target).closest(a.selector.list);a.ele.focusEl=b.find(a.selector.text);b.addClass("swiper-slide-active");b.addClass("half-teaser-list__item--active");a.setHasImgHeight();a.setAccessibility(b)}};this.init();c.instances.set(b,this)};c.prototype.init=
function(){this.setProperty();this.bindEvents();this.handler.resize()};c.prototype.setProperty=function(){this.ele.list=this.ele.section.find(this.selector.list);this.ele.text=this.ele.section.find(this.selector.text);this.ele.anchor=this.ele.section.find(this.selector.anchor)};c.prototype.bindEvents=function(){this.$qWindow.on("resize",this.handler.resize);this.ele.text.on("focus",this.handler.focusList);this.handler.resize()};c.prototype.unBindEvents=function(){this.$qWindow.off("resize",this.handler.resize);
this.ele.text.off("focus",this.handler.focusList);this.ele.text.off("mouseover",this.handler.mouseOverList)};c.prototype.reInit=function(){this.unBindEvents();this.init()};c.prototype.setHasImgHeight=function(){var b=this.ele.section.find(".half-teaser-list__item--active "+this.selector.text);"desktop"!==f.getCurrentDevice()?this.ele.text.css({height:""}):this.ele.text.target.forEach(function(a){if(a===b.target[0]){var c=b.find(".half-teaser-list__text-inner").target[0].scrollHeight;a.style.height=
c+"px"}else a.style.height=a.querySelector(".half-teaser-list__title").getBoundingClientRect().height+2+"px"})};c.prototype.setAccessibilityInit=function(){var b=this.ele.list.find("span.half-teaser-list__title-link");"desktop"===f.getCurrentDevice()?(b.attr("role","button"),b.attr("tabindex",0)):(b.removeAttr("role"),b.removeAttr("tabindex"),b.removeAttr("title"));this.ele.anchor=this.ele.section.find(this.selector.anchor)};c.prototype.setAccessibility=function(b){var a=this.ele.list.find('[role\x3d"button"].half-teaser-list__title-link');
b=b.find('[role\x3d"button"].half-teaser-list__title-link');a.target.length&&a.removeAttr("title");b.target.length&&b.attr("title","selected")};c.instances=new WeakMap;var h=function(){d(".half-teaser-list").target.forEach(function(b){c.instances.has(b)||new c(b)})};d.ready(h);window.sg.components.halfTeaserList={init:h,reInit:function(){g.setLazyLoad();d(".half-teaser-list").target.forEach(function(b){e.slideReInit(d(b).find(".basic-swiper").target[0]);c.instances.has(b)?c.instances.get(b).reInit():
new c(b)})}}})();