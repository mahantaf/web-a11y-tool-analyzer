(function(){function f(){d(e.section).target.forEach(function(a){b.instances.has(a)||new b(a)})}var d=window.sg.common.$q,e={section:".notice"},b=function(a){var c=this;this.selector={section:e.section,btn:".notice__toggle-btn",hidden:".notice__toggle-btn .hidden",content:".notice__inner",nomarl:".notice__column notice__column--collapsed",expend:".notice__column notice__column--expanded",close:".notice__close"};this.timer=null;this.ele={window:d(window),section:d(a),btn:null,content:null,nomarl:null,
expand:null,close:null};this.toggleType=this.ele.section.hasClass("notice--toggle");this.handler={resize:function(){c.toggleType&&(c.ele.section.css({height:""}),c.timer&&clearTimeout(c.timer),setTimeout(function(){c.setHeight()},400))},clickClose:function(a){a.preventDefault();c.ele.section.hide();c.ele.window.trigger("resize")}};this.init();b.instances.set(a,this)};b.prototype.setProperty=function(){this.ele.btn=this.ele.section.find(this.selector.btn);this.toggleType?(this.ele.hidden=this.ele.section.find(this.selector.hidden),
this.ele.content=this.ele.section.find(this.selector.content),this.ele.pdBanner=this.ele.section.find(this.selector.pdBanner),this.ele.nomarl=this.ele.section.find(this.selector.nomarl),this.ele.expand=this.ele.section.find(this.selector.expend)):this.ele.close=this.ele.section.find(this.selector.close)};b.prototype.init=function(){this.setProperty();this.bindEvents()};b.prototype.reInit=function(){this.setProperty();this.bindEvents()};b.prototype.setHeight=function(){this.ele.section.css({height:this.ele.content.outerHeight()+
"px"})};b.prototype.bindEvents=function(){var a=this;if(this.toggleType)this.ele.btn.off("click").on("click",function(){a.ele.section.hasClass("is-expanded")?a.closeBanner():a.openBanner()}),this.setHeight();else this.ele.close.off("click").on("click",this.handler.clickClose);this.ele.window.off("resize",this.handler.resize).on("resize",this.handler.resize)};b.prototype.openBanner=function(){this.ele.section.addClass("is-expanded");this.ele.section.attr("aria-expanded",!0);this.ele.nomarl.hide();
this.ele.expand.show();this.ele.hidden.innerHTML("Click to Collapse");this.setHeight()};b.prototype.closeBanner=function(){this.ele.section.removeClass("is-expanded");this.ele.section.attr("aria-expanded",!1);this.ele.nomarl.show();this.ele.expand.hide();this.ele.hidden.innerHTML("Click to Expand");this.setHeight()};b.instances=new WeakMap;window.sg.components.notice={init:f,reInit:function(){d(e.section).target.forEach(function(a){b.instances.has(a)?b.instances.get(a).reInit():new b(a)})},closeBanner:function(a){a=
void 0===a?!0:a;d(e.section).target.forEach(function(c){b.instances.has(c)&&b.instances.get(c).closeBanner(a)})}};d.ready(f)})();