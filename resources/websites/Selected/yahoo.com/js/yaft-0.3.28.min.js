"undefined"!=typeof window&&function(p,f){"use strict";if(void 0===p.YAFT){var v,T,n,o,a=!1,S=!1,i=!1,h=!1,w=!0,A=(new Date).getTime(),r=!1,e=f.documentElement,F={usePrefixRegex:!0,useNormalizeCoverage:!0,canShowVisualReport:!0,canShowPerfBar:!1,useNativeStartRender:!0,useNativeStartRenderMeaningful:!1,maxWaitTime:3e3,modules:[],adModules:[],modulesExclude:[],modulesAft2Container:[],customReportModules:[],includeOnlyAft2:!1,punishAdsOnNoShow:!1,plugins:[],whiteListedContainerElements:["div","section","ul","ol","li","header","img","a","video","figure","span","picture"],customStartRender:!1,preProcess:!1,getAccurateFirstPaint:!0,fpsMinSampleCount:15,fpsMissLimit:18,preferDataModNameOverId:!1},C=0,P=0,E=0,N=[],R={},y={},Y=0,d={},b=0,s=0,M=0,u=0,l=0,c=!1,g=[];(v=V())&&v.timing&&(A=v.timing.navigationStart,v.now=v.now||v.webkitNow||v.msNow||v.mozNow||void 0,v.now&&(void 0===v.getEntriesByType&&void 0===v.webkitGetEntriesByType||void 0===v.getEntriesByName&&void 0===v.webkitGetEntriesByName||(S=!0),p.requestAnimationFrame&&p.cancelAnimationFrame&&(i=!0))),p.YAFT={data:[],triggerPerf:function(e,t){if(!r&&a){if(r=!0,!S)return t(null,"Nav or resource timing or both are not available"),!1;F.maxWaitTime&&0<F.maxWaitTime?u=setTimeout(function(){z(e,t)},F.maxWaitTime):z(e,t)}},triggerCustomTiming:function(e,t,r){if(!S)return!1;var n,o,a,i,s;YAFT.isInitialized()&&(T||(T=D()),(n=f.querySelector(YAFT.getModuleSelector(e,!1)))&&(o=YAFT.getModuleName(n),n.modName=o,-1===F.modulesExclude.indexOf(o)&&(y[o]=n,i={modStart:t,modEnd:r},s=(a=n).modName,d[s]=m(a,i))))},getFinalModulesReport:function(){return d},reset:function(){r=!(a=!0),y=[],d={}},perfExists:function(){return S},isInitialized:function(){return a},getConfig:function(){return F},updateConfig:function(e){var t;for(t in e)F.hasOwnProperty(t)&&e.hasOwnProperty(t)&&void 0!==F[t]&&void 0!==e[t]&&(F[t]=e[t])},getPerformance:V,init:function(e,t){if(this.reset(),!S)return t(null,"Nav or resource timing or both are not available"),!1;this.getQueryStrings().showaft&&(h=!0),"0"===this.getQueryStrings().perfbar&&(w=!1),this.updateConfig(e),v.timing.loadEventStart>v.timing.navigationStart?YAFT.triggerPerf("deferred",t):p.addEventListener?(p.addEventListener("load",function(){YAFT.triggerPerf("load",t)},!1),p.addEventListener("unload",function(){YAFT.triggerPerf("unload",t)},!1)):p.attachEvent&&(p.attachEvent("onload",function(){YAFT.triggerPerf("load",t)}),p.attachEvent("onunload",function(){YAFT.triggerPerf("unload",t)}))},AFT2:{start:function(){if(y={},d={},s=0,!S||!a)return!1;!0===h&&F.canShowVisualReport&&p.YAFT_REPORT&&p.YAFT_REPORT.removeReport&&(p.YAFT_REPORT.removeExtras(),p.YAFT_REPORT.removeReport()),u&&clearTimeout(u),l&&clearTimeout(l);try{v.clearResourceTimings?v.clearResourceTimings():v.webkitClearResourceTimings&&v.webkitClearResourceTimings()}catch(e){}b=v.now(),b+A},setAFT2StartRender:function(){if(!S||!a)return!1;0===s&&(s=v.now())},getAFT2StartRender:function(){return s},end:function(e){var t={},r={},n={},o=0;if(!S||!a)return e(null,"Nav or resource timing or both are not available or YAFT is not initialized"),!1;s||(s=v.now()),M=s-b,F.maxWaitTime&&0<F.maxWaitTime&&(l=setTimeout(function(){T||(T=D()),R=x(),F.preProcess&&"function"==typeof F.preProcess&&F.preProcess(),o=YAFT.getDomElementsCount(),L(F.modules,F.modulesExclude,F.modulesAft2Container),I(y,b,M,F.includeOnlyAft2),n=YAFT.getFinalModulesReport(),P=B(n),r=k(n,M),E=r.normTotalCoveragePercentage,Y=q(r.aftIntervals),t={aft:r.aft,aftNoAd:r.aftNoAd,startRender:M,event:"aft2",modulesReport:n,totalCoveragePercentage:P,normTotalCoveragePercentage:E,domElementsCount:o,resources:R,visuallyComplete:Y},e&&e(t),YAFT.data.push(t),!0===h&&F.canShowVisualReport&&p.YAFT_REPORT&&p.YAFT_REPORT.drawReport&&(YAFT.logToConsole(t),YAFT.logToConsole(r.aftIntervals),p.YAFT_REPORT.drawReport(t,r.aftIntervals))},F.maxWaitTime))}},FPS:{start:function(e){if(!i)return!1;c=!1,o&&p.cancelAnimationFrame(o),n=e,g.length=0,c=!0,o=p.requestAnimationFrame(t)},stop:function(e,t){var r;return c=!1,i?(o&&p.cancelAnimationFrame(o),n!==e?(t&&t("FPS stop action cannot be different than start action"),!1):((r=W()).action=e,r.avgFps?(t&&t(null,r),YAFT.logToConsole(r),r):(t&&t("FPS is not available"),!1))):(t&&t("FPS is not available for this browser"),!1)}},getDomElementsCount:function(){return f.getElementsByTagName("*").length},getTTFB:function(){return S?v.timing.responseStart-A:0},getPageLoadTime:function(){return S?v.timing.loadEventStart-A:0},getDomContentLoaded:function(){return S?v.timing.domContentLoadedEventStart-A:0},getStartRenderTime:function(){var e,t,r,n,o,a;if(!S)return 0;if(F.customStartRender&&"function"==typeof F.customStartRender)return F.customStartRender();if(e=this.getDomContentLoaded(),(o=p.performance.getEntriesByType("paint"))&&o.length&&0<o.length){if(F.useNativeStartRenderMeaningful)for(a=0;a<o.length;a+=1)if("first-contentful-paint"===o[a].name){t=o[a].startTime;break}if(void 0===t)for(a=0;a<o.length;a+=1)if("first-paint"===o[a].name){t=o[a].startTime;break}}if(void 0===t&&("msFirstPaint"in p.performance.timing?t=p.performance.timing.msFirstPaint-A:"chrome"in p&&"loadTimes"in p.chrome&&p.chrome.loadTimes&&"firstPaintTime"in(r=p.chrome.loadTimes())&&0<r.firstPaintTime&&(n=r.startLoadTime,"requestTime"in r&&0<r.requestTime&&(n=r.requestTime),r.firstPaintTime>=n&&(t=1e3*(r.firstPaintTime-n)))),!0===F.getAccurateFirstPaint&&(void 0===t||t<0||12e4<t)){t=p.performance.timing.responseStart-A;for(var i={},s=f.getElementsByTagName("head")[0].children,u=0;u<s.length;u++){var l=s[u];"SCRIPT"===l.tagName&&l.src&&!l.async&&(i[l.src]=!0),"LINK"===l.tagName&&"stylesheet"===l.rel&&l.href&&(i[l.href]=!0)}for(var d=p.performance.getEntriesByType("resource"),c=!1,g=0;g<d.length;g++)if(c||!i[d[g].name]||"script"!==d[g].initiatorType&&"link"!==d[g].initiatorType)c=!0;else{var m=d[g].responseEnd;(void 0===t||t<m)&&(t=m)}}return void 0===t||t<0||12e4<t&&e<t?e:t},getDomInteractive:function(){return S?v.timing.domInteractive-A:0},getNow:function(){return S?v.now():0},getQueryStrings:function(){if(this.qParams)return this.qParams;var e={},t="",r=p.location.search.slice(1).split("&"),n=0,o=r.length||0;for(n=0;n<o;n+=1)e[(t=r[n].split("="))[0]]=t[1]||"";return this.qParams=e},getViewport:function(){return T},getVersion:function(){return"0.3.28"},logToConsole:function(e){S&&h&&console&&console.log&&console.log(e)},getModuleSelector:function(e,t){for(var r=[],n=t?"^":"",o=t?"*":"",a=0,i=F.whiteListedContainerElements.length;a<i;a++)r.push(F.whiteListedContainerElements[a]+"[id"+n+'="'+e+'"]');return r.push(o+"[data-yaft-module"+n+'="'+e+'"]'),r.join(",")},getModuleName:function(e){return F.preferDataModNameOverId?e.getAttribute("data-yaft-module")||e.id||void 0:e.id||e.getAttribute("data-yaft-module")||void 0},getElemResourceUrl:function(e){var t,r="",n=[];return"VIDEO"===e.nodeName||(e.src?r=e.src:(t=e.currentStyle||window.getComputedStyle(e,!1))&&t.backgroundImage&&(n=t.backgroundImage.match(/url\((["']{0,1})([^'"]+)\1\)$/))&&3===n.length&&(r=n[2])),r}}}function x(){var e,t,r,n,o,a=[],i=0,s=[];for(a.push((n=v.timing,o=v.getEntries("resource")[0],{url:f.location.href,start:0,transferSize:void 0!==o.transferSize?o.transferSize:-1,duration:n.responseEnd-n.navigationStart,durationFromNStart:n.responseEnd-n.navigationStart,redirectStart:0===n.redirectStart?0:n.redirectStart-n.navigationStart,redirectDuration:n.redirectEnd-n.redirectStart,appCacheStart:0,appCacheDuration:0,dnsStart:n.domainLookupStart-n.navigationStart,dnsDuration:n.domainLookupEnd-n.domainLookupStart,tcpStart:n.connectStart-n.navigationStart,tcpDuration:n.connectEnd-n.connectStart,sslStart:0<n.secureConnectionStart?n.secureConnectionStart-n.connectStart:0,sslDuration:0<n.secureConnectionStart?n.connectEnd-n.secureConnectionStart:-1,requestStart:n.requestStart-n.navigationStart,requestDuration:n.responseStart-n.requestStart,responseStart:n.responseStart-n.navigationStart,responseDuration:n.responseEnd-n.responseStart})),s=v.getEntriesByType("resource"),e=0;e<s.length;e+=1)"document"!==s[e].name&&a.push(O(s[e]));if((r=document.getElementsByTagName("iframe"))&&r.length){for(t=0;t<r.length;t+=1)try{for(s=r[t].contentWindow.performance.getEntriesByType("resource"),i=r[t].contentWindow.performance.timing.navigationStart-v.timing.navigationStart,e=0;e<s.length;e+=1)"document"!==s[e].name&&a.push(O(s[e],i))}catch(e){}a.sort(function(e,t){return e.start-t.start})}return a}function O(e,t){return t&&0<t||(t=0),{url:e.name,start:e.startTime+t,duration:e.duration,transferSize:void 0!==e.transferSize?e.transferSize:-1,durationFromNStart:0<e.duration?e.duration+e.startTime+t:e.startTime+t,redirectStart:e.redirectStart+t,redirectDuration:e.redirectEnd-e.redirectStart,appCacheStart:0,appCacheDuration:0,dnsStart:e.domainLookupStart+t,dnsDuration:e.domainLookupEnd-e.domainLookupStart,tcpStart:e.connectStart+t,tcpDuration:e.connectEnd-e.connectStart,sslStart:0<e.secureConnectionStart?e.secureConnectionStart-e.connectStart:0,sslDuration:0<e.secureConnectionStart?e.connectEnd-e.secureConnectionStart:-1,requestStart:e.requestStart+t,requestDuration:e.responseStart-e.requestStart,responseStart:e.responseStart+t,responseDuration:0===e.responseStart?0:e.responseEnd-e.responseStart}}function D(){return{win:p,doc:f,docElem:e,viewportWidth:e.clientWidth<p.innerWidth?p.innerWidth:e.clientWidth,viewportHeight:e.clientHeight<p.innerHeight?p.innerHeight:e.clientHeight,getScrollXY:function(){return{x:p.scrollX||p.pageXOffset,y:p.scrollY||p.pageYOffset}},getViewportArea:function(){return this.viewportWidth*this.viewportHeight},getElementBounds:function(e){var t,r=e,n=this.getScrollXY();return(t=function e(t){var r,n={};for(r in t)"object"==typeof t[r]&&null!==t[r]?n[r]=e(t[r]):n[r]=t[r];return n}(r.getBoundingClientRect())).top=t.top+n.y,t.bottom=t.bottom+n.y,t.left=t.left+n.x,t.right=t.right+n.x,t},isInViewport:function(e,t){var r=this.getElementBounds(e);return r.top<this.viewportHeight&&r.left<this.viewportWidth&&0<=r.bottom&&0<=r.right&&this.isVisible(e,t)},isVisible:function(e,t){var r=!0,n=e;if((r=r&&0<n.offsetWidth&&0<n.offsetHeight)&&!t)for(;"BODY"!==n.tagName&&r;)r=r&&"hidden"!==p.getComputedStyle(n).visibility,n=n.parentElement;return r},getElementCoverage:function(e){var t,r,n,o,a=this.getElementBounds(e);return(n=100*(o=(t=a.right<0?0:a.right>this.viewportWidth?0<=a.left?this.viewportWidth-a.left:this.viewportWidth:a.left<0&&0<a.right?a.right:a.width)*(r=a.bottom<0?0:a.bottom>this.viewportHeight?0<=a.top?this.viewportHeight-a.top:this.viewportHeight:a.top<0&&0<a.bottom?a.bottom:a.height))/this.getViewportArea())<1&&(n=Math.ceil(n)),{x:t,y:r,elCoverage:o,elCoveragePerc:n}}}}function L(e,t,r){var n,o,a,i,s,u="",l=!1,d=[];for(e=e||[],t&&!r?d=t:!t&&r?d=r:t&&r&&(d=t.concat(r)),d&&d.length?d.length:0,n=0,s=e.length;n<s;n+=1)for(a=e[n],o=(i=f.querySelectorAll(YAFT.getModuleSelector(a,F.usePrefixRegex))).length-1;0<=o;o--)u=YAFT.getModuleName(i[o]),l=!1,-1!==d.indexOf(u)&&(l=!0),l||y[u]||(i[o].modName=u,y[u]=i[o]);return y}function I(e,t,r,n){var o,a,i,s=0,u=F.adModules?F.adModules:[],l=u.length;for(a in e)e.hasOwnProperty(a)&&(d[a]||(o=m(e[a]),n?o.isAft2Module&&(d[a]=o):d[a]=o));if(l)for(i in d)if(d.hasOwnProperty(i))for(d[i].isAdModule=!1,s=0;s<l;s+=1)if(-1!==i.search(u[s])){d[i].isAdModule=!0,F.punishAdsOnNoShow&&d[i].loadTime===r&&(d[i].loadTime=v.now()-t-100);break}return d}function m(e,t){var r,n,o,a,i,s=!1,u=function(e,t){for(var r=!1;t.parentNode;){if(t.parentNode.id&&-1!==e.indexOf(t.parentNode.id)){r=!0;break}t=t.parentNode}return r}(F.modulesAft2Container,e),l=F.customReportModules&&-1!==F.customReportModules.indexOf(e.modName),d=[],c=v.now(),g=u?c-b:c,m=b?M:F.useNativeStartRender?C||YAFT.getStartRenderTime():S?v.timing.domContentLoadedEventStart-A:0,f=l?g:m,p=e.querySelectorAll(F.whiteListedContainerElements.join()),h=p.length;if(t)s=!0,m=t.modStart?t.modStart:m,f=t.modEnd?t.modEnd:f,b&&(b<m?m-=b:m=0,b<f?f-=b:f=0);else if(0<b&&!u)f=m=0;else if(l)s=!0;else{if((a=YAFT.getElemResourceUrl(e))&&(i=v.getEntriesByName(a))&&i.length&&0<i.length&&T.isInViewport(e)&&d.push(O(i[0])),p&&0<h)for(r=0;r<h;r+=1)n=p[r],(a=YAFT.getElemResourceUrl(n))&&(i=v.getEntriesByName(a))&&i.length&&0<i.length&&T.isInViewport(n)&&d.push(O(i[0]));if(0<(h=d.length))for(r=0;r<h;r+=1)0<b&&u&&(d[r].start-=b,d[r].durationFromNStart-=b,d[r].start<=0&&(d[r].start=m),d[r].durationFromNStart<=0&&(d[r].durationFromNStart=f)),d[r].start>m&&(m=d[r].start),d[r].durationFromNStart>f&&(f=d[r].durationFromNStart)}return o=T.getElementCoverage(e),{isCustom:s,isAft2Module:u,start:m,loadTime:f,name:e.modName,resources:d,inViewPort:s?T.isInViewport(e,!0):T.isInViewport(e,!1),coverageWidth:o.x,coverageHeight:o.y,coverageArea:o.elCoverage,coveragePercentage:o.elCoveragePerc}}function B(e){var t,r=0,n=0;for(t in e)e.hasOwnProperty(t)&&(r=e[t].coveragePercentage,e[t].inViewPort&&0<Math.round(r)&&(n+=r));return n}function q(e){var t,r=e.length;for(t=0;t<r;t+=1)if(F.useNormalizeCoverage){if(Math.round(e[t])===Math.round(E))return 100*t}else if(Math.round(e[t])===Math.round(P))return 100*t;return 0}function k(e,t){var r,n,o=0,a=0,i=v.now()-b,s=Math.floor(i/100),u=new Array(s),l=new Array(s),d=0;for(r=0;r<s;r+=1)u[r]=0,l[r]=0;for(n in r=0,e)e.hasOwnProperty(n)&&e[n].inViewPort&&0<Math.round(e[n].coveragePercentage)&&(F.useNormalizeCoverage&&(e[n].normCoveragePercentage=e[n].coveragePercentage/P*100,d+=e[n].normCoveragePercentage),0<=e[n].loadTime&&(u[r=Math.round(e[n].loadTime/100)]+=F.useNormalizeCoverage?e[n].normCoveragePercentage:e[n].coveragePercentage,e[n].isAdModule?l[r=Math.round(t/100)]+=F.useNormalizeCoverage?e[n].normCoveragePercentage:e[n].coveragePercentage:l[r]+=F.useNormalizeCoverage?e[n].normCoveragePercentage:e[n].coveragePercentage));for(F.useNormalizeCoverage?(o+=d-u[0],a+=d-l[0]):(o+=P-u[0],a+=P-l[0]),r=1;r<s;r+=1)u[r]=u[r-1]+u[r],l[r]=l[r-1]+l[r],F.useNormalizeCoverage?(o+=d-u[r],a+=d-l[r]):(o+=P-u[r],a+=P-l[r]);return{aft:o,aftNoAd:a,aftIntervals:u,normTotalCoveragePercentage:d}}function W(){var e,t,r,n,o,a,i=0,s=g.length,u={median:NaN,worse:NaN,avgFps:NaN,stdev:NaN,miss:NaN,sample:NaN};return 0===s||s<=F.fpsMinSampleCount||(u.sample=s,t=(g[s-1]-g[0])/(s-1),u.avgFps=Math.round(1e3/t),60<u.avgFps&&(u.avgFps=60),(e=g.map(function(e,t){if(0===t)return NaN;var r=e-g[t-1];return r>F.fpsMissLimit&&i++,r})).shift(),u.miss=i,u.stdev=(n=t,a=(o=e.map(function(e){var t=e-n;return t*t})).reduce(function(e,t){return e+t},0)/o.length,Math.sqrt(a)),e.sort(function(e,t){return e-t}),u.worse=e[e.length-1],r=Math.floor(e.length/2),e.length%2?u.median=e[r]:u.median=(e[r-1]+e[r])/2),u}function t(){g.push(v.now()),c&&g.length<300&&(o=p.requestAnimationFrame(t))}function z(e,t){var r,n,o,a,i,s=YAFT.getPageLoadTime(),u=YAFT.getDomContentLoaded(),l=YAFT.getDomElementsCount(),d=YAFT.getTTFB(),c=YAFT.getDomInteractive(),g=[],m=[];if(C=YAFT.getStartRenderTime(),(R=x())&&R.length&&0<R.length){if(F.preProcess&&"function"==typeof F.preProcess&&F.preProcess(),F.plugins)for(i=0;i<F.plugins.length;i+=1)window["yaft_"+F.plugins[i].name]&&window["yaft_"+F.plugins[i].name].execute?F.plugins[i].isPre?(g.push(F.plugins[i]),YAFT.logToConsole("YAFT plugin "+F.plugins[i].name+" will be executed before the callback")):(m.push(F.plugins[i]),YAFT.logToConsole("YAFT plugin "+F.plugins[i].name+" will be executed after the callback")):YAFT.logToConsole("YAFT plugin "+F.plugins[i].name+" not found or it does not have execute method");var f;for(T||(T=D()),L(F.modules,F.modulesExclude,F.modulesAft2Container),I(y,0,C),o=YAFT.getFinalModulesReport(),P=B(o),n=k(o,C),E=n.normTotalCoveragePercentage,(f=R.slice(0)).sort(function(e,t){return t.duration-e.duration}),a=function(e){var t={},r=0,n=0,o=YAFT.getPageLoadTime(),a=0,i=0;for(t.count=e.length,r=0;r<t.count;r+=1)e[r].start<=o&&(a+=1),e[r].duration<=0&&(n+=1,e[r].start<=o&&(i+=1));return t.cached=n,t.nonCached=t.count-n,t.onloadCount=a,t.onloadCached=i,t.onloadNonCached=a-i,t}(N=f),Y=q(n.aftIntervals),r={aft:n.aft,aftNoAd:n.aftNoAd,pageLoadTime:s,startRender:C,domInteractive:c,domContentLoaded:u,ttfb:d,event:e,modulesReport:o,totalCoveragePercentage:P,normTotalCoveragePercentage:E,domElementsCount:l,resources:R,costlyResources:N,httpRequests:a,visuallyComplete:Y},i=0;i<g.length;i+=1)try{window["yaft_"+g[i].name].execute(g[i].config,r)}catch(e){YAFT.logToConsole("YAFT plugin "+g[i].name+" failed to execute"),YAFT.logToConsole(e)}for(t&&t(r),YAFT.data.push(r),i=0;i<m.length;i+=1)try{window["yaft_"+m[i].name].execute(m[i].config,r)}catch(e){YAFT.logToConsole("YAFT plugin "+m[i].name+" failed to execute"),YAFT.logToConsole(e)}!0===h&&F.canShowVisualReport&&p.YAFT_REPORT&&p.YAFT_REPORT.drawReport&&(YAFT.logToConsole(r),YAFT.logToConsole(n.aftIntervals),p.YAFT_REPORT.drawReport(r,n.aftIntervals)),w&&F.canShowPerfBar&&p.YAFT_PERFBAR.drawReport&&p.YAFT_PERFBAR.drawReport(r)}else t(null,"No timings available")}function V(){return p.performance||p.webkitPerformance||p.msPerformance||p.mozPerformance||p.Performance}}(window,document),"undefined"!=typeof module&&module.exports&&("undefined"!=typeof window?module.exports=window.YAFT:module.exports=!1);