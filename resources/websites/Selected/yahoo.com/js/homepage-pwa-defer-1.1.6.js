!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("HomepageClient",[],t):"object"==typeof exports?exports.HomepageClient=t():e.HomepageClient=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.webpackJsonpHomepageClient;window.webpackJsonpHomepageClient=function(t,o,i){for(var a,s,c=0,l=[];c<t.length;c++)s=t[c],r[s]&&l.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(n&&n(t,o,i);l.length;)l.shift()()};var o={},r={1:0,2:0};return t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(c);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var o=r[e];if(0===o)return new Promise(function(e){e()});if(o)return o[2];var i=new Promise(function(t,n){o=r[e]=[t,n]});o[2]=i;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+""+({}[e]||e)+"_94f9d35df1.chunk.js";var c=setTimeout(n,12e4);return s.onerror=s.onload=n,a.appendChild(s),i},t.m=e,t.c=o,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://s.yimg.com/aaq/hc/",t.oe=function(e){throw e},t(t.s="./src/base.js")}({"../../node_modules/@vzmi/wafer-core/src/features.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.localStorage=function(){try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch(e){return!1}}(),t.visibilityMeta=function(){var e=void 0,t=void 0;return void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}}(),t.transformProperty=function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}(),t.mutationObserver=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(e[t]+"MutationObserver"in window)return!0;return!1}(),t.nativeLazyLoadingSupported=function(){return"loading"in HTMLImageElement.prototype}(),t.isSlowBrowser=function(){var e=void 0;return new Promise(function(t){if(void 0!==e)return t(e);var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(n){var o=n.effectiveType;if("slow-2g"===o||"2g"===o)return e=!0,t(!0),!0}if(!("storage"in navigator&&"estimate"in navigator.storage))return t(!1);navigator.storage.estimate().then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.usage,r=n.quota;return Math.round(o/r*100)>=70?(e=!0,t(!0)):t(!1)}).catch(function(){return t(!1)})})}(),t.performanceMarkSupported=function(){var e=window,t=e.performance;return t&&"clearMarks"in t}(),t.isTouchSafariDevice=function(){return"ontouchstart"in window&&/Safari/i.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}(),t.smoothScroll=function(){var e=!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return e=!0,"smooth"}})}catch(e){}return e}(),t.isPWA=function(){return!!("standalone"in window.navigator&&window.navigator.standalone)||(!(void 0===window.matchMedia||!window.matchMedia("(display-mode: standalone)").matches)||!(void 0===window.msMatchMedia||!window.msMatchMedia("(display-mode: standalone)").matches))}()},"../../node_modules/@vzmi/wafer-core/src/utils.js":function(e,t,n){"use strict";function o(){return s=n("../../node_modules/@vzmi/wafer-core/src/utils/utils.js")}function r(){return c=n("../../node_modules/@vzmi/wafer-core/src/utils/cookie.js")}function i(){return l=n("../../node_modules/@vzmi/wafer-core/src/utils/timeout.js")}function a(){return u=n("../../node_modules/@vzmi/wafer-core/src/features.js")}Object.defineProperty(t,"__esModule",{value:!0}),t.setTimeout=t.clearTimeoutForInstance=t.clearTimeout=t.clearAllTimeout=t.getCookie=t.setCookie=t.removeCookie=t.fetchWithCache=t.urlify=t.getUrlParameterValueByName=t.getWaferInstanceForElem=t.getTemplateContent=t.getConfigFromJSONScriptNode=t.clearAndSetInnerHTML=t.convertNodeListToArray=t.getElementsByAttrValues=t.parseUrl=t.isNodeName=t.fireBeacon=t.findAncestor=t.each=t.loadCSSSync=t.loadScriptAsync=t.get=t.unbindEvent=t.bindEvent=t.throttle=t.elementInView=t.debounce=t.isVisible=void 0;var s,c,l,u,d=(l||i()).timeout.clearAllTimeout,f=(l||i()).timeout.clearTimeout,h=(l||i()).timeout.clearTimeoutForInstance,m=(l||i()).timeout.setTimeout,p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.offsetX,r=void 0===o?0:o,i=n.offsetY,a=void 0===i?0:i;return e.right+r>=t.left&&e.bottom+a>=t.top&&e.left-r<=t.right&&e.top-a<=t.bottom},v=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g=function e(t,n,o,r){if(o.hasAttribute(t)){var i=o.getAttribute(t);r[i]&&r[i].push(o)}var a=o.children;if(!a)return r;for(var s=a.length;s--;)e(t,n,a[s],r);return r},b=function(e){if(!e)return e;if("content"in document.createElement("template"))return e;var t=e.childNodes,n=void 0;if(t.length){n=document.createElement("div");for(var o=0;o<t.length;o++)n.appendChild(t[o].cloneNode(!0));window.wafer.base.destroy(e),e.innerHTML=""}else n=e;return n},w=(t.isVisible=v,t.debounce=function(e,t,n){var o=void 0;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];window.clearTimeout(o),o=window.setTimeout(function(){e.apply(n,i)},t)}},t.elementInView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.containerClass,o=t.offsetX,r=void 0===o?0:o,i=t.offsetY,a=void 0===i?0:i,s=arguments[2];if(!v(e))return!1;if(n&&Element.prototype.closest){var c=e.closest(n);if(c){var l=c.getBoundingClientRect();if(p(l,s)){var u=l.bottom+a,d=l.left-r,f=l.right+r,h=l.top-a,m={top:h>s.top?h:s.top,right:f<s.right?f:s.right,bottom:u<s.bottom?u:s.bottom,left:d>s.left?d:s.left},g=e.getBoundingClientRect();return p(g,m)}return!1}}var b=e.getBoundingClientRect();return p(b,s,{offsetX:r,offsetY:a})},t.throttle=function(e,t,n){var o=0;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=+new Date;s-o<t||(o=s,e.apply(n,i))}},t.bindEvent=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=o.passive,i=void 0===r||r;(u||a()).isTouchSafariDevice&&"click"===t&&(e.style.cursor="pointer"),e.addEventListener(t,n,{capture:!1,passive:i})}),y=(t.unbindEvent=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=o.passive,i=void 0===r||r;e.removeEventListener(t,n,{capture:!1,passive:i})},t.get=function(e,t){return t.reduce(function(e,t){return e&&e[t]?e[t]:null},e)});t.loadScriptAsync=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.src,o=t.type,r=t.text,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(a&&y(window,a.split(".")))return void i();if("text/javascript"!==(o=o||"text/javascript"))return void i(new Error("can load only script of type text/javascript"));var c=document.createElement("script");c.type=o,n?(c.src=n,c.async=!0,c.defer=!0,c.readyState?c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onreadystatechange=null,i(null,c))}:c.onload=function(){i(null,c)},c.onerror=function(){s<=5?e({src:n,type:o,text:r},i,a,++s):i(new Error("could not load script"))}):(c.textContent="try{"+r+"}catch(e){window.console && window.console.error(e);}",i(null,c)),document.getElementsByTagName("head")[0].appendChild(c)},t.loadCSSSync=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.src,o=t.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=document.getElementsByTagName("head")[0];if(o){var s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o)),a.appendChild(s),r()}else{var c=document.createElement("link");c.rel="stylesheet",c.href=n,a.appendChild(c),c.addEventListener("load",function(){r()}),c.addEventListener("error",function(){i<=2?e({src:n,text:o},r,++i):r()})}},t.each=function(e,t){if(e&&t)for(var n=e.length,o=0;o<n&&!1!==t(e[o],o);o++);},t.findAncestor=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentElement;return e},t.fireBeacon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useNavigator,o=void 0===n||n,r=t.useTimestamp,i=void 0===r||r,a=!1;if(o)if(window.navigator&&"function"==typeof window.navigator.sendBeacon)try{window.navigator.sendBeacon(e)||(a=!0)}catch(e){a=!0}else a=!0;else a=!0;if(a){var s=new Image;w(s,"error",function(){s=null}),w(s,"load",function(){s=null}),w(s,"abort",function(){s=null}),s.src=i?e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime():e}},t.isNodeName=function(e,t){return e.nodeName.toLowerCase()===t},t.parseUrl=function(e){if(!(e=e?e.split("?")[0]:"")||"/"===e.charAt(0))return{host:"undefined"!=typeof window?window.location.host:"",pathname:e||""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/")}},t.getElementsByAttrValues=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;if(!Array.isArray(t))return{};var o={};return t.forEach(function(e){o[e]=[]}),g(e,t,n,o),o},t.convertNodeListToArray=function(e){for(var t,n=[],o=0;t=e[o];++o)n.push(t);return n},t.clearAndSetInnerHTML=function(e,t){e.innerHTML="",e.innerHTML=t},t.getConfigFromJSONScriptNode=function(e){if(!e)return{};var t={};try{t=JSON.parse(e.textContent)}catch(e){}return t},t.getTemplateContent=function(e){var t=b(e),n=t.innerHTML;if(n)return n;for(var o="",r=t.childNodes,i=0;i<r.length;i++)o+=r[i].outerHTML;return o},t.getWaferInstanceForElem=function(e,t){var n=window.wafer.wafers[t];if(!n)return null;var o=void 0;return o=!0===n.__esModule?n.default._state:n._state,o.elementInstances.get(e)},t.getUrlParameterValueByName=function(e,t){var n=RegExp("[?&]"+e+"=([^&]*)").exec(t);return n&&decodeURIComponent(n[1].replace(/\+/g," "))},t.urlify=(s||o()).urlify,t.fetchWithCache=(s||o()).fetchWithCache,t.removeCookie=(c||r()).remove,t.setCookie=(c||r()).set,t.getCookie=(c||r()).get,t.clearAllTimeout=d,t.clearTimeout=f,t.clearTimeoutForInstance=h,t.setTimeout=m},"../../node_modules/@vzmi/wafer-core/src/utils/cookie.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return"string"==typeof e&&e},r=/;\s/g,i=/([^=]+)=/i;t.remove=function(e){if(o(e)){var t=new Date(0).toUTCString();window.document.cookie=e+"=''; expires="+t}},t.set=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.expires,i=n.domain,a=n.path;if(o(e)){var s=e+"="+t;r&&r instanceof Date&&(s+="; expires="+r.toUTCString()),i&&o(i)&&(s+="; domain="+i),a&&o(a)&&(s+="; path="+a),window.document.cookie=s}},t.get=function(e){if(!o(e))return null;var t=null;return e=e.trim(),window.document.cookie.split(r).some(function(n){var o=void 0,r=void 0,a=n.match(i);if(Array.isArray(a))try{o=decodeURIComponent(a[1]),r=decodeURIComponent(n.substring(o.length+1))}catch(e){}return o===e&&(t=r.trim(),!0)}),t}},"../../node_modules/@vzmi/wafer-core/src/utils/indexDB.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?"wafer":n,i=t.version,a=void 0===i?1:i,s=t.tables,c=void 0===s?["fetch"]:s,l=t.cb,u=void 0===l?function(){}:l;o(this,e),this._utils={cb:u,connection:null,db:null,name:r,startTime:Date.now(),tables:c};var d=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;d&&r&&a&&(this._utils.connection=d.open(r,a),this.addEventListener())}return r(e,[{key:"addEventListener",value:function(){var e=this,t=this._utils,n=t.cb,o=t.connection,r=t.startTime,i=t.tables;o.onsuccess=function(t){var o=t.target.result,a=!0;i.some(function(e){return!o.objectStoreNames.contains(e)&&(a=!1,!0)}),a&&(e._utils.db=o,n("success",{duration:Date.now()-r}))},o.onerror=function(t){e._utils.db=null,n("error",{duration:Date.now()-r})},o.onupgradeneeded=function(t){var o=t.target.result;i.forEach(function(e){o.createObjectStore(e,{keyPath:"key"}).createIndex("key",["cachedTime","key","ttl"])}),t.target.transaction.oncomplete=function(){e._utils.db=o,n("success",{duration:Date.now()-r})}}}},{key:"get",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.timeout,i=void 0===r?1e3:r,a=this._utils.db;return new Promise(function(o,r){if(!a)return void r(new Error("Connection missing"));if(!t)return void r(new Error("Table missing"));var s=!1,c=setTimeout(function(){s=!0,r(new Error("Cache lookup timed out"))},i);if(!a.objectStoreNames.contains(t))return clearTimeout(c),void r(new Error("Store does not exist : "+t));var l=void 0;try{l=n._utils.db.transaction(t,"readonly")}catch(e){return clearTimeout(c),void r(e)}l.onerror=function(e){clearTimeout(c),s||r(e)},l.onabort=function(e){clearTimeout(c),s||r(e)};var u=l.objectStore(t);if(!u)return clearTimeout(c),void r(new Error("store doesn't exist for table : "+t));var d=u.get(e);d.onsuccess=function(e){if(clearTimeout(c),!s){var t=e.target.result;o(t)}},d.onerror=function(e){clearTimeout(c),s||r(e)}})}},{key:"set",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.timeout,i=void 0===r?1e3:r,a=this._utils,s=a.cb,c=a.db;return new Promise(function(o,r){if(!c)return void r(new Error("Connection missing"));if(!t)return void r(new Error("Table missing"));var a=!1,l=setTimeout(function(){a=!0,r(new Error("Cache write timed out"))},i);if(!c.objectStoreNames.contains(t))return clearTimeout(l),s("error",{action:"deleting db",message:"Store does not exist : "+t}),n.deleteDB().catch(function(){}),void r(new Error("Store does not exist : "+t));var u=void 0;try{u=n._utils.db.transaction(t,"readwrite")}catch(e){return clearTimeout(l),e instanceof DOMException&&(s("error",{action:"deleting db",message:e.message}),n.deleteDB().catch(function(){})),void r(e)}u.onerror=function(e){clearTimeout(l),a||r(e)},u.onabort=function(e){clearTimeout(l),a||r(e)};var d=u.objectStore(t);if(!d)return clearTimeout(l),void r(new Error("store doesn't exist for table : "+t));var f=d.put(e);f.onsuccess=function(e){if(clearTimeout(l),!a){var t=e.target.result;o(t)}},f.onerror=function(e){clearTimeout(l),a||r(e)}})}},{key:"delete",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.timeout,i=void 0===r?1e3:r,a=this._utils.db;return new Promise(function(o,r){if(!a)return void r(new Error("Connection missing"));if(!t)return void r(new Error("Table missing"));var s=!1,c=setTimeout(function(){s=!0,r(new Error("Cache delete timed out"))},i);if(!a.objectStoreNames.contains(t))return clearTimeout(c),void r(new Error("Store does not exist : "+t));var l=void 0;try{l=n._utils.db.transaction(t,"readwrite")}catch(e){return clearTimeout(c),void r(e)}l.onerror=function(e){clearTimeout(c),s||r(e)},l.onabort=function(e){clearTimeout(c),s||r(e)};var u=l.objectStore(t);if(!u)return clearTimeout(c),void r(new Error("store doesn't exist for table : "+t));var d=u.delete(e);d.onsuccess=function(e){if(clearTimeout(c),!s){var t=e.target.result;o(t)}},d.onerror=function(e){clearTimeout(c),s||r(e)}})}},{key:"clean",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,r=void 0===o?1e4:o,i=n.timeDiffToDelete,a=void 0===i?18e5:i,s=this._utils.db,c=Date.now();return new Promise(function(n,o){if(!s)return void o(new Error("Connection missing"));if(!e)return void o(new Error("Table missing"));var i=!1,l=setTimeout(function(){i=!0,o(new Error("Cache clean timed out"))},r);if(!s.objectStoreNames.contains(e))return clearTimeout(l),void o(new Error("Store does not exist : "+e));var u=void 0;try{u=t._utils.db.transaction(e,"readonly")}catch(e){return clearTimeout(l),void o(e)}u.onerror=function(e){clearTimeout(l),i||o(e)},u.onabort=function(e){clearTimeout(l),i||o(e)};var d=u.objectStore(e);if(!d)return clearTimeout(l),void o(new Error("store doesn't exist for table : "+e));var f=d.openCursor(),h=[];f.onsuccess=function(r){if(clearTimeout(l),!i){var s=r.target.result;if(s){var u=s.value.cachedTime;c-u>a&&h.push(t.delete(s.key,e)),s.continue()}else Promise.all(h).then(function(e){n(e)}).catch(function(e){o(e)})}},f.onerror=function(e){clearTimeout(l),i||o(e)}})}},{key:"deleteDB",value:function(){var e=this,t=this._utils.db,n=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;return new Promise(function(o,r){if(!n)return void r(new Error("Connection missing"));t&&(t.close(),e._utils.db=null);var i=e._utils.name,a=!1,s=setTimeout(function(){a=!0,r(new Error("Could not delete"))},1e3),c=n.deleteDatabase(i);c.onerror=function(e){clearTimeout(s),a||r(new Error("Could not delete"))},c.onsuccess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(s),a||o(e.result)}})}}]),e}();t.default=i,e.exports=t.default},"../../node_modules/@vzmi/wafer-core/src/utils/timeout.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.timeout=function(){var e=new Map;return{setTimeout:function(e){function t(t,n,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n,o){var r=o||void 0;if(!r)return setTimeout(t,n);e.has(r)||e.set(r,new Map);var i=setTimeout(function(){var n=Array.prototype.slice.call(arguments);e.get(r).delete(i),t.apply(this,n)},n);return e.get(r).set(i,i),i}),clearAllTimeout:function(){if(e&&e.size){var t=!0,n=!1,o=void 0;try{for(var r,i=e.values()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,s=!0,c=!1,l=void 0;try{for(var u,d=a.values()[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;clearTimeout(f)}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}e.clear()}},clearTimeoutForInstance:function(t){var n=e.get(t);if(n&&n.size){var o=!0,r=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;clearTimeout(c)}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}e.get(t).clear()}},clearTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n){var o=n||void 0,r=e.get(o);if(!r)return void clearTimeout(t);var i=r.get(t);clearTimeout(i),e.get(o).delete(t)})}}()},"../../node_modules/@vzmi/wafer-core/src/utils/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=["rid","crumb","subscrumb"],i={omit:1,"same-origin":1,include:1},a=t.removeParameterFromUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return e.replace(new RegExp("[?&]"+t+"=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])"+t+"=[^&]*&"),"$1")},s=t.urlify=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")};t.fetchWithCache=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.body,c=t.cache,l=void 0===c?1:c,u=t.cacheKey,d=t.cacheStrategy,f=void 0===d?"networkFirst":d,h=t.cacheTtl,m=void 0===h?60:h,p=t.clientHeaders,v=void 0===p?{}:p,g=t.credentials,b=void 0===g?"same-origin":g,w=t.importance,y=t.method,k=void 0===y?"GET":y,T=t.mode,_=t.paramsToNotCache,S=void 0===_?{}:_,C=t.retries,Y=t.timeout,A=void 0===Y?6e3:Y,j=t.useRid,x=void 0===j||j;return new Promise(function(t,c){var d=Date.now(),h=s(S),p=-1===e.indexOf("?")?"?":"&",g=h?e+p+h:e;u||(u=e,r.forEach(function(e){u=a(u,e)})),b||i[b]||(b="same-origin");var y=l,_=!1,Y=void 0,j=void 0,E=!1;if(n)try{n=JSON.stringify(JSON.parse(n)),k="GET"===k?"POST":k,y=!1}catch(e){n={}}var P=setTimeout(function(){if(_=!0,Y)return void t(Object.assign({},Y,{_fetchMeta:{duration:Date.now()-d,source:"CACHE_IS_STALE"}}));c(new Error("Request timed out"))},A);j=y&&window.wafer.db&&"cacheFirst"===f?window.wafer.db.get(u,"fetch",{timeout:1e3}).then(function(e){if(e){var n=e.ttl,o=e.value,r=e.cachedTime,i=(Date.now()-r)/1e3;try{Y=JSON.parse(o)}catch(e){}i<n&&(clearTimeout(P),_||(E=!0,t(Object.assign({},Y,{_fetchMeta:{duration:Date.now()-d,source:"CACHE"}}))))}}).catch(function(e){}):Promise.resolve(!1),j.then(function(){if(!E){var e=new Headers,r=window.wafer.base,i=r.adLiteConfig,a=void 0===i?{}:i,s=r.fetchHeaders,l=r.rid,f=a||{},h=f.adLite,S=f.subscrumb;for(var j in s)s.hasOwnProperty(j)&&e.append(j,s[j]);x&&l&&-1===g.indexOf("rid=")&&(g+=p+"rid="+l),h&&S&&"cors"!==T&&(g+=p+"adLite="+h+p+"subscrumb="+encodeURIComponent(S));for(var I in v)v.hasOwnProperty(I)&&e.append(I,v[I]);"POST"!==k&&"PUT"!==k&&"DELETE"!==k||e.has("Content-Type")||e.append("Content-Type","application/json"),C&&"cors"!==T&&e.append("x-wf-retry-count",C);var N={credentials:b,headers:e,method:k};T&&(N.mode=T),n&&(N.body=n),w&&(N.importance=w),fetch(g,N).then(function(e){if(clearTimeout(P),!_){var n=e.status;if(n>=200&&n<=299&&("PUT"===k||"DELETE"===k)){var r={duration:Date.now()-d,source:"NETWORK_WITHOUT_CACHE"};return void e.json().then(function(e){t(o({},e,{_fetchMeta:r}))}).catch(function(){t({_fetchMeta:r})})}if(200===n){var i=e.headers.get("Content-Type");if(y&&window.wafer.db&&m&&i&&i.match(/application\/json/i)){var a=Date.now();e.clone().text().then(function(e){return window.wafer.db.set({ttl:m,key:u,value:e,cachedTime:a},"fetch",{timeout:A}).catch(function(e){}),!0})}return e.json().then(function(e){if(Object(e)!==e)throw new Error("Malformed response");t(Object.assign({},e,{_fetchMeta:{duration:Date.now()-d,source:y?Y?"NETWORK_AS_CACHE_IS_EXPIRED":"NETWORK":"NETWORK_WITHOUT_CACHE"}}))}).catch(function(e){throw new Error("Malformed response")})}if(204===n)throw y=!1,Y=null,new Error("No Content");if("no-cors"===T&&0===n)return t(Object.assign({html:""},{_fetchMeta:{duration:Date.now()-d,source:y?Y?"NETWORK_AS_CACHE_IS_EXPIRED":"NETWORK":"NETWORK_WITHOUT_CACHE"}})),!0;throw new Error(404===n?"Not found":"Malformed response")}}).catch(function(e){if(!_)if(clearTimeout(P),Y)t(Object.assign({},Y,{_fetchMeta:{duration:Date.now()-d,source:"CACHE_IS_STALE"}}));else if(y){if(!window.wafer.db)return void c(e);window.wafer.db.get(u,"fetch",{timeout:A}).then(function(n){if(!n)return void c(e);var o=n.ttl,r=n.value,i=n.cachedTime,a=(Date.now()-i)/1e3;try{Y=JSON.parse(r)}catch(e){}t(Object.assign({},Y,{_fetchMeta:{duration:Date.now()-d,source:a<o?"CACHE_SECOND_ATTEMPT":"CACHE_SECOND_ATTEMPT_STALE"}}))}).catch(function(e){c(e)})}else c(e)})}})}).then(function(e){var t=e.assets,n=void 0===t?{}:t,o=n.css,r=void 0===o?[]:o;return r?Promise.all(r.map(function(e){var t=e.value;return window.wafer.base._loadAsset(t,"css")})).then(function(){return e}):e})}},"../homepage-pwa/allStrings.json":function(e,t){e.exports={"en-US":{"Add to home screen":"Add to home screen","Add Yahoo to your home screen to get the new faster and lighter experience":"Add Yahoo to your home screen to get the new faster and lighter experience",Close:"Close","Enjoy all of Yahoo in a much lighter and faster experience.":"Enjoy all of Yahoo in a much lighter and faster experience.","Get Alerts":"Get Alerts","Get Started":"Get Started","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Get the best of Yahoo quickly and easily by adding it to your home screen.","News, Mail, Sports, & more.":"News, Mail, Sports, & more.","No internet connection.":"No internet connection.","Not now":"Not now","Skip for now":"Skip for now","Stay on top of the latest stories and breaking news":"Stay on top of the latest stories and breaking news","Tap to download":"Tap to download","Together in one app.":"Together in one app.","Welcome to Yahoo Lite":"Welcome to Yahoo Lite","Yahoo App":"Yahoo App","Yahoo Lite":"Yahoo Lite","Yahoo News":"Yahoo News",Yes:"Yes!","You are back online.":"You are back online.","Get top stories, breaking news alerts, and more customizations.":"Get top stories, breaking news alerts and more customizations."},"ar-JO":{"Add to home screen":"إضافة إلى الشاشة الرئيسية","Add Yahoo to your home screen to get the new faster and lighter experience":"إضافة Yahoo إلى شاشتك الرئيسية للاستمتاع بتجربة جديدة أسرع وأكثر سلاسة",Close:"إغلاق","Enjoy all of Yahoo in a much lighter and faster experience.":"استمتع بكل ما تقدمه Yahoo في تجربة أسرع وأكثر سلاسة.","Get Alerts":"الحصول على التنبيهات","Get Started":"ابدأ","Get the best of Yahoo quickly and easily by adding it to your home screen.":"احصل على أفضل ما تقدمه Yahoo بسرعة وسهولة عبر إضافتها إلى شاشتك الرئيسية.","No internet connection.":"لا يوجد اتصال بالإنترنت.","Not now":"ليس الآن","Skip for now":"تخطى حاليًا","Stay on top of the latest stories and breaking news":"كن على اطلاع دائم بأحدث القصص وآخر الأخبار","Welcome to Yahoo Lite":"مرحبًا بك في Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"نعم!","You are back online.":"تم الاتصال مرة أخرى."},"de-DE":{"Add to home screen":"Zum Startbildschirm hinzufügen","Add Yahoo to your home screen to get the new faster and lighter experience":"Yahoo zum Startbildschirm hinzufügen für eine schnellere und einfachere Anwendung",Close:"Schließen","Enjoy all of Yahoo in a much lighter and faster experience.":"Yahoo wird noch schneller und einfacher in der Anwendung.","Get Alerts":"Meldungen erhalten","Get Started":"Loslegen","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Fügen Sie Yahoo zu Ihrem Startbildschirm hinzu für eine schnellere und einfachere Nutzung aller Vorteile.","No internet connection.":"Keine Internetverbindung.","Not now":"Nicht jetzt","Skip for now":"Überspringen","Stay on top of the latest stories and breaking news":"Bei aktuellen Themen und Nachrichten auf dem Laufenden bleiben","Welcome to Yahoo Lite":"Willkommen bei Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Ja!","You are back online.":"Zurück online."},"el-GR":{"Add to home screen":"Προσθήκη στην αρχική οθόνη","Add Yahoo to your home screen to get the new faster and lighter experience":"Προσθέστε το Yahoo στην αρχική οθόνη για να αποκτήσετε τη νέα ταχύτερη και απλούστερη εμπειρία",Close:"Κλείσιμο","Enjoy all of Yahoo in a much lighter and faster experience.":"Απολαύστε όλες τις δυνατότητες του Yahoo σε μια πολύ πιο γρήγορη και απλή εμπειρία.","Get Alerts":"Λήψη ειδοποιήσεων","Get Started":"Έναρξη","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Αξιοποιήστε στο έπακρο το Yahoo, γρήγορα και εύκολα προσθέτοντάς το στην αρχική σας οθόνη.","No internet connection.":"Δεν υπάρχει σύνδεση στο Internet.","Not now":"Όχι τώρα","Skip for now":"Παράλειψη προς το παρόν","Stay on top of the latest stories and breaking news":"Παραμείνετε ενημερωμένοι για τις πιο πρόσφατες ιστορίες και τα τελευταία νέα","Welcome to Yahoo Lite":"Καλωσορίσατε στο Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Ναι!","You are back online.":"Είστε πάλι συνδεδεμένοι."},"es-ES":{"Add to home screen":"Añadir a pantalla de inicio","Add Yahoo to your home screen to get the new faster and lighter experience":"Añade Yahoo a tu pantalla de inicio para disfrutar de una nueva experiencia más ágil y rápida",Close:"Cerrar","Enjoy all of Yahoo in a much lighter and faster experience.":"Disfruta de todo Yahoo en una experiencia mucho más ágil y rápida.","Get Alerts":"Recibir alertas","Get Started":"Empezar","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Recibe lo mejor de Yahoo de forma fácil y rápida añadiéndolo a tu pantalla de inicio.","No internet connection.":"No hay conexión a Internet.","Not now":"Ahora no","Skip for now":"Omitir por ahora","Stay on top of the latest stories and breaking news":"No te pierdas las historias más recientes y las noticias de última hora","Welcome to Yahoo Lite":"Te damos la bienvenida a Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"¡Sí!","You are back online.":"Vuelves a tener conexión."},"es-US":{"Add to home screen":"Añadir a la pantalla de inicio","Add Yahoo to your home screen to get the new faster and lighter experience":"Añade Yahoo a tu pantalla de inicio para tener la nueva experiencia más rápida y ligera",Close:"Cerrar","Enjoy all of Yahoo in a much lighter and faster experience.":"Disfruta de todas las características de Yahoo en una experiencia más ligera y rápida.","Get Alerts":"Obtener alertas","Get Started":"Comenzar","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Obtén lo mejor de Yahoo rápida y fácilmente añadiéndonos a tu pantalla de inicio.","No internet connection.":"No hay conexión a Internet.","Not now":"Ahora no","Skip for now":"Omitir por ahora","Stay on top of the latest stories and breaking news":"Mantente al día con las novedades y noticias más recientes","Welcome to Yahoo Lite":"Te damos la bienvenida a Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Sí","You are back online.":"La conexión regresó."},"fr-BE":{"Add to home screen":"Ajouter à l’écran d’accueil","Add Yahoo to your home screen to get the new faster and lighter experience":"Ajoutez Yahoo à votre écran d’accueil pour bénéficier de la nouvelle expérience, plus légère et plus rapide",Close:"Fermer","Enjoy all of Yahoo in a much lighter and faster experience.":"Profitez de tout Yahoo dans une expérience plus légère et plus rapide.","Get Alerts":"S’abonner","Get Started":"Commencer","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Profitez facilement et rapidement de tout Yahoo en l’ajoutant à votre écran d’accueil.","No internet connection.":"Aucune connexion Internet.","Not now":"Pas maintenant","Skip for now":"Ignorer pour l’instant","Stay on top of the latest stories and breaking news":"Ne manquez rien de l’actualité en France et dans le monde","Welcome to Yahoo Lite":"Bienvenue dans Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Oui !","You are back online.":"Vous êtes à nouveau connecté."},"fr-CA":{"Add to home screen":"Ajouter à l’écran d’accueil","Add Yahoo to your home screen to get the new faster and lighter experience":"Ajoutez Yahoo à votre écran d’accueil pour profiter de la nouvelle expérience plus rapide et plus légère",Close:"Fermer","Enjoy all of Yahoo in a much lighter and faster experience.":"Profitez de tout ce que Yahoo a à offrir, dans une expérience plus légère et plus rapide.","Get Alerts":"Obtenir des alertes","Get Started":"Commencer","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Profitez de ce que Yahoo a de mieux à offrir, rapidement et facilement, en l’ajoutant à votre écran d’accueil.","No internet connection.":"Aucune connexion Internet.","Not now":"Pas maintenant","Skip for now":"Ignorer pour le moment","Stay on top of the latest stories and breaking news":"Restez à l’affût de l’actualité et des dernières nouvelles","Welcome to Yahoo Lite":"Bienvenue à Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Oui!","You are back online.":"Vous êtes de nouveau en ligne."},"fr-FR":{"Add to home screen":"Ajouter à l’écran d’accueil","Add Yahoo to your home screen to get the new faster and lighter experience":"Ajoutez Yahoo à votre écran d’accueil pour bénéficier de la nouvelle expérience, plus légère et plus rapide",Close:"Fermer","Enjoy all of Yahoo in a much lighter and faster experience.":"Profitez de tout Yahoo dans une expérience plus légère et plus rapide.","Get Alerts":"S’abonner","Get Started":"Commencer","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Profitez facilement et rapidement de tout Yahoo en l’ajoutant à votre écran d’accueil.","No internet connection.":"Aucune connexion Internet.","Not now":"Pas maintenant","Skip for now":"Ignorer pour l’instant","Stay on top of the latest stories and breaking news":"Ne manquez rien de l’actualité en France et dans le monde","Welcome to Yahoo Lite":"Bienvenue dans Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Oui !","You are back online.":"Vous êtes à nouveau connecté."},"id-ID":{"Add to home screen":"Tambahkan ke layar awal","Add Yahoo to your home screen to get the new faster and lighter experience":"Tambahkan Yahoo ke layar awal Anda untuk mendapatkan pengalaman baru yang lebih cepat dan lebih ringan",Close:"Tutup","Enjoy all of Yahoo in a much lighter and faster experience.":"Nikmati semua fitur Yahoo dalam pengalaman yang jauh lebih ringan dan lebih cepat.","Get Alerts":"Dapatkan Isyarat","Get Started":"Ayo Mulai","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Dapatkan yang terbaik dari Yahoo secara cepat dan mudah dengan menambahkannya ke layar awal Anda.","No internet connection.":"Tidak ada koneksi internet.","Not now":"Tidak sekarang","Skip for now":"Lompati sekarang","Stay on top of the latest stories and breaking news":"Selalu ikuti berita terbaru dan berita hangat","Welcome to Yahoo Lite":"Selamat datang di Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Ya!","You are back online.":"Anda kembali online."},"it-IT":{"Add to home screen":"Aggiungi alla schermata iniziale","Add Yahoo to your home screen to get the new faster and lighter experience":"Aggiungi Yahoo alla schermata iniziale per usufruire della nuova esperienza più rapida e semplice",Close:"Chiudi","Enjoy all of Yahoo in a much lighter and faster experience.":"Utilizza tutte le funzionalità Yahoo usufruendo di un’esperienza molto più rapida e semplice.","Get Alerts":"Ricevi avvisi","Get Started":"Inizia","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Ottieni il meglio di Yahoo in modo rapido e semplice aggiungendolo alla schermata iniziale.","No internet connection.":"Connessione a Internet assente.","Not now":"Non ora","Skip for now":"Salta per ora","Stay on top of the latest stories and breaking news":"Rimani aggiornato sulle novità e sulle notizie dell’ultim’ora","Welcome to Yahoo Lite":"Ti diamo il benvenuto in Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Sì!","You are back online.":"Sei di nuovo online."},"nl-BE":{"Add to home screen":"Toevoegen aan startscherm","Add Yahoo to your home screen to get the new faster and lighter experience":"Voeg Yahoo toe aan je startscherm voor een nieuwe snellere en lichtere ervaring",Close:"Sluiten","Enjoy all of Yahoo in a much lighter and faster experience.":"Gebruik alles van Yahoo op een lichtere en snellere manier.","Get Alerts":"Waarschuwingen ontvangen","Get Started":"Aan de slag","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Snel en eenvoudig toegang tot het beste van Yahoo door het aan je startscherm toe te voegen.","No internet connection.":"Geen internet verbinding. ","Not now":"Niet nu","Skip for now":"Eerst overslaan","Stay on top of the latest stories and breaking news":"Blijf op de hoogte van actuele nieuwsartikelen en het laatste nieuws","Welcome to Yahoo Lite":"Welkom bij Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Ja!","You are back online.":"Je bent weer online."},"pt-BR":{"Add to home screen":"Adicionar à tela inicial","Add Yahoo to your home screen to get the new faster and lighter experience":"Adicione o Yahoo à sua tela inicial para obter uma experiência mais rápida e leve",Close:"Fechar","Enjoy all of Yahoo in a much lighter and faster experience.":"Aproveite tudo do Yahoo de forma mais leve e rápida.","Get Alerts":"Receber alertas","Get Started":"Comece a usar","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Obtenha o melhor do Yahoo de forma rápida e fácil, adicionando-o à sua tela inicial.","No internet connection.":"Sem conexão de internet.","Not now":"Agora não","Skip for now":"Ignorar por enquanto","Stay on top of the latest stories and breaking news":"Fique por dentro das últimas informações e notícias urgentes","Welcome to Yahoo Lite":"Bem-vindo ao Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Sim!","You are back online.":"Conexão de internet reestabelecida."},"ro-RO":{"Add to home screen":"Adăugare la ecranul principal","Add Yahoo to your home screen to get the new faster and lighter experience":"Adăugați Yahoo la ecranul dvs. principal pentru a beneficia de noua experiență mai rapidă și care consumă mai puține resurse",Close:"Închidere","Enjoy all of Yahoo in a much lighter and faster experience.":"Bucurați-vă de toate avantajele Yahoo într-o experiență mult mai rapidă și care consumă mult mai puține resurse.","Get Alerts":"Primire alerte","Get Started":"Începeți","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Obțineți cea mai bună experiență Yahoo, rapid și ușor, adăugând Yahoo la ecranul dvs. principal.","No internet connection.":"Nu există conexiune la internet.","Not now":"Nu acum","Skip for now":"Omitere momentan","Stay on top of the latest stories and breaking news":"Fiți la curent cu cele mai noi povești și știri de ultimă oră","Welcome to Yahoo Lite":"Bine ați venit la Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Da!","You are back online.":"Sunteți din nou online."},"sv-SE":{"Add to home screen":"Lägg till på hemskärm","Add Yahoo to your home screen to get the new faster and lighter experience":"Lägg till Yahoo på din hemskärm för att få den nya snabbare och lättare upplevelsen",Close:"Stäng","Enjoy all of Yahoo in a much lighter and faster experience.":"Njut av hela Yahoo på ett mycket lättare och snabbare sätt.","Get Alerts":"Få aviseringar","Get Started":"Kom igång","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Få ut det bästa av Yahoo genom att lägga till det på din hemskärm.","No internet connection.":"Ingen internetanslutning.","Not now":"Inte nu","Skip for now":"Hoppa över tills vidare","Stay on top of the latest stories and breaking news":"Ha koll på de senaste händelserna och senast nytt","Welcome to Yahoo Lite":"Välkommen till Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Ja!","You are back online.":"Du är online igen."},"vi-VN":{"Add to home screen":"Thêm vào màn hình chính","Add Yahoo to your home screen to get the new faster and lighter experience":"Thêm Yahoo vào màn hình chính để trải nghiệm dịch vụ mới nhanh hơn và nhẹ hơn",Close:"Đóng","Enjoy all of Yahoo in a much lighter and faster experience.":"Tận hưởng mọi tính năng của Yahoo nhanh hơn, nhẹ hơn.","Get Alerts":"Nhận thông báo","Get Started":"Bắt đầu","Get the best of Yahoo quickly and easily by adding it to your home screen.":"Khai thác tối đa Yahoo một cách nhanh chóng và dễ dàng bằng cách thêm vào màn hình chính.","No internet connection.":"Không có kết nối Internet.","Not now":"Để sau","Skip for now":"Không phải lúc này","Stay on top of the latest stories and breaking news":"Nắm bắt mọi tin tức mới nhất","Welcome to Yahoo Lite":"Chào mừng bạn đến với Yahoo Lite","Yahoo Lite":"Yahoo Lite",Yes:"Có!","You are back online.":"Bạn đã có kết nối mạng trở lại."}}},"../homepage-pwa/src/base.js":function(e,t,n){"use strict";function o(){return m=f(n("../homepage-pwa/src/lib/addToHomeScreen.js"))}function r(){return p=f(n("../../node_modules/@vzmi/wafer-core/src/utils/indexDB.js"))}function i(){return v=f(n("../homepage-pwa/src/lib/i18n.js"))}function a(){return g=f(n("../homepage-pwa/src/lib/serviceWorker.js"))}function s(){return b=f(n("../homepage-pwa/src/lib/slotKeeper.js"))}function c(){return w=f(n("../homepage-pwa/src/lib/userConnectionToast.js"))}function l(){return y=n("../homepage-pwa/src/util/index.js")}function u(){return k=n("../../node_modules/@vzmi/wafer-core/src/utils.js")}function d(){return T=f(n("../homepage-pwa/allStrings.json"))}function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PWA=void 0;var m,p,v,g,b,w,y,k,T,_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),S={addToHomeScreen:{enabled:!1,forNativeApp:!1,useBeforeInstallPrompt:!1},appOpenOnboarding:{enabled:!0},beacon:{bucket:"",beaconSrc:"HomepagePWA",rid:""},onboarding:{installCardSwapCount:3,installCoolOffTime:1,installOnboardingType:"bottomSlider",installSliderSwapCount:1},pageInfo:{device:null,lang:"en-US",region:null,site:"fp"},promoSlots:{enabled:!1,slots:["bottom","top"]},serviceWorker:{enabled:!1,scope:"/",serviceWorkerUrl:"/service-worker.js"},serviceWorkerFeatures:{didWrite:function(){},write:!1,values:null},tracker:{instance:null,trackerWindowPath:"rapidInstance"},userConnectionToast:{enabled:!1}},C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e);var r=(0,(y||l()).mergeConfig)(S,n);this._config=r;var i=r.addToHomeScreen,u=r.appOpenOnboarding,d=r.beacon,f=r.onboarding,p=r.pageInfo,v=r.promoSlots,k=r.serviceWorker,T=r.userConnectionToast;this.getRapidTracker=this.getRapidTracker.bind(this),(0,(y||l()).ready)(function(){if(i.enabled){var e=i.forNativeApp,n=i.useBeforeInstallPrompt;t.addToHomeScreen=new((m||o()).default)({beacon:d,onboarding:f,pageInfo:p,prompt:{forNativeApp:e,useBeforeInstallPrompt:n}},t.getRapidTracker,{i18n:t.i18n})}k.enabled&&(t.serviceWorker=new((g||a()).default)({beacon:d,serviceWorker:k})),v.enabled&&v.slots&&(t.promoSlots=new((b||s()).default)(v.slots)),t._addFeaturesIntoFeaturesStore(),t._addContextIntoContextStore(),T.enabled&&(t.userConnectionToast=new((w||c()).default)({beacon:d,userConnectionToast:T},{i18n:t.i18n})),u.enabled&&t.isPWA&&t.handlePWAOpen()})}return _(e,[{key:"_addFeaturesIntoFeaturesStore",value:function(){var e=this,t=this._config,n=t.beacon,o=t.serviceWorkerFeatures,i=o.didWrite,a=o.values;if(o.write)if(a&&a===Object(a))this.featuresDB=new((p||r()).default)({cb:function(t){if("success"===t)return e.featuresDB.set({key:"features",values:a},"features",{timeout:2e3}),void(i&&i());var o=(0,(y||l()).constructBeaconUrl)("error",Object.assign({eventName:"serviceWorkerFeatures",eventType:"Connection failed"},n));(0,(k||u()).fireBeacon)(o),i&&i(new Error("could not connect"))},name:"serviceWorker",version:1,tables:["features","context"]});else{var s=(0,(y||l()).constructBeaconUrl)("error",Object.assign({eventName:"serviceWorkerFeatures",eventType:"Malformed object"},n));(0,(k||u()).fireBeacon)(s),i&&i(new Error("values is not object"))}else{var c=(0,(y||l()).constructBeaconUrl)("info",Object.assign({eventName:"serviceWorkerFeatures",eventType:"Disabled"},n));(0,(k||u()).fireBeacon)(c),i&&i(new Error("feature not enabled"))}}},{key:"_addContextIntoContextStore",value:function(){var e=this,t=this._config,n=t.beacon,o=t.pageInfo,i=o.lang,a=o.region,s=o.site;this.contextDB=new((p||r()).default)({cb:function(t){if("success"===t)return void e.contextDB.set({key:"context",values:{lang:i,region:a,site:s}},"context").catch(function(e){var t=e instanceof Error?e.message:e,o=(0,(y||l()).constructBeaconUrl)("error",Object.assign({eventName:"serviceWorkerContext",message:t},n));(0,(k||u()).fireBeacon)(o)});var o=(0,(y||l()).constructBeaconUrl)("error",Object.assign({eventName:"serviceWorkerContext",eventType:"Connection failed"},n));(0,(k||u()).fireBeacon)(o)},name:"serviceWorker",version:1,tables:["features","context"]})}},{key:"i18n",get:function(){if(this._i18n)return this._i18n;var e=this._config.pageInfo,t=e.lang;return this._i18n=(0,(v||i()).default)().use({locale:t,defaultCurrency:"USD",messageBundle:(T||d()).default[t]||(T||d()).default["en-US"]}),this._i18n}},{key:"isPWA",get:function(){return void 0!==this._isPWA?this._isPWA:(this._isPWA=!1,window.navigator&&"standalone"in window.navigator&&window.navigator.standalone?this._isPWA=!0:void 0!==window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches?this._isPWA=!0:void 0!==window.msMatchMedia&&window.msMatchMedia("(display-mode: standalone)").matches&&(this._isPWA=!0),this._isPWA)}}]),_(e,[{key:"handlePWAOpen",value:function(){var e=this;this.onboardingDB=new((p||r()).default)({cb:function(t){if("success"===t){var n=e._config.beacon;e.onboardingDB.get("trackOpen","onboard").then(function(t){if(t){var o=t.installedAt;e.renderOnBoardingPrompt(),e.onboardingDB.delete("trackOpen","onboard");var r=(0,(y||l()).constructBeaconUrl)("info",Object.assign({eventName:"openAppFirstTime",eventType:"tracking",timeTakenFromInstallation:Date.now()-o},n));(0,(k||u()).fireBeacon)(r)}}).catch(function(e){})}},name:"homepagelite",version:1,tables:["onboard"]})}},{key:"renderOnBoardingPrompt",value:function(){var e=this;new Promise(function(e){n.e(0).then(function(t){e(n("../homepage-pwa-onboarding/src/base.js"))}.bind(null,n)).catch(n.oe)}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.PWAOnboarding,o=e._config,r=o.addToHomeScreen,i=o.beacon,a=r.forNativeApp,s=r.useBeforeInstallPrompt;e.onBoarding=new n({accept:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.sec,r=n.slk,i=n.clickParams,a=e.getRapidTracker();a&&a.beaconClick(o,r,0,i)},didShow:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.getRapidTracker();o&&o.beaconLinkViews([{sec:t,_links:[n]}]);var r=e.promoSlots;r&&r.addToSlot("bottom","yahoo_lite_promo")},prompt:{forNativeApp:a,useBeforeInstallPrompt:s},reject:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.sec,r=n.slk,i=n.clickParams,a=e.getRapidTracker();a&&a.beaconClick(o,r,0,i)}},{beacon:i,constructBeaconUrl:(y||l()).constructBeaconUrl,i18n:e.i18n}),e.onBoarding.renderPostInstall()})}},{key:"destroy",value:function(){this.addToHomeScreen&&this.addToHomeScreen.destroy(),this.onBoarding&&this.onBoarding.destroy()}},{key:"getRapidTracker",value:function(){var e=this._config.tracker,t=e.instance,n=e.trackerWindowPath;return t||window[n]}}]),e}();t.PWA=C},"../homepage-pwa/src/lib/addToHomeScreen.js":function(e,t,n){"use strict";function o(){return c=n("../../node_modules/@vzmi/wafer-core/src/utils.js")}function r(){return l=a(n("../../node_modules/@vzmi/wafer-core/src/utils/indexDB.js"))}function i(){return u=n("../homepage-pwa/src/util/index.js")}function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var c,l,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f={beacon:{beaconSrc:"HomepagePWA",bucket:"",rid:""},onboarding:{installCardSwapCount:3,installCoolOffTime:1,installOnboardingType:"card",installSliderSwapCount:1,slot:"bottom"},pageInfo:{device:null,lang:null,region:null,site:null},prompt:{forNativeApp:!1,useBeforeInstallPrompt:!1},trackingParams:{itc:1,sec:"mobile-auto",subsec:"homepageapp-promo"}},h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=arguments[2];s(this,e),this._config=(0,(u||i()).mergeConfig)(f,t),this._context=r,this._getRapidTracker=n,this._handleAppInstall=this._handleAppInstall.bind(this),this._handleBeforeInstallprompt=this._handleBeforeInstallprompt.bind(this),this._logUserChoice=this._logUserChoice.bind(this),this._config.prompt.useBeforeInstallPrompt?(0,(c||o()).bindEvent)(window,"beforeinstallprompt",this._handleBeforeInstallprompt):this._renderCustomInstallPrompt(),(0,(c||o()).bindEvent)(window,"appinstalled",this._handleAppInstall)}return d(e,[{key:"db",get:function(){var e=this;return this._db?Promise.resolve(this._db):new Promise(function(t,n){var o=new((l||r()).default)({cb:function(r){return"success"===r?(e._db=o,t(e._db)):n(new Error("connection failed"))},name:"homepagelite",version:1,tables:["onboard"]})})}}]),d(e,[{key:"destroy",value:function(){this._setAddToHomeScreenInt&&clearTimeout(this._setAddToHomeScreenInt),this._setAddToHomeScreenInt=null,this.onBoarding&&this.onBoarding.destroy(),this._config.prompt.useBeforeInstallPrompt&&(0,(c||o()).unbindEvent)(window,"beforeinstallprompt",this._handleBeforeInstallprompt),(0,(c||o()).unbindEvent)(window,"appinstalled",this._handleAppInstall)}},{key:"_renderCustomInstallPrompt",value:function(){var e=this,t=this._config.onboarding.slot;this.checkIfCustomInstallPromptShouldBeShown().then(function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){if(window.hpClientInstance&&t){var n=window.hpClientInstance.promoSlots;n&&n.addToSlot(t,"yahoo-lite-promo")}return void e.renderCustomInstallPrompt()}var r=e._config.beacon,a=(0,(u||i()).constructBeaconUrl)("info",Object.assign({eventName:"Browser A2HS prompt",eventType:"cooloff"},r));(0,(c||o()).fireBeacon)(a)})}},{key:"_handleBeforeInstallprompt",value:function(e){var t=this;this._deferredPrompt=e;var n=this._config.onboarding,o=n.installOnboardingType,r=n.slot;if("native"===o||(u||i()).chromeVersion<68){if(window.hpClientInstance&&r){var a=window.hpClientInstance.promoSlots;a&&a.addToSlot(r,"yahoo-lite-promo")}return void this.db.then(function(e){return e.get("lastInstallPromptShown","onboard")}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.lastShown;"native"===e.type&&n&&Math.abs(Date.now()-n)/36e5<5040||t._showNativeInstallPrompt()}).catch(function(){t._showNativeInstallPrompt()})}this._renderCustomInstallPrompt()}},{key:"_logUserChoice",value:function(e){if(e){this.onBoarding&&this.onBoarding.destroy();var t=this._config,n=t.beacon,r=t.trackingParams,a=this._getRapidTracker&&this._getRapidTracker();if("accepted"===e.outcome){var s=(0,(u||i()).constructBeaconUrl)("info",Object.assign({eventName:"Browser A2HS prompt",eventType:"Accepted"},n));(0,(c||o()).fireBeacon)(s),a&&a.beaconClick(r.sec,"hompagelite-install-accepted",0,r)}else{var l=(0,(u||i()).constructBeaconUrl)("info",Object.assign({eventName:"Browser A2HS prompt",eventType:"Rejected"},n));(0,(c||o()).fireBeacon)(l),a&&a.beaconClick(r.sec,"hompagelite-install-closed",1,r)}}}},{key:"_handleAppInstall",value:function(e){var t=this._config,n=t.beacon,r=t.pageInfo,a=t.trackingParams,s=(0,(u||i()).constructBeaconUrl)("info",Object.assign({eventName:"Browser A2HS prompt",eventType:"Installed"},n)),l=this._getRapidTracker&&this._getRapidTracker(),d=Date.now(),f=Object.assign({},r,{referrer:window.location.href,installTime:d});(0,(c||o()).fireBeacon)(s),l&&l.beaconClick(a.sec,"hompagelite-installed",1,a),this.onBoarding&&this.onBoarding.destroy(),this.db.then(function(e){return Promise.all([e.set({key:"onboard",oboardState:f},"onboard"),e.set({key:"trackOpen",installedAt:d},"onboard")])}).catch(function(){var e=(0,(u||i()).constructBeaconUrl)("error",Object.assign({eventName:"homepageliteIDB",eventType:"Connection failed"},n));(0,(c||o()).fireBeacon)(e)})}},{key:"_showNativeInstallPrompt",value:function(){var e=this,t=this._deferredPrompt;if(t){var n=this._config,r=n.beacon,a=n.trackingParams,s=a.sec,l=a.subsec,d=(0,(u||i()).constructBeaconUrl)("info",Object.assign({eventName:"Browser A2HS prompt",eventType:"Initiated"},r));t.prompt().then(function(){return e.db.then(function(t){return e.handleInstallPromptShown(t,"native")}).catch(function(){})}).catch(function(e){var t=(0,(u||i()).constructBeaconUrl)("error",Object.assign({eventName:"deferredPrompt",eventType:"Prompt failed",message:e&&e.message},r));(0,(c||o()).fireBeacon)(t)});var f=this._getRapidTracker&&this._getRapidTracker();(0,(c||o()).fireBeacon)(d),f&&f.beaconLinkViews([{sec:s,_links:[{subsec:l,slk:"homepagelite-dialog-prompt"}]}]),t.userChoice&&t.userChoice.then(this._logUserChoice)}}},{key:"checkIfCustomInstallPromptShouldBeShown",value:function(){var e=this._config.onboarding;if(window.hpClientInstance){var t=window.hpClientInstance.promoSlots;if(t&&t.getItemAtSlot(e.slot))return Promise.resolve(!1)}return this.db.then(function(e){return e.get("lastInstallPromptShown","onboard")}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.lastShown,o=Number(e.installCoolOffTime);return!n||Math.abs(Date.now()-n)/36e5>=o}).catch(function(){return!1})}},{key:"handleInstallPromptShown",value:function(e,t){return e?e.get("lastInstallPromptShown","onboard").then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.shownCount,r=void 0===o?0:o,i=n.type;return t!==i&&(r=0),e.set({key:"lastInstallPromptShown",lastShown:Date.now(),shownCount:r+1,type:t},"onboard")}):Promise.reject(new Error("db missing"))}},{key:"renderCustomInstallPrompt",value:function(){var e=this;new Promise(function(e){n.e(0).then(function(t){e(n("../homepage-pwa-onboarding/src/base.js"))}.bind(null,n)).catch(n.oe)}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.PWAOnboarding;if(!e.onBoarding){var o=e._config,r=o.beacon,a=o.onboarding,s=o.prompt,c=a.installCardSwapCount,l=a.installOnboardingType,d=a.installSliderSwapCount,f=e._context.i18n;e.onBoarding=new n({accept:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.sec,r=n.slk,i=n.clickParams,a=e._getRapidTracker&&e._getRapidTracker();a&&a.beaconClick(o,r,0,i),e._showNativeInstallPrompt()},didShow:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.type,i=e._getRapidTracker&&e._getRapidTracker();return i&&i.beaconLinkViews([{sec:t,_links:[n]}]),e.db.then(function(t){return e.handleInstallPromptShown(t,r)}).catch(function(){})},prompt:s,reject:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.sec,r=n.slk,i=n.clickParams,a=e._getRapidTracker&&e._getRapidTracker();a&&a.beaconClick(o,r,0,i)}},{beacon:r,constructBeaconUrl:(u||i()).constructBeaconUrl,i18n:f}),e.db.then(function(e){return e.get("lastInstallPromptShown","onboard")}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,o=void 0===n?l:n,r=t.shownCount,i=void 0===r?0:r;"bottomSlider"===o?i>=d&&(o="card"):i>=c&&(o="bottomSlider"),e.onBoarding.renderCustomInstallPrompt({type:o})}).catch(function(){e.onBoarding.renderCustomInstallPrompt({type:l})})}}).catch(function(){})}}]),e}();t.default=h,e.exports=t.default},"../homepage-pwa/src/lib/i18n.js":function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=/^:([a-z])(\((.+)\))?/;e.exports=function(){var e={};return{use:function(t){var n=t.locale,o=t.defaultCurrency,r=t.messageBundle;return e.locale=n,e.defaultCurrency=o,e.messageBundle=r,this.translate.bind(this)},translate:function(t){var n=this,r=this._buildKey(t),i=e.messageBundle[r];if(i){for(var a=t.slice(1).map(this._extractTypeInfo),s=arguments.length,c=Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];var u=c.map(function(e,t){return n._localize(e,a[t])});return this._buildMessage.apply(this,[i].concat(o(u)))}return"Error: "+r+" translation missing!"},_localizers:{s:function(t){return t&&t.toLocaleString(e.locale)},c:function(t,n){return t&&t.toLocaleString(e.locale,{style:"currency",currency:n||e.defaultCurrency})},n:function(t,n){return t&&t.toLocaleString(e.locale,{minimumFractionDigits:n,maximumFractionDigits:n})}},_extractTypeInfo:function(e){var t=r.exec(e);return t?{type:t[1],options:t[3]}:{type:"s",options:""}},_localize:function(e,t){var n=t.type,o=t.options;return this._localizers[n](e,o)},_buildKey:function(e){var t=function(e){return e.replace(r,"")},n=t(e[e.length-1]),o=function(e,n,o){return t(n)+"{"+o+"}"+e};return e.slice(0,-1).reduceRight(o,n)},_buildMessage:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.replace(/{(\d)}/g,function(e,t){return n[Number(t)]})}}}},"../homepage-pwa/src/lib/serviceWorker.js":function(e,t,n){"use strict";function o(){return a=n("../homepage-pwa/src/util/index.js")}function r(){return s=n("../../node_modules/@vzmi/wafer-core/src/utils.js")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a,s,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l={beacon:{beaconSrc:"HomepagePWA",bucket:"",rid:""},serviceWorker:{scope:"/",serviceWorkerUrl:"/service-worker.js"}},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._config=(0,(a||o()).mergeConfig)(l,t)}return c(e,[{key:"register",value:function(){if(!(navigator&&"serviceWorker"in navigator))return Promise.reject();var e=this._config,t=e.beacon,n=t.beaconSrc,i=t.bucket,c=t.rid,l=e.serviceWorker,u=l.scope,d=l.serviceWorkerUrl;return navigator.serviceWorker.register(d,{scope:u}).then(function(e){var t=(0,(a||o()).constructBeaconUrl)("info",{beaconSrc:n,bucket:i,eventName:"svcWkrRegSuccess",rid:c});return(0,(s||r()).fireBeacon)(t),e},function(e){var t=(0,(a||o()).constructBeaconUrl)("error",{beaconSrc:n,bucket:i,eventName:"svcWkrRegError",message:e,rid:c});(0,(s||r()).fireBeacon)(t)})}},{key:"getRegistration",value:function(){if(!(navigator&&"serviceWorker"in navigator))return Promise.reject(new Error("Service worker not supported"));var e=this.scope;return navigator.serviceWorker.getRegistration(e)}},{key:"getPreferredActiveWorker",value:function(){return this.getRegistration().then(function(e){if(!e)throw new Error("Service worker not registered");var t=e.installing||e.waiting;return t?new Promise(function(e){t.addEventListener("statechange",function(){if("active"===t.state)return e(t)})}):e.active?e.active:navigator.serviceWorker.controller?navigator.serviceWorker.controller:null})}},{key:"sendMessage",value:function(e){var t=e.method,n=e.params,o=void 0===n?[]:n;return new Promise(function(e,n){var r="serviceWorker"in navigator&&navigator.serviceWorker.controller;if(!r)return n(new Error("Page is not controlled by a ServiceWorker."));if(!t)return n(new Error("Post message expects a method"));var i=new MessageChannel,a=i.port1,s=i.port2;a.onmessage=function(t){var o=t.data;o=void 0===o?{}:o;var r=o.error,i=o.result;r?n(r):e(i),a.onmessage=null},r.postMessage({method:t,params:o},[s])})}}]),e}();t.default=u,e.exports=t.default},"../homepage-pwa/src/lib/slotKeeper.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){o(this,e),t&&t.length&&(this._keys=Object.freeze(t),this._map={})}return r(e,[{key:"addToSlot",value:function(e,t){return t&&e&&this._keys&&-1!==this._keys.indexOf(e)&&!this._map[e]?(this._map[e]=t,"success"):null}},{key:"getItemAtSlot",value:function(e){return e?this._map[e]:null}},{key:"slotNames",get:function(){return this._keys}}]),e}();t.default=i,e.exports=t.default},"../homepage-pwa/src/lib/userConnectionToast.js":function(e,t,n){"use strict";function o(){return s=n("../../node_modules/@vzmi/wafer-core/src/utils.js")}function r(){return c=n("../homepage-pwa/src/util/index.js")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=i(["You are back online."],["You are back online."]),d=i(["No internet connection."],["No internet connection."]),f="transform: translate(-50%, -50%); top: 50%; left: 50%; position: absolute; width: 90vw; text-align: center",h={beacon:{beaconSrc:"HomepagePWA",bucket:"",rid:""},userConnectionToast:{toastDelay:2,toastHideDelay:5}},m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this._config=(0,(c||r()).mergeConfig)(h,t),this._context=n;var i=this._config.userConnectionToast,l=i.toastDelay,u=i.toastHideDelay,d=1e3*parseInt(l,10);this._config.userConnectionToast.toastHideDelayMs=1e3*parseInt(u,10),this._updateConnectionStateDelayed=(0,(c||r()).debounce)(this._updateConnectionState,d,this),this._stateWhenLastChecked=null,this._updateConnectionState(),(0,(s||o()).bindEvent)(window,"online",this._updateConnectionStateDelayed),(0,(s||o()).bindEvent)(window,"offline",this._updateConnectionStateDelayed)}return l(e,[{key:"destroy",value:function(){var e=this._toastWrapper;e&&e.parentNode.removeChild(e),this._hideTimer&&clearTimeout(this._hideTimer),(0,(s||o()).unbindEvent)(window,"online",this._updateConnectionStateDelayed),(0,(s||o()).unbindEvent)(window,"offline",this._updateConnectionStateDelayed)}},{key:"_updateConnectionState",value:function(){var e=this,t=window,n=t.navigator;n=void 0===n?{}:n;var i=n.onLine;if(this._stateWhenLastChecked!==i&&(null!==this._stateWhenLastChecked||!i)&&(this._injectOfflineToast(),this._toastWrapper&&this._offlineToastNode&&this._onlineToastNode)){var a=this._config,l=a.beacon,u=a.userConnectionToast,d=l.beaconSrc,f=l.bucket,h=l.rid;this._hideTimer&&clearTimeout(this._hideTimer);var m=void 0;if(i){var p=(0,(c||r()).constructBeaconUrl)("info",{bucket:f,eventName:"userComesBackOnline",offlineFor:Date.now()-m,rid:h,src:d});m=null,(0,(s||o()).fireBeacon)(p),document.body.classList.remove("connection-offline"),navigator.serviceWorker&&navigator.serviceWorker.ready.then(function(e){return e.sync.register("online")})}else{m=Date.now();var v=(0,(c||r()).constructBeaconUrl)("info",{bucket:f,eventName:"userWentOffline",rid:h,src:d});(0,(s||o()).fireBeacon)(v),document.body.classList.add("connection-offline")}this._setDisplay(this._toastWrapper,!0),this._toastWrapper.style[(c||r()).transformProperty]="translateY(0px)",this._setDisplay(this._onlineToastNode,i),this._setDisplay(this._offlineToastNode,!i),this._hideTimer=setTimeout(function(){e._setDisplay(e._toastWrapper,!1),e._toastWrapper.style[(c||r()).transformProperty]="translateY(300px)"},u.toastHideDelayMs),this._stateWhenLastChecked=i}}},{key:"_injectOfflineToast",value:function(){if(!document.getElementById("connection-toast-wrapper")){var e=document.createElement("div"),t=this._context.i18n,n=t(u),o=t(d);e.innerHTML="<div id='connection-toast-wrapper' style='visibility:hidden; z-index:10; position: fixed; transform: translateY(300px);bottom: 10px; left: 10px; right: 10px; height: 50px; padding: 5px 15px;background-color: #3c3c3c; color: #fff; transition: opacity 0.5s ease;'>\n                <div id='online-toast' role='dialog' aria-label='"+n+"' style='"+f+"'>\n                    "+n+"\n                </div>\n                <div id='offline-toast' role='dialog' aria-label='"+o+"' style='"+f+"'>\n                    "+o+"\n                </div>\n            </div>",document.body.appendChild(e),this._toastWrapper=document.getElementById("connection-toast-wrapper"),this._onlineToastNode=document.getElementById("online-toast"),this._offlineToastNode=document.getElementById("offline-toast")}}},{key:"_setDisplay",value:function(e,t){Object.assign(e.style,{opacity:t?1:0,visibility:t?"visible":"hidden"})}}]),e}();t.default=m,e.exports=t.default},"../homepage-pwa/src/util/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.constructBeaconUrl=function(e,t){return e&&t?"/_td_api/beacon/"+e+"?"+Object.keys(t).reduce(function(e,n){var o=t[n];return o&&(e=e+(e?"&":"")+n+"="+o),e},""):""},t.ready=function(e){document.attachEvent&&void 0!==document.attachEvent?document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&e()}):"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,{capture:!1,passive:!0}):e()},t.mergeConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.keys(e).forEach(function(o){n[o]=Object.assign({},e[o],t[o])}),n},t.debounce=function(e,t,n){var o=void 0;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(o),o=setTimeout(function(){e.apply(n,i)},t)}},t.transformProperty=function(){if("undefined"!=typeof document){if("string"==typeof document.documentElement.style.transform)return"transform"}return"WebkitTransform"}(),t.chromeVersion=function(){if("undefined"!=typeof window){var e=window,t=e.navigator,n=t&&t.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!n&&parseInt(n[2],10)}return!1}()},"./src/base.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=window.YAHOO&&window.YAHOO.homepageClientConfig,i=void 0;r&&!window.hpClientInstance&&(i=window.hpClientInstance=new((o||function(){return o=n("../homepage-pwa/src/base.js")}()).PWA)(r)),t.default=i,e.exports=t.default}})});